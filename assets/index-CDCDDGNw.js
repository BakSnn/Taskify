(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function xA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var yd={exports:{}},fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function zA(){if(ry)return fl;ry=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:c}}return fl.Fragment=t,fl.jsx=n,fl.jsxs=n,fl}var sy;function BA(){return sy||(sy=1,yd.exports=zA()),yd.exports}var pt=BA(),vd={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function HA(){if(ay)return St;ay=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.iterator;function k(D){return D===null||typeof D!="object"?null:(D=C&&D[C]||D["@@iterator"],typeof D=="function"?D:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,Z={};function $(D,Y,at){this.props=D,this.context=Y,this.refs=Z,this.updater=at||H}$.prototype.isReactComponent={},$.prototype.setState=function(D,Y){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Y,"setState")},$.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Tt(){}Tt.prototype=$.prototype;function ft(D,Y,at){this.props=D,this.context=Y,this.refs=Z,this.updater=at||H}var _t=ft.prototype=new Tt;_t.constructor=ft,X(_t,$.prototype),_t.isPureReactComponent=!0;var Ht=Array.isArray,yt={H:null,A:null,T:null,S:null},Ct=Object.prototype.hasOwnProperty;function M(D,Y,at,tt,et,bt){return at=bt.ref,{$$typeof:r,type:D,key:Y,ref:at!==void 0?at:null,props:bt}}function w(D,Y){return M(D.type,Y,void 0,void 0,void 0,D.props)}function S(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function I(D){var Y={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(at){return Y[at]})}var V=/\/+/g;function L(D,Y){return typeof D=="object"&&D!==null&&D.key!=null?I(""+D.key):Y.toString(36)}function R(){}function _e(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(Y){D.status==="pending"&&(D.status="fulfilled",D.value=Y)},function(Y){D.status==="pending"&&(D.status="rejected",D.reason=Y)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ce(D,Y,at,tt,et){var bt=typeof D;(bt==="undefined"||bt==="boolean")&&(D=null);var At=!1;if(D===null)At=!0;else switch(bt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(D.$$typeof){case r:case t:At=!0;break;case A:return At=D._init,ce(At(D._payload),Y,at,tt,et)}}if(At)return et=et(D),At=tt===""?"."+L(D,0):tt,Ht(et)?(at="",At!=null&&(at=At.replace(V,"$&/")+"/"),ce(et,Y,at,"",function(ne){return ne})):et!=null&&(S(et)&&(et=w(et,at+(et.key==null||D&&D.key===et.key?"":(""+et.key).replace(V,"$&/")+"/")+At)),Y.push(et)),1;At=0;var he=tt===""?".":tt+":";if(Ht(D))for(var Lt=0;Lt<D.length;Lt++)tt=D[Lt],bt=he+L(tt,Lt),At+=ce(tt,Y,at,bt,et);else if(Lt=k(D),typeof Lt=="function")for(D=Lt.call(D),Lt=0;!(tt=D.next()).done;)tt=tt.value,bt=he+L(tt,Lt++),At+=ce(tt,Y,at,bt,et);else if(bt==="object"){if(typeof D.then=="function")return ce(_e(D),Y,at,tt,et);throw Y=String(D),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return At}function J(D,Y,at){if(D==null)return D;var tt=[],et=0;return ce(D,tt,"","",function(bt){return Y.call(at,bt,et++)}),tt}function dt(D){if(D._status===-1){var Y=D._result;Y=Y(),Y.then(function(at){(D._status===0||D._status===-1)&&(D._status=1,D._result=at)},function(at){(D._status===0||D._status===-1)&&(D._status=2,D._result=at)}),D._status===-1&&(D._status=0,D._result=Y)}if(D._status===1)return D._result.default;throw D._result}var lt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function qt(){}return St.Children={map:J,forEach:function(D,Y,at){J(D,function(){Y.apply(this,arguments)},at)},count:function(D){var Y=0;return J(D,function(){Y++}),Y},toArray:function(D){return J(D,function(Y){return Y})||[]},only:function(D){if(!S(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},St.Component=$,St.Fragment=n,St.Profiler=o,St.PureComponent=ft,St.StrictMode=s,St.Suspense=g,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=yt,St.act=function(){throw Error("act(...) is not supported in production builds of React.")},St.cache=function(D){return function(){return D.apply(null,arguments)}},St.cloneElement=function(D,Y,at){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var tt=X({},D.props),et=D.key,bt=void 0;if(Y!=null)for(At in Y.ref!==void 0&&(bt=void 0),Y.key!==void 0&&(et=""+Y.key),Y)!Ct.call(Y,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Y.ref===void 0||(tt[At]=Y[At]);var At=arguments.length-2;if(At===1)tt.children=at;else if(1<At){for(var he=Array(At),Lt=0;Lt<At;Lt++)he[Lt]=arguments[Lt+2];tt.children=he}return M(D.type,et,void 0,void 0,bt,tt)},St.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},St.createElement=function(D,Y,at){var tt,et={},bt=null;if(Y!=null)for(tt in Y.key!==void 0&&(bt=""+Y.key),Y)Ct.call(Y,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(et[tt]=Y[tt]);var At=arguments.length-2;if(At===1)et.children=at;else if(1<At){for(var he=Array(At),Lt=0;Lt<At;Lt++)he[Lt]=arguments[Lt+2];et.children=he}if(D&&D.defaultProps)for(tt in At=D.defaultProps,At)et[tt]===void 0&&(et[tt]=At[tt]);return M(D,bt,void 0,void 0,null,et)},St.createRef=function(){return{current:null}},St.forwardRef=function(D){return{$$typeof:p,render:D}},St.isValidElement=S,St.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:dt}},St.memo=function(D,Y){return{$$typeof:_,type:D,compare:Y===void 0?null:Y}},St.startTransition=function(D){var Y=yt.T,at={};yt.T=at;try{var tt=D(),et=yt.S;et!==null&&et(at,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(qt,lt)}catch(bt){lt(bt)}finally{yt.T=Y}},St.unstable_useCacheRefresh=function(){return yt.H.useCacheRefresh()},St.use=function(D){return yt.H.use(D)},St.useActionState=function(D,Y,at){return yt.H.useActionState(D,Y,at)},St.useCallback=function(D,Y){return yt.H.useCallback(D,Y)},St.useContext=function(D){return yt.H.useContext(D)},St.useDebugValue=function(){},St.useDeferredValue=function(D,Y){return yt.H.useDeferredValue(D,Y)},St.useEffect=function(D,Y){return yt.H.useEffect(D,Y)},St.useId=function(){return yt.H.useId()},St.useImperativeHandle=function(D,Y,at){return yt.H.useImperativeHandle(D,Y,at)},St.useInsertionEffect=function(D,Y){return yt.H.useInsertionEffect(D,Y)},St.useLayoutEffect=function(D,Y){return yt.H.useLayoutEffect(D,Y)},St.useMemo=function(D,Y){return yt.H.useMemo(D,Y)},St.useOptimistic=function(D,Y){return yt.H.useOptimistic(D,Y)},St.useReducer=function(D,Y,at){return yt.H.useReducer(D,Y,at)},St.useRef=function(D){return yt.H.useRef(D)},St.useState=function(D){return yt.H.useState(D)},St.useSyncExternalStore=function(D,Y,at){return yt.H.useSyncExternalStore(D,Y,at)},St.useTransition=function(){return yt.H.useTransition()},St.version="19.0.0",St}var oy;function um(){return oy||(oy=1,vd.exports=HA()),vd.exports}var mn=um();const Ps=xA(mn);var Ed={exports:{}},dl={},Td={exports:{}},Ad={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function qA(){return ly||(ly=1,function(r){function t(J,dt){var lt=J.length;J.push(dt);t:for(;0<lt;){var qt=lt-1>>>1,D=J[qt];if(0<o(D,dt))J[qt]=dt,J[lt]=D,lt=qt;else break t}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var dt=J[0],lt=J.pop();if(lt!==dt){J[0]=lt;t:for(var qt=0,D=J.length,Y=D>>>1;qt<Y;){var at=2*(qt+1)-1,tt=J[at],et=at+1,bt=J[et];if(0>o(tt,lt))et<D&&0>o(bt,tt)?(J[qt]=bt,J[et]=lt,qt=et):(J[qt]=tt,J[at]=lt,qt=at);else if(et<D&&0>o(bt,lt))J[qt]=bt,J[et]=lt,qt=et;else break t}}return dt}function o(J,dt){var lt=J.sortIndex-dt.sortIndex;return lt!==0?lt:J.id-dt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var g=[],_=[],A=1,C=null,k=3,H=!1,X=!1,Z=!1,$=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function _t(J){for(var dt=n(_);dt!==null;){if(dt.callback===null)s(_);else if(dt.startTime<=J)s(_),dt.sortIndex=dt.expirationTime,t(g,dt);else break;dt=n(_)}}function Ht(J){if(Z=!1,_t(J),!X)if(n(g)!==null)X=!0,_e();else{var dt=n(_);dt!==null&&ce(Ht,dt.startTime-J)}}var yt=!1,Ct=-1,M=5,w=-1;function S(){return!(r.unstable_now()-w<M)}function I(){if(yt){var J=r.unstable_now();w=J;var dt=!0;try{t:{X=!1,Z&&(Z=!1,Tt(Ct),Ct=-1),H=!0;var lt=k;try{e:{for(_t(J),C=n(g);C!==null&&!(C.expirationTime>J&&S());){var qt=C.callback;if(typeof qt=="function"){C.callback=null,k=C.priorityLevel;var D=qt(C.expirationTime<=J);if(J=r.unstable_now(),typeof D=="function"){C.callback=D,_t(J),dt=!0;break e}C===n(g)&&s(g),_t(J)}else s(g);C=n(g)}if(C!==null)dt=!0;else{var Y=n(_);Y!==null&&ce(Ht,Y.startTime-J),dt=!1}}break t}finally{C=null,k=lt,H=!1}dt=void 0}}finally{dt?V():yt=!1}}}var V;if(typeof ft=="function")V=function(){ft(I)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,R=L.port2;L.port1.onmessage=I,V=function(){R.postMessage(null)}}else V=function(){$(I,0)};function _e(){yt||(yt=!0,V())}function ce(J,dt){Ct=$(function(){J(r.unstable_now())},dt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(J){J.callback=null},r.unstable_continueExecution=function(){X||H||(X=!0,_e())},r.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<J?Math.floor(1e3/J):5},r.unstable_getCurrentPriorityLevel=function(){return k},r.unstable_getFirstCallbackNode=function(){return n(g)},r.unstable_next=function(J){switch(k){case 1:case 2:case 3:var dt=3;break;default:dt=k}var lt=k;k=dt;try{return J()}finally{k=lt}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(J,dt){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var lt=k;k=J;try{return dt()}finally{k=lt}},r.unstable_scheduleCallback=function(J,dt,lt){var qt=r.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?qt+lt:qt):lt=qt,J){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=lt+D,J={id:A++,callback:dt,priorityLevel:J,startTime:lt,expirationTime:D,sortIndex:-1},lt>qt?(J.sortIndex=lt,t(_,J),n(g)===null&&J===n(_)&&(Z?(Tt(Ct),Ct=-1):Z=!0,ce(Ht,lt-qt))):(J.sortIndex=D,t(g,J),X||H||(X=!0,_e())),J},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(J){var dt=k;return function(){var lt=k;k=dt;try{return J.apply(this,arguments)}finally{k=lt}}}}(Ad)),Ad}var uy;function jA(){return uy||(uy=1,Td.exports=qA()),Td.exports}var Sd={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function FA(){if(cy)return Fe;cy=1;var r=um();function t(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,_,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:C==null?null:""+C,children:g,containerInfo:_,implementation:A}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(g,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(g,_,null,A)},Fe.flushSync=function(g){var _=f.T,A=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=_,s.p=A,s.d.f()}},Fe.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(g,_))},Fe.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Fe.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var A=_.as,C=p(A,_.crossOrigin),k=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:C,integrity:k,fetchPriority:H}):A==="script"&&s.d.X(g,{crossOrigin:C,integrity:k,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Fe.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);s.d.M(g,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(g)},Fe.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,C=p(A,_.crossOrigin);s.d.L(g,A,{crossOrigin:C,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Fe.preloadModule=function(g,_){if(typeof g=="string")if(_){var A=p(_.as,_.crossOrigin);s.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(g)},Fe.requestFormReset=function(g){s.d.r(g)},Fe.unstable_batchedUpdates=function(g,_){return g(_)},Fe.useFormState=function(g,_,A){return f.H.useFormState(g,_,A)},Fe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Fe.version="19.0.0",Fe}var hy;function GA(){if(hy)return Sd.exports;hy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Sd.exports=FA(),Sd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function KA(){if(fy)return dl;fy=1;var r=jA(),t=um(),n=GA();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var c=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),H=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),Tt=Symbol.for("react.memo"),ft=Symbol.for("react.lazy"),_t=Symbol.for("react.offscreen"),Ht=Symbol.for("react.memo_cache_sentinel"),yt=Symbol.iterator;function Ct(e){return e===null||typeof e!="object"?null:(e=yt&&e[yt]||e["@@iterator"],typeof e=="function"?e:null)}var M=Symbol.for("react.client.reference");function w(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===M?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case g:return"Fragment";case p:return"Portal";case A:return"Profiler";case _:return"StrictMode";case Z:return"Suspense";case $:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case H:return(e.displayName||"Context")+".Provider";case k:return(e._context.displayName||"Context")+".Consumer";case X:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tt:return i=e.displayName||null,i!==null?i:w(e.type)||"Memo";case ft:i=e._payload,e=e._init;try{return w(e(i))}catch{}}return null}var S=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,V,L;function R(e){if(V===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);V=i&&i[1]||"",L=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+e+L}var _e=!1;function ce(e,i){if(!e||_e)return"";_e=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var z=q}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(q){z=q}e.call(Q.prototype)}}else{try{throw Error()}catch(q){z=q}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var b=v.split(`
`),N=E.split(`
`);for(h=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;h<N.length&&!N[h].includes("DetermineComponentFrameRoot");)h++;if(l===b.length||h===N.length)for(l=b.length-1,h=N.length-1;1<=l&&0<=h&&b[l]!==N[h];)h--;for(;1<=l&&0<=h;l--,h--)if(b[l]!==N[h]){if(l!==1||h!==1)do if(l--,h--,0>h||b[l]!==N[h]){var j=`
`+b[l].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=l&&0<=h);break}}}finally{_e=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?R(a):""}function J(e){switch(e.tag){case 26:case 27:case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 15:return e=ce(e.type,!1),e;case 11:return e=ce(e.type.render,!1),e;case 1:return e=ce(e.type,!0),e;default:return""}}function dt(e){try{var i="";do i+=J(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function lt(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function qt(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function D(e){if(lt(e)!==e)throw Error(s(188))}function Y(e){var i=e.alternate;if(!i){if(i=lt(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return D(h),e;if(d===l)return D(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,l=d;break}if(E===l){v=!0,l=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,l=h;break}if(E===l){v=!0,l=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function at(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=at(e),i!==null)return i;e=e.sibling}return null}var tt=Array.isArray,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bt={pending:!1,data:null,method:null,action:null},At=[],he=-1;function Lt(e){return{current:e}}function ne(e){0>he||(e.current=At[he],At[he]=null,he--)}function Gt(e,i){he++,At[he]=e.current,e.current=i}var Xe=Lt(null),fi=Lt(null),_n=Lt(null),Yi=Lt(null);function Xi(e,i){switch(Gt(_n,i),Gt(fi,e),Gt(Xe,null),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?M_(i):0;break;default:if(e=e===8?i.parentNode:i,i=e.tagName,e=e.namespaceURI)e=M_(e),i=P_(e,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ne(Xe),Gt(Xe,i)}function di(){ne(Xe),ne(fi),ne(_n)}function ao(e){e.memoizedState!==null&&Gt(Yi,e);var i=Xe.current,a=P_(i,e.type);i!==a&&(Gt(fi,e),Gt(Xe,a))}function Gs(e){fi.current===e&&(ne(Xe),ne(fi)),Yi.current===e&&(ne(Yi),ol._currentValue=bt)}var Ks=Object.prototype.hasOwnProperty,ts=r.unstable_scheduleCallback,Qs=r.unstable_cancelCallback,vh=r.unstable_shouldYield,oo=r.unstable_requestPaint,en=r.unstable_now,Kl=r.unstable_getCurrentPriorityLevel,ye=r.unstable_ImmediatePriority,Re=r.unstable_UserBlockingPriority,mi=r.unstable_NormalPriority,Ql=r.unstable_LowPriority,lo=r.unstable_IdlePriority,Eh=r.log,es=r.unstable_setDisableYieldValue,$i=null,qe=null;function uo(e){if(qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot($i,e,void 0,(e.current.flags&128)===128)}catch{}}function Fn(e){if(typeof Eh=="function"&&es(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode($i,e)}catch{}}var $e=Math.clz32?Math.clz32:Xl,co=Math.log,Yl=Math.LN2;function Xl(e){return e>>>=0,e===0?32:31-(co(e)/Yl|0)|0}var Gn=128,Wi=4194304;function kn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function yn(e,i){var a=e.pendingLanes;if(a===0)return 0;var l=0,h=e.suspendedLanes,d=e.pingedLanes,v=e.warmLanes;e=e.finishedLanes!==0;var E=a&134217727;return E!==0?(a=E&~h,a!==0?l=kn(a):(d&=E,d!==0?l=kn(d):e||(v=E&~v,v!==0&&(l=kn(v))))):(E=a&~h,E!==0?l=kn(E):d!==0?l=kn(d):e||(v=a&~v,v!==0&&(l=kn(v)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:l}function Zi(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Ys(e,i){switch(e){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ho(){var e=Gn;return Gn<<=1,(Gn&4194176)===0&&(Gn=128),e}function Ji(){var e=Wi;return Wi<<=1,(Wi&62914560)===0&&(Wi=4194304),e}function Xs(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function oe(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $l(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,N=e.hiddenUpdates;for(a=v&~a;0<a;){var j=31-$e(a),Q=1<<j;E[j]=0,b[j]=-1;var z=N[j];if(z!==null)for(N[j]=null,j=0;j<z.length;j++){var q=z[j];q!==null&&(q.lane&=-536870913)}a&=~Q}l!==0&&tr(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function tr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-$e(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194218}function er(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-$e(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Wl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Zl(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:Z_(e.type))}function nr(e,i){var a=et.p;try{return et.p=e,i()}finally{et.p=a}}var Kn=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Kn,ve="__reactProps$"+Kn,pi="__reactContainer$"+Kn,ns="__reactEvents$"+Kn,$s="__reactListeners$"+Kn,Qn="__reactHandles$"+Kn,fo="__reactResources$"+Kn,ir="__reactMarker$"+Kn;function is(e){delete e[Ie],delete e[ve],delete e[ns],delete e[$s],delete e[Qn]}function Un(e){var i=e[Ie];if(i)return i;for(var a=e.parentNode;a;){if(i=a[pi]||a[Ie]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=L_(e);e!==null;){if(a=e[Ie])return a;e=L_(e)}return i}e=a,a=e.parentNode}return null}function gi(e){if(e=e[Ie]||e[pi]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function rr(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function sr(e){var i=e[fo];return i||(i=e[fo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Zt(e){e[ir]=!0}var mo=new Set,Ws={};function on(e,i){nn(e,i),nn(e+"Capture",i)}function nn(e,i){for(Ws[e]=i,e=0;e<i.length;e++)mo.add(i[e])}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Th=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),po={},go={};function Jl(e){return Ks.call(go,e)?!0:Ks.call(po,e)?!1:Th.test(e)?go[e]=!0:(po[e]=!0,!1)}function ar(e,i,a){if(Jl(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function or(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function vn(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function We(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tu(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ah(e){var i=tu(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function rs(e){e._valueTracker||(e._valueTracker=Ah(e))}function _o(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=tu(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Zs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _i=/[\n"\\]/g;function ie(e){return e.replace(_i,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function lr(e,i,a,l,h,d,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+We(i)):e.value!==""+We(i)&&(e.value=""+We(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Js(e,v,We(i)):a!=null?Js(e,v,We(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+We(E):e.removeAttribute("name")}function ss(e,i,a,l,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+We(a):"",i=i!=null?""+We(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Js(e,i,a){i==="number"&&Zs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function xt(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+We(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function as(e,i,a){if(i!=null&&(i=""+We(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+We(a):""}function ur(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(tt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=We(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function En(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Sh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Sh.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function eu(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&yo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&yo(e,d,i[d])}function vo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yn(e){return wh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tn=null;function ta(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yi=null,vi=null;function Ei(e){var i=gi(e);if(i&&(e=i.stateNode)){var a=e[ve]||null;t:switch(e=i.stateNode,i.type){case"input":if(lr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ie(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[ve]||null;if(!h)throw Error(s(90));lr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&_o(l)}break t;case"textarea":as(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&xt(e,!!a.multiple,i,!1)}}}var Eo=!1;function nu(e,i,a){if(Eo)return e(i,a);Eo=!0;try{var l=e(i);return l}finally{if(Eo=!1,(yi!==null||vi!==null)&&(Qu(),yi&&(i=yi,e=vi,vi=yi=null,Ei(i),e)))for(i=0;i<e.length;i++)Ei(e[i])}}function os(e,i){var a=e.stateNode;if(a===null)return null;var l=a[ve]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var An=!1;if(ln)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){An=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{An=!1}var Xn=null,cr=null,Ti=null;function To(){if(Ti)return Ti;var e,i=cr,a=i.length,l,h="value"in Xn?Xn.value:Xn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ti=h.slice(e,1<l?1-l:void 0)}function $n(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Wn(){return!0}function Ao(){return!1}function Ce(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Wn:Ao,this.isPropagationStopped=Ao,this}return I(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),i}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=Ce(jt),us=I({},jt,{view:0,detail:0}),iu=Ce(us),na,ia,Zn,cs=I({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zn&&(Zn&&e.type==="mousemove"?(na=e.screenX-Zn.screenX,ia=e.screenY-Zn.screenY):ia=na=0,Zn=e),na)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),Sn=Ce(cs),ru=I({},cs,{dataTransfer:0}),Rh=Ce(ru),hs=I({},us,{relatedTarget:0}),ra=Ce(hs),So=I({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),sa=Ce(So),su=I({},jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aa=Ce(su),Ih=I({},jt,{data:0}),bo=Ce(Ih),fs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=ou[e])?!!i[e]:!1}function ds(){return wo}var lu=I({},us,{key:function(e){if(e.key){var i=fs[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=$n(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?au[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(e){return e.type==="keypress"?$n(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$n(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oa=Ce(lu),uu=I({},cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ro=Ce(uu),Ai=I({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),cu=Ce(Ai),hu=I({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),fu=Ce(hu),du=I({},cs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),la=Ce(du),Ze=I({},jt,{newState:0,oldState:0}),mu=Ce(Ze),pu=[9,13,27,32],Jn=ln&&"CompositionEvent"in window,u=null;ln&&"documentMode"in document&&(u=document.documentMode);var m=ln&&"TextEvent"in window&&!u,y=ln&&(!Jn||u&&8<u&&11>=u),T=" ",U=!1;function B(e,i){switch(e){case"keyup":return pu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mt=!1;function Ee(e,i){switch(e){case"compositionend":return W(i);case"keypress":return i.which!==32?null:(U=!0,T);case"textInput":return e=i.data,e===T&&U?null:e;default:return null}}function Pt(e,i){if(Mt)return e==="compositionend"||!Jn&&B(e,i)?(e=To(),Ti=cr=Xn=null,Mt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!De[e.type]:i==="textarea"}function Si(e,i,a,l){yi?vi?vi.push(l):vi=[l]:yi=l,i=Zu(i,"onChange"),0<i.length&&(a=new ea("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var ke=null,ti=null;function Io(e){C_(e,0)}function gu(e){var i=rr(e);if(_o(i))return e}function ip(e,i){if(e==="change")return i}var rp=!1;if(ln){var Ch;if(ln){var Dh="oninput"in document;if(!Dh){var sp=document.createElement("div");sp.setAttribute("oninput","return;"),Dh=typeof sp.oninput=="function"}Ch=Dh}else Ch=!1;rp=Ch&&(!document.documentMode||9<document.documentMode)}function ap(){ke&&(ke.detachEvent("onpropertychange",op),ti=ke=null)}function op(e){if(e.propertyName==="value"&&gu(ti)){var i=[];Si(i,ti,e,ta(e)),nu(Io,i)}}function mT(e,i,a){e==="focusin"?(ap(),ke=i,ti=a,ke.attachEvent("onpropertychange",op)):e==="focusout"&&ap()}function pT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gu(ti)}function gT(e,i){if(e==="click")return gu(i)}function _T(e,i){if(e==="input"||e==="change")return gu(i)}function yT(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var un=typeof Object.is=="function"?Object.is:yT;function Co(e,i){if(un(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ks.call(i,h)||!un(e[h],i[h]))return!1}return!0}function lp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function up(e,i){var a=lp(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=lp(a)}}function cp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?cp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function hp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Zs(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Zs(e.document)}return i}function Oh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function vT(e,i){var a=hp(i);i=e.focusedElem;var l=e.selectionRange;if(a!==i&&i&&i.ownerDocument&&cp(i.ownerDocument.documentElement,i)){if(l!==null&&Oh(i)){if(e=l.start,a=l.end,a===void 0&&(a=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(a,i.value.length);else if(a=(e=i.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=up(i,d);var v=up(i,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(e),a.extend(v.node,v.offset)):(e.setEnd(v.node,v.offset),a.addRange(e)))}}for(e=[],a=i;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)a=e[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var ET=ln&&"documentMode"in document&&11>=document.documentMode,ua=null,Nh=null,Do=null,Vh=!1;function fp(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Vh||ua==null||ua!==Zs(l)||(l=ua,"selectionStart"in l&&Oh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Do&&Co(Do,l)||(Do=l,l=Zu(Nh,"onSelect"),0<l.length&&(i=new ea("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=ua)))}function ms(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ca={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionrun:ms("Transition","TransitionRun"),transitionstart:ms("Transition","TransitionStart"),transitioncancel:ms("Transition","TransitionCancel"),transitionend:ms("Transition","TransitionEnd")},Mh={},dp={};ln&&(dp=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function ps(e){if(Mh[e])return Mh[e];if(!ca[e])return e;var i=ca[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in dp)return Mh[e]=i[a];return e}var mp=ps("animationend"),pp=ps("animationiteration"),gp=ps("animationstart"),TT=ps("transitionrun"),AT=ps("transitionstart"),ST=ps("transitioncancel"),_p=ps("transitionend"),yp=new Map,vp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ln(e,i){yp.set(e,i),on(i,[e])}var bn=[],ha=0,Ph=0;function _u(){for(var e=ha,i=Ph=ha=0;i<e;){var a=bn[i];bn[i++]=null;var l=bn[i];bn[i++]=null;var h=bn[i];bn[i++]=null;var d=bn[i];if(bn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Ep(a,h,d)}}function yu(e,i,a,l){bn[ha++]=e,bn[ha++]=i,bn[ha++]=a,bn[ha++]=l,Ph|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function kh(e,i,a,l){return yu(e,i,a,l),vu(e)}function hr(e,i){return yu(e,null,null,i),vu(e)}function Ep(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;h&&i!==null&&e.tag===3&&(d=e.stateNode,h=31-$e(a),d=d.hiddenUpdates,e=d[h],e===null?d[h]=[i]:e.push(i),i.lane=a|536870912)}function vu(e){if(50<tl)throw tl=0,qf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var fa={},Tp=new WeakMap;function wn(e,i){if(typeof e=="object"&&e!==null){var a=Tp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:dt(i)},Tp.set(e,i),i)}return{value:e,source:i,stack:dt(i)}}var da=[],ma=0,Eu=null,Tu=0,Rn=[],In=0,gs=null,bi=1,wi="";function _s(e,i){da[ma++]=Tu,da[ma++]=Eu,Eu=e,Tu=i}function Ap(e,i,a){Rn[In++]=bi,Rn[In++]=wi,Rn[In++]=gs,gs=e;var l=bi;e=wi;var h=32-$e(l)-1;l&=~(1<<h),a+=1;var d=32-$e(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,bi=1<<32-$e(i)+h|a<<h|l,wi=d+e}else bi=1<<d|a<<h|l,wi=e}function Uh(e){e.return!==null&&(_s(e,1),Ap(e,1,0))}function Lh(e){for(;e===Eu;)Eu=da[--ma],da[ma]=null,Tu=da[--ma],da[ma]=null;for(;e===gs;)gs=Rn[--In],Rn[In]=null,wi=Rn[--In],Rn[In]=null,bi=Rn[--In],Rn[In]=null}var Je=null,Ue=null,zt=!1,xn=null,ei=!1,xh=Error(s(519));function ys(e){var i=Error(s(418,""));throw Vo(wn(i,e)),xh}function Sp(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Ie]=e,i[ve]=l,a){case"dialog":Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":case"embed":Nt("load",i);break;case"video":case"audio":for(a=0;a<nl.length;a++)Nt(nl[a],i);break;case"source":Nt("error",i);break;case"img":case"image":case"link":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"input":Nt("invalid",i),ss(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),rs(i);break;case"select":Nt("invalid",i);break;case"textarea":Nt("invalid",i),ur(i,l.value,l.defaultValue,l.children),rs(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||V_(i.textContent,a)?(l.popover!=null&&(Nt("beforetoggle",i),Nt("toggle",i)),l.onScroll!=null&&Nt("scroll",i),l.onScrollEnd!=null&&Nt("scrollend",i),l.onClick!=null&&(i.onclick=Ju),i=!0):i=!1,i||ys(e)}function bp(e){for(Je=e.return;Je;)switch(Je.tag){case 3:case 27:ei=!0;return;case 5:case 13:ei=!1;return;default:Je=Je.return}}function Oo(e){if(e!==Je)return!1;if(!zt)return bp(e),zt=!0,!1;var i=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||sd(e.type,e.memoizedProps)),a=!a),a&&(i=!0),i&&Ue&&ys(e),bp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){Ue=Bn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}Ue=null}}else Ue=Je?Bn(e.stateNode.nextSibling):null;return!0}function No(){Ue=Je=null,zt=!1}function Vo(e){xn===null?xn=[e]:xn.push(e)}var Mo=Error(s(460)),wp=Error(s(474)),zh={then:function(){}};function Rp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Au(){}function Ip(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Au,Au),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Mo?Error(s(483)):e;default:if(typeof i.status=="string")i.then(Au,Au);else{if(e=Xt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Mo?Error(s(483)):e}throw Po=i,Mo}}var Po=null;function Cp(){if(Po===null)throw Error(s(459));var e=Po;return Po=null,e}var pa=null,ko=0;function Su(e){var i=ko;return ko+=1,pa===null&&(pa=[]),Ip(pa,e,i)}function Uo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function bu(e,i){throw i.$$typeof===c?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Dp(e){var i=e._init;return i(e._payload)}function Op(e){function i(P,O){if(e){var x=P.deletions;x===null?(P.deletions=[O],P.flags|=16):x.push(O)}}function a(P,O){if(!e)return null;for(;O!==null;)i(P,O),O=O.sibling;return null}function l(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(P,O){return P=Sr(P,O),P.index=0,P.sibling=null,P}function d(P,O,x){return P.index=x,e?(x=P.alternate,x!==null?(x=x.index,x<O?(P.flags|=33554434,O):x):(P.flags|=33554434,O)):(P.flags|=1048576,O)}function v(P){return e&&P.alternate===null&&(P.flags|=33554434),P}function E(P,O,x,F){return O===null||O.tag!==6?(O=Pf(x,P.mode,F),O.return=P,O):(O=h(O,x),O.return=P,O)}function b(P,O,x,F){var it=x.type;return it===g?j(P,O,x.props.children,F,x.key):O!==null&&(O.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===ft&&Dp(it)===O.type)?(O=h(O,x.props),Uo(O,x),O.return=P,O):(O=qu(x.type,x.key,x.props,null,P.mode,F),Uo(O,x),O.return=P,O)}function N(P,O,x,F){return O===null||O.tag!==4||O.stateNode.containerInfo!==x.containerInfo||O.stateNode.implementation!==x.implementation?(O=kf(x,P.mode,F),O.return=P,O):(O=h(O,x.children||[]),O.return=P,O)}function j(P,O,x,F,it){return O===null||O.tag!==7?(O=Cs(x,P.mode,F,it),O.return=P,O):(O=h(O,x),O.return=P,O)}function Q(P,O,x){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Pf(""+O,P.mode,x),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case f:return x=qu(O.type,O.key,O.props,null,P.mode,x),Uo(x,O),x.return=P,x;case p:return O=kf(O,P.mode,x),O.return=P,O;case ft:var F=O._init;return O=F(O._payload),Q(P,O,x)}if(tt(O)||Ct(O))return O=Cs(O,P.mode,x,null),O.return=P,O;if(typeof O.then=="function")return Q(P,Su(O),x);if(O.$$typeof===H)return Q(P,zu(P,O),x);bu(P,O)}return null}function z(P,O,x,F){var it=O!==null?O.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return it!==null?null:E(P,O,""+x,F);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case f:return x.key===it?b(P,O,x,F):null;case p:return x.key===it?N(P,O,x,F):null;case ft:return it=x._init,x=it(x._payload),z(P,O,x,F)}if(tt(x)||Ct(x))return it!==null?null:j(P,O,x,F,null);if(typeof x.then=="function")return z(P,O,Su(x),F);if(x.$$typeof===H)return z(P,O,zu(P,x),F);bu(P,x)}return null}function q(P,O,x,F,it){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return P=P.get(x)||null,E(O,P,""+F,it);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case f:return P=P.get(F.key===null?x:F.key)||null,b(O,P,F,it);case p:return P=P.get(F.key===null?x:F.key)||null,N(O,P,F,it);case ft:var Rt=F._init;return F=Rt(F._payload),q(P,O,x,F,it)}if(tt(F)||Ct(F))return P=P.get(x)||null,j(O,P,F,it,null);if(typeof F.then=="function")return q(P,O,x,Su(F),it);if(F.$$typeof===H)return q(P,O,x,zu(O,F),it);bu(O,F)}return null}function st(P,O,x,F){for(var it=null,Rt=null,ot=O,ct=O=0,Ve=null;ot!==null&&ct<x.length;ct++){ot.index>ct?(Ve=ot,ot=null):Ve=ot.sibling;var Bt=z(P,ot,x[ct],F);if(Bt===null){ot===null&&(ot=Ve);break}e&&ot&&Bt.alternate===null&&i(P,ot),O=d(Bt,O,ct),Rt===null?it=Bt:Rt.sibling=Bt,Rt=Bt,ot=Ve}if(ct===x.length)return a(P,ot),zt&&_s(P,ct),it;if(ot===null){for(;ct<x.length;ct++)ot=Q(P,x[ct],F),ot!==null&&(O=d(ot,O,ct),Rt===null?it=ot:Rt.sibling=ot,Rt=ot);return zt&&_s(P,ct),it}for(ot=l(ot);ct<x.length;ct++)Ve=q(ot,P,ct,x[ct],F),Ve!==null&&(e&&Ve.alternate!==null&&ot.delete(Ve.key===null?ct:Ve.key),O=d(Ve,O,ct),Rt===null?it=Ve:Rt.sibling=Ve,Rt=Ve);return e&&ot.forEach(function(Or){return i(P,Or)}),zt&&_s(P,ct),it}function vt(P,O,x,F){if(x==null)throw Error(s(151));for(var it=null,Rt=null,ot=O,ct=O=0,Ve=null,Bt=x.next();ot!==null&&!Bt.done;ct++,Bt=x.next()){ot.index>ct?(Ve=ot,ot=null):Ve=ot.sibling;var Or=z(P,ot,Bt.value,F);if(Or===null){ot===null&&(ot=Ve);break}e&&ot&&Or.alternate===null&&i(P,ot),O=d(Or,O,ct),Rt===null?it=Or:Rt.sibling=Or,Rt=Or,ot=Ve}if(Bt.done)return a(P,ot),zt&&_s(P,ct),it;if(ot===null){for(;!Bt.done;ct++,Bt=x.next())Bt=Q(P,Bt.value,F),Bt!==null&&(O=d(Bt,O,ct),Rt===null?it=Bt:Rt.sibling=Bt,Rt=Bt);return zt&&_s(P,ct),it}for(ot=l(ot);!Bt.done;ct++,Bt=x.next())Bt=q(ot,P,ct,Bt.value,F),Bt!==null&&(e&&Bt.alternate!==null&&ot.delete(Bt.key===null?ct:Bt.key),O=d(Bt,O,ct),Rt===null?it=Bt:Rt.sibling=Bt,Rt=Bt);return e&&ot.forEach(function(LA){return i(P,LA)}),zt&&_s(P,ct),it}function ae(P,O,x,F){if(typeof x=="object"&&x!==null&&x.type===g&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case f:t:{for(var it=x.key;O!==null;){if(O.key===it){if(it=x.type,it===g){if(O.tag===7){a(P,O.sibling),F=h(O,x.props.children),F.return=P,P=F;break t}}else if(O.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===ft&&Dp(it)===O.type){a(P,O.sibling),F=h(O,x.props),Uo(F,x),F.return=P,P=F;break t}a(P,O);break}else i(P,O);O=O.sibling}x.type===g?(F=Cs(x.props.children,P.mode,F,x.key),F.return=P,P=F):(F=qu(x.type,x.key,x.props,null,P.mode,F),Uo(F,x),F.return=P,P=F)}return v(P);case p:t:{for(it=x.key;O!==null;){if(O.key===it)if(O.tag===4&&O.stateNode.containerInfo===x.containerInfo&&O.stateNode.implementation===x.implementation){a(P,O.sibling),F=h(O,x.children||[]),F.return=P,P=F;break t}else{a(P,O);break}else i(P,O);O=O.sibling}F=kf(x,P.mode,F),F.return=P,P=F}return v(P);case ft:return it=x._init,x=it(x._payload),ae(P,O,x,F)}if(tt(x))return st(P,O,x,F);if(Ct(x)){if(it=Ct(x),typeof it!="function")throw Error(s(150));return x=it.call(x),vt(P,O,x,F)}if(typeof x.then=="function")return ae(P,O,Su(x),F);if(x.$$typeof===H)return ae(P,O,zu(P,x),F);bu(P,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,O!==null&&O.tag===6?(a(P,O.sibling),F=h(O,x),F.return=P,P=F):(a(P,O),F=Pf(x,P.mode,F),F.return=P,P=F),v(P)):a(P,O)}return function(P,O,x,F){try{ko=0;var it=ae(P,O,x,F);return pa=null,it}catch(ot){if(ot===Mo)throw ot;var Rt=Nn(29,ot,null,P.mode);return Rt.lanes=F,Rt.return=P,Rt}finally{}}}var vs=Op(!0),Np=Op(!1),ga=Lt(null),wu=Lt(0);function Vp(e,i){e=Ui,Gt(wu,e),Gt(ga,i),Ui=e|i.baseLanes}function Bh(){Gt(wu,Ui),Gt(ga,ga.current)}function Hh(){Ui=wu.current,ne(ga),ne(wu)}var Cn=Lt(null),ni=null;function fr(e){var i=e.alternate;Gt(Ae,Ae.current&1),Gt(Cn,e),ni===null&&(i===null||ga.current!==null||i.memoizedState!==null)&&(ni=e)}function Mp(e){if(e.tag===22){if(Gt(Ae,Ae.current),Gt(Cn,e),ni===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ni=e)}}else dr()}function dr(){Gt(Ae,Ae.current),Gt(Cn,Cn.current)}function Ri(e){ne(Cn),ni===e&&(ni=null),ne(Ae)}var Ae=Lt(0);function Ru(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var bT=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},wT=r.unstable_scheduleCallback,RT=r.unstable_NormalPriority,Se={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qh(){return{controller:new bT,data:new Map,refCount:0}}function Lo(e){e.refCount--,e.refCount===0&&wT(RT,function(){e.controller.abort()})}var xo=null,jh=0,_a=0,ya=null;function IT(e,i){if(xo===null){var a=xo=[];jh=0,_a=$f(),ya={status:"pending",value:void 0,then:function(l){a.push(l)}}}return jh++,i.then(Pp,Pp),i}function Pp(){if(--jh===0&&xo!==null){ya!==null&&(ya.status="fulfilled");var e=xo;xo=null,_a=0,ya=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function CT(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var kp=S.S;S.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&IT(e,i),kp!==null&&kp(e,i)};var Es=Lt(null);function Fh(){var e=Es.current;return e!==null?e:Xt.pooledCache}function Iu(e,i){i===null?Gt(Es,Es.current):Gt(Es,i.pool)}function Up(){var e=Fh();return e===null?null:{parent:Se._currentValue,pool:e}}var mr=0,wt=null,Kt=null,fe=null,Cu=!1,va=!1,Ts=!1,Du=0,zo=0,Ea=null,DT=0;function le(){throw Error(s(321))}function Gh(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!un(e[a],i[a]))return!1;return!0}function Kh(e,i,a,l,h,d){return mr=d,wt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=e===null||e.memoizedState===null?As:pr,Ts=!1,d=a(l,h),Ts=!1,va&&(d=xp(i,a,l,h)),Lp(e),d}function Lp(e){S.H=ii;var i=Kt!==null&&Kt.next!==null;if(mr=0,fe=Kt=wt=null,Cu=!1,zo=0,Ea=null,i)throw Error(s(300));e===null||Oe||(e=e.dependencies,e!==null&&xu(e)&&(Oe=!0))}function xp(e,i,a,l){wt=e;var h=0;do{if(va&&(Ea=null),zo=0,va=!1,25<=h)throw Error(s(301));if(h+=1,fe=Kt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}S.H=Ss,d=i(a,l)}while(va);return d}function OT(){var e=S.H,i=e.useState()[0];return i=typeof i.then=="function"?Bo(i):i,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(wt.flags|=1024),i}function Qh(){var e=Du!==0;return Du=0,e}function Yh(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Xh(e){if(Cu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Cu=!1}mr=0,fe=Kt=wt=null,va=!1,zo=Du=0,Ea=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?wt.memoizedState=fe=e:fe=fe.next=e,fe}function de(){if(Kt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var i=fe===null?wt.memoizedState:fe.next;if(i!==null)fe=i,Kt=e;else{if(e===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},fe===null?wt.memoizedState=fe=e:fe=fe.next=e}return fe}var Ou;Ou=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Bo(e){var i=zo;return zo+=1,Ea===null&&(Ea=[]),e=Ip(Ea,e,i),i=wt,(fe===null?i.memoizedState:fe.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?As:pr),e}function Nu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bo(e);if(e.$$typeof===H)return je(e)}throw Error(s(438,String(e)))}function $h(e){var i=null,a=wt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ou(),wt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=Ht;return i.index++,a}function Ii(e,i){return typeof i=="function"?i(e):i}function Vu(e){var i=de();return Wh(i,Kt,e)}function Wh(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=v=null,b=null,N=i,j=!1;do{var Q=N.lane&-536870913;if(Q!==N.lane?(kt&Q)===Q:(mr&Q)===Q){var z=N.revertLane;if(z===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),Q===_a&&(j=!0);else if((mr&z)===z){N=N.next,z===_a&&(j=!0);continue}else Q={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},b===null?(E=b=Q,v=d):b=b.next=Q,wt.lanes|=z,br|=z;Q=N.action,Ts&&a(d,Q),d=N.hasEagerState?N.eagerState:a(d,Q)}else z={lane:Q,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},b===null?(E=b=z,v=d):b=b.next=z,wt.lanes|=Q,br|=Q;N=N.next}while(N!==null&&N!==i);if(b===null?v=d:b.next=E,!un(d,e.memoizedState)&&(Oe=!0,j&&(a=ya,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=b,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Zh(e){var i=de(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);un(d,i.memoizedState)||(Oe=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function zp(e,i,a){var l=wt,h=de(),d=zt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!un((Kt||h).memoizedState,a);if(v&&(h.memoizedState=a,Oe=!0),h=h.queue,ef(qp.bind(null,l,h,e),[e]),h.getSnapshot!==i||v||fe!==null&&fe.memoizedState.tag&1){if(l.flags|=2048,Ta(9,Hp.bind(null,l,h,a,i),{destroy:void 0},null),Xt===null)throw Error(s(349));d||(mr&60)!==0||Bp(l,i,a)}return a}function Bp(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=wt.updateQueue,i===null?(i=Ou(),wt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Hp(e,i,a,l){i.value=a,i.getSnapshot=l,jp(i)&&Fp(e)}function qp(e,i,a){return a(function(){jp(i)&&Fp(e)})}function jp(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!un(e,a)}catch{return!0}}function Fp(e){var i=hr(e,2);i!==null&&tn(i,e,2)}function Jh(e){var i=rn();if(typeof e=="function"){var a=e;if(e=a(),Ts){Fn(!0);try{a()}finally{Fn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:e},i}function Gp(e,i,a,l){return e.baseState=a,Wh(e,Kt,typeof l=="function"?l:Ii)}function NT(e,i,a,l,h){if(ku(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};S.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Kp(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Kp(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=S.T,v={};S.T=v;try{var E=a(h,l),b=S.S;b!==null&&b(v,E),Qp(e,i,E)}catch(N){tf(e,i,N)}finally{S.T=d}}else try{d=a(h,l),Qp(e,i,d)}catch(N){tf(e,i,N)}}function Qp(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Yp(e,i,l)},function(l){return tf(e,i,l)}):Yp(e,i,a)}function Yp(e,i,a){i.status="fulfilled",i.value=a,Xp(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Kp(e,a)))}function tf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Xp(i),i=i.next;while(i!==l)}e.action=null}function Xp(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function $p(e,i){return i}function Wp(e,i){if(zt){var a=Xt.formState;if(a!==null){t:{var l=wt;if(zt){if(Ue){e:{for(var h=Ue,d=ei;h.nodeType!==8;){if(!d){h=null;break e}if(h=Bn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Ue=Bn(h.nextSibling),l=h.data==="F!";break t}}ys(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$p,lastRenderedState:i},a.queue=l,a=pg.bind(null,wt,l),l.dispatch=a,l=Jh(!1),d=of.bind(null,wt,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=NT.bind(null,wt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Zp(e){var i=de();return Jp(i,Kt,e)}function Jp(e,i,a){i=Wh(e,i,$p)[0],e=Vu(Ii)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Bo(i):i;var l=de(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(wt.flags|=2048,Ta(9,VT.bind(null,h,a),{destroy:void 0},null)),[i,d,e]}function VT(e,i){e.action=i}function tg(e){var i=de(),a=Kt;if(a!==null)return Jp(i,a,e);de(),i=i.memoizedState,a=de();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ta(e,i,a,l){return e={tag:e,create:i,inst:a,deps:l,next:null},i=wt.updateQueue,i===null&&(i=Ou(),wt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function eg(){return de().memoizedState}function Mu(e,i,a,l){var h=rn();wt.flags|=e,h.memoizedState=Ta(1|i,a,{destroy:void 0},l===void 0?null:l)}function Pu(e,i,a,l){var h=de();l=l===void 0?null:l;var d=h.memoizedState.inst;Kt!==null&&l!==null&&Gh(l,Kt.memoizedState.deps)?h.memoizedState=Ta(i,a,d,l):(wt.flags|=e,h.memoizedState=Ta(1|i,a,d,l))}function ng(e,i){Mu(8390656,8,e,i)}function ef(e,i){Pu(2048,8,e,i)}function ig(e,i){return Pu(4,2,e,i)}function rg(e,i){return Pu(4,4,e,i)}function sg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function ag(e,i,a){a=a!=null?a.concat([e]):null,Pu(4,4,sg.bind(null,i,e),a)}function nf(){}function og(e,i){var a=de();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Gh(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function lg(e,i){var a=de();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Gh(i,l[1]))return l[0];if(l=e(),Ts){Fn(!0);try{e()}finally{Fn(!1)}}return a.memoizedState=[l,i],l}function rf(e,i,a){return a===void 0||(mr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=c_(),wt.lanes|=e,br|=e,a)}function ug(e,i,a,l){return un(a,i)?a:ga.current!==null?(e=rf(e,a,l),un(e,i)||(Oe=!0),e):(mr&42)===0?(Oe=!0,e.memoizedState=a):(e=c_(),wt.lanes|=e,br|=e,i)}function cg(e,i,a,l,h){var d=et.p;et.p=d!==0&&8>d?d:8;var v=S.T,E={};S.T=E,of(e,!1,i,a);try{var b=h(),N=S.S;if(N!==null&&N(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var j=CT(b,l);Ho(e,i,j,dn(e))}else Ho(e,i,l,dn(e))}catch(Q){Ho(e,i,{then:function(){},status:"rejected",reason:Q},dn())}finally{et.p=d,S.T=v}}function MT(){}function sf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=hg(e).queue;cg(e,h,i,bt,a===null?MT:function(){return fg(e),a(l)})}function hg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:bt,baseState:bt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:bt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function fg(e){var i=hg(e).next.queue;Ho(e,i,{},dn())}function af(){return je(ol)}function dg(){return de().memoizedState}function mg(){return de().memoizedState}function PT(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=dn();e=yr(a);var l=vr(i,e,a);l!==null&&(tn(l,i,a),Fo(l,i,a)),i={cache:qh()},e.payload=i;return}i=i.return}}function kT(e,i,a){var l=dn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ku(e)?gg(i,a):(a=kh(e,i,a,l),a!==null&&(tn(a,e,l),_g(a,i,l)))}function pg(e,i,a){var l=dn();Ho(e,i,a,l)}function Ho(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ku(e))gg(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,un(E,v))return yu(e,i,h,0),Xt===null&&_u(),!1}catch{}finally{}if(a=kh(e,i,h,l),a!==null)return tn(a,e,l),_g(a,i,l),!0}return!1}function of(e,i,a,l){if(l={lane:2,revertLane:$f(),action:l,hasEagerState:!1,eagerState:null,next:null},ku(e)){if(i)throw Error(s(479))}else i=kh(e,a,l,2),i!==null&&tn(i,e,2)}function ku(e){var i=e.alternate;return e===wt||i!==null&&i===wt}function gg(e,i){va=Cu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function _g(e,i,a){if((a&4194176)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,er(e,a)}}var ii={readContext:je,use:Nu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le};ii.useCacheRefresh=le,ii.useMemoCache=le,ii.useHostTransitionStatus=le,ii.useFormState=le,ii.useActionState=le,ii.useOptimistic=le;var As={readContext:je,use:Nu,useCallback:function(e,i){return rn().memoizedState=[e,i===void 0?null:i],e},useContext:je,useEffect:ng,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Mu(4194308,4,sg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Mu(4194308,4,e,i)},useInsertionEffect:function(e,i){Mu(4,2,e,i)},useMemo:function(e,i){var a=rn();i=i===void 0?null:i;var l=e();if(Ts){Fn(!0);try{e()}finally{Fn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=rn();if(a!==void 0){var h=a(i);if(Ts){Fn(!0);try{a(i)}finally{Fn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=kT.bind(null,wt,e),[l.memoizedState,e]},useRef:function(e){var i=rn();return e={current:e},i.memoizedState=e},useState:function(e){e=Jh(e);var i=e.queue,a=pg.bind(null,wt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:nf,useDeferredValue:function(e,i){var a=rn();return rf(a,e,i)},useTransition:function(){var e=Jh(!1);return e=cg.bind(null,wt,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=wt,h=rn();if(zt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Xt===null)throw Error(s(349));(kt&60)!==0||Bp(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ng(qp.bind(null,l,d,e),[e]),l.flags|=2048,Ta(9,Hp.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var e=rn(),i=Xt.identifierPrefix;if(zt){var a=wi,l=bi;a=(l&~(1<<32-$e(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=Du++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=DT++,i=":"+i+"r"+a.toString(32)+":";return e.memoizedState=i},useCacheRefresh:function(){return rn().memoizedState=PT.bind(null,wt)}};As.useMemoCache=$h,As.useHostTransitionStatus=af,As.useFormState=Wp,As.useActionState=Wp,As.useOptimistic=function(e){var i=rn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=of.bind(null,wt,!0,a),a.dispatch=i,[e,i]};var pr={readContext:je,use:Nu,useCallback:og,useContext:je,useEffect:ef,useImperativeHandle:ag,useInsertionEffect:ig,useLayoutEffect:rg,useMemo:lg,useReducer:Vu,useRef:eg,useState:function(){return Vu(Ii)},useDebugValue:nf,useDeferredValue:function(e,i){var a=de();return ug(a,Kt.memoizedState,e,i)},useTransition:function(){var e=Vu(Ii)[0],i=de().memoizedState;return[typeof e=="boolean"?e:Bo(e),i]},useSyncExternalStore:zp,useId:dg};pr.useCacheRefresh=mg,pr.useMemoCache=$h,pr.useHostTransitionStatus=af,pr.useFormState=Zp,pr.useActionState=Zp,pr.useOptimistic=function(e,i){var a=de();return Gp(a,Kt,e,i)};var Ss={readContext:je,use:Nu,useCallback:og,useContext:je,useEffect:ef,useImperativeHandle:ag,useInsertionEffect:ig,useLayoutEffect:rg,useMemo:lg,useReducer:Zh,useRef:eg,useState:function(){return Zh(Ii)},useDebugValue:nf,useDeferredValue:function(e,i){var a=de();return Kt===null?rf(a,e,i):ug(a,Kt.memoizedState,e,i)},useTransition:function(){var e=Zh(Ii)[0],i=de().memoizedState;return[typeof e=="boolean"?e:Bo(e),i]},useSyncExternalStore:zp,useId:dg};Ss.useCacheRefresh=mg,Ss.useMemoCache=$h,Ss.useHostTransitionStatus=af,Ss.useFormState=tg,Ss.useActionState=tg,Ss.useOptimistic=function(e,i){var a=de();return Kt!==null?Gp(a,Kt,e,i):(a.baseState=e,[e,a.queue.dispatch])};function lf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:I({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var uf={isMounted:function(e){return(e=e._reactInternals)?lt(e)===e:!1},enqueueSetState:function(e,i,a){e=e._reactInternals;var l=dn(),h=yr(l);h.payload=i,a!=null&&(h.callback=a),i=vr(e,h,l),i!==null&&(tn(i,e,l),Fo(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=dn(),h=yr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=vr(e,h,l),i!==null&&(tn(i,e,l),Fo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=dn(),l=yr(a);l.tag=2,i!=null&&(l.callback=i),i=vr(e,l,a),i!==null&&(tn(i,e,a),Fo(i,e,a))}};function yg(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Co(a,l)||!Co(h,d):!0}function vg(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&uf.enqueueReplaceState(i,i.state,null)}function bs(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=I({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Uu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Eg(e){Uu(e)}function Tg(e){console.error(e)}function Ag(e){Uu(e)}function Lu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Sg(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function cf(e,i,a){return a=yr(a),a.tag=3,a.payload={element:null},a.callback=function(){Lu(e,i)},a}function bg(e){return e=yr(e),e.tag=3,e}function wg(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Sg(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Sg(i,a,l),typeof h!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function UT(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&jo(i,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 13:return ni===null?Gf():a.alternate===null&&se===0&&(se=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===zh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Qf(e,l,h)),!1;case 22:return a.flags|=65536,l===zh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Qf(e,l,h)),!1}throw Error(s(435,a.tag))}return Qf(e,l,h),Gf(),!1}if(zt)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==xh&&(e=Error(s(422),{cause:l}),Vo(wn(e,a)))):(l!==xh&&(i=Error(s(423),{cause:l}),Vo(wn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=wn(l,a),h=cf(e.stateNode,l,h),wf(e,h),se!==4&&(se=2)),!1;var d=Error(s(520),{cause:l});if(d=wn(d,a),Zo===null?Zo=[d]:Zo.push(d),se!==4&&(se=2),i===null)return!0;l=wn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=cf(a.stateNode,l,e),wf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(wr===null||!wr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=bg(h),wg(h,e,a,l),wf(a,h),!1}a=a.return}while(a!==null);return!1}var Rg=Error(s(461)),Oe=!1;function Le(e,i,a,l){i.child=e===null?Np(i,null,a,l):vs(i,e.child,a,l)}function Ig(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return Rs(i),l=Kh(e,i,a,v,d,h),E=Qh(),e!==null&&!Oe?(Yh(e,i,h),Ci(e,i,h)):(zt&&E&&Uh(i),i.flags|=1,Le(e,i,l,h),i.child)}function Cg(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Mf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Dg(e,i,d,l,h)):(e=qu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!vf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Co,a(v,l)&&e.ref===i.ref)return Ci(e,i,h)}return i.flags|=1,e=Sr(d,l),e.ref=i.ref,e.return=i,i.child=e}function Dg(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Co(d,l)&&e.ref===i.ref)if(Oe=!1,i.pendingProps=l=d,vf(e,h))(e.flags&131072)!==0&&(Oe=!0);else return i.lanes=e.lanes,Ci(e,i,h)}return hf(e,i,a,l,h)}function Og(e,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,v=e!==null?e.memoizedState:null;if(qo(e,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=v!==null?v.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Ng(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Iu(i,v!==null?v.cachePool:null),v!==null?Vp(i,v):Bh(),Mp(i);else return i.lanes=i.childLanes=536870912,Ng(e,i,v!==null?v.baseLanes|a:a,a)}else v!==null?(Iu(i,v.cachePool),Vp(i,v),dr(),i.memoizedState=null):(e!==null&&Iu(i,null),Bh(),dr());return Le(e,i,h,a),i.child}function Ng(e,i,a,l){var h=Fh();return h=h===null?null:{parent:Se._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Iu(i,null),Bh(),Mp(i),e!==null&&jo(e,i,l,!0),null}function qo(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=2097664)}}function hf(e,i,a,l,h){return Rs(i),a=Kh(e,i,a,l,void 0,h),l=Qh(),e!==null&&!Oe?(Yh(e,i,h),Ci(e,i,h)):(zt&&l&&Uh(i),i.flags|=1,Le(e,i,a,h),i.child)}function Vg(e,i,a,l,h,d){return Rs(i),i.updateQueue=null,a=xp(i,l,a,h),Lp(e),l=Qh(),e!==null&&!Oe?(Yh(e,i,d),Ci(e,i,d)):(zt&&l&&Uh(i),i.flags|=1,Le(e,i,a,d),i.child)}function Mg(e,i,a,l,h){if(Rs(i),i.stateNode===null){var d=fa,v=a.contextType;typeof v=="object"&&v!==null&&(d=je(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=uf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Sf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?je(v):fa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(lf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&uf.enqueueReplaceState(d,d.state,null),Ko(i,l,d,h),Go(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,b=bs(a,E);d.props=b;var N=d.context,j=a.contextType;v=fa,typeof j=="object"&&j!==null&&(v=je(j));var Q=a.getDerivedStateFromProps;j=typeof Q=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,j||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||N!==v)&&vg(i,d,l,v),_r=!1;var z=i.memoizedState;d.state=z,Ko(i,l,d,h),Go(),N=i.memoizedState,E||z!==N||_r?(typeof Q=="function"&&(lf(i,a,Q,l),N=i.memoizedState),(b=_r||yg(i,a,b,l,z,N,v))?(j||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=N),d.props=l,d.state=N,d.context=v,l=b):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,bf(e,i),v=i.memoizedProps,j=bs(a,v),d.props=j,Q=i.pendingProps,z=d.context,N=a.contextType,b=fa,typeof N=="object"&&N!==null&&(b=je(N)),E=a.getDerivedStateFromProps,(N=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Q||z!==b)&&vg(i,d,l,b),_r=!1,z=i.memoizedState,d.state=z,Ko(i,l,d,h),Go();var q=i.memoizedState;v!==Q||z!==q||_r||e!==null&&e.dependencies!==null&&xu(e.dependencies)?(typeof E=="function"&&(lf(i,a,E,l),q=i.memoizedState),(j=_r||yg(i,a,j,l,z,q,b)||e!==null&&e.dependencies!==null&&xu(e.dependencies))?(N||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,b),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,b)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=b,l=j):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,qo(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=vs(i,e.child,null,h),i.child=vs(i,null,a,h)):Le(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Ci(e,i,h),e}function Pg(e,i,a,l){return No(),i.flags|=256,Le(e,i,a,l),i.child}var ff={dehydrated:null,treeContext:null,retryLane:0};function df(e){return{baseLanes:e,cachePool:Up()}}function mf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Vn),e}function kg(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(zt){if(h?fr(i):dr(),zt){var E=Ue,b;if(b=E){t:{for(b=E,E=ei;b.nodeType!==8;){if(!E){E=null;break t}if(b=Bn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(i.memoizedState={dehydrated:E,treeContext:gs!==null?{id:bi,overflow:wi}:null,retryLane:536870912},b=Nn(18,null,null,0),b.stateNode=E,b.return=i,i.child=b,Je=i,Ue=null,b=!0):b=!1}b||ys(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?i.lanes=16:i.lanes=536870912,null;Ri(i)}return E=l.children,l=l.fallback,h?(dr(),h=i.mode,E=gf({mode:"hidden",children:E},h),l=Cs(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,h=i.child,h.memoizedState=df(a),h.childLanes=mf(e,v,a),i.memoizedState=ff,l):(fr(i),pf(i,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(d)i.flags&256?(fr(i),i.flags&=-257,i=_f(e,i,a)):i.memoizedState!==null?(dr(),i.child=e.child,i.flags|=128,i=null):(dr(),h=l.fallback,E=i.mode,l=gf({mode:"visible",children:l.children},E),h=Cs(h,E,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,vs(i,e.child,null,a),l=i.child,l.memoizedState=df(a),l.childLanes=mf(e,v,a),i.memoizedState=ff,i=h);else if(fr(i),E.data==="$!"){if(v=E.nextSibling&&E.nextSibling.dataset,v)var N=v.dgst;v=N,l=Error(s(419)),l.stack="",l.digest=v,Vo({value:l,source:null,stack:null}),i=_f(e,i,a)}else if(Oe||jo(e,i,a,!1),v=(a&e.childLanes)!==0,Oe||v){if(v=Xt,v!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==b.retryLane)throw b.retryLane=l,hr(e,l),tn(v,e,l),Rg}E.data==="$?"||Gf(),i=_f(e,i,a)}else E.data==="$?"?(i.flags|=128,i.child=e.child,i=WT.bind(null,e),E._reactRetry=i,i=null):(e=b.treeContext,Ue=Bn(E.nextSibling),Je=i,zt=!0,xn=null,ei=!1,e!==null&&(Rn[In++]=bi,Rn[In++]=wi,Rn[In++]=gs,bi=e.id,wi=e.overflow,gs=i),i=pf(i,l.children),i.flags|=4096);return i}return h?(dr(),h=l.fallback,E=i.mode,b=e.child,N=b.sibling,l=Sr(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&31457280,N!==null?h=Sr(N,h):(h=Cs(h,E,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,E=e.child.memoizedState,E===null?E=df(a):(b=E.cachePool,b!==null?(N=Se._currentValue,b=b.parent!==N?{parent:N,pool:N}:b):b=Up(),E={baseLanes:E.baseLanes|a,cachePool:b}),h.memoizedState=E,h.childLanes=mf(e,v,a),i.memoizedState=ff,l):(fr(i),a=e.child,e=a.sibling,a=Sr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function pf(e,i){return i=gf({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function gf(e,i){return o_(e,i,0,null)}function _f(e,i,a){return vs(i,e.child,null,a),e=pf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Ug(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Tf(e.return,i,a)}function yf(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Lg(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Le(e,i,l.children,a),l=Ae.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ug(e,a,i);else if(e.tag===19)Ug(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Gt(Ae,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Ru(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),yf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Ru(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}yf(i,!0,a,null,d);break;case"together":yf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ci(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),br|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(jo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Sr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Sr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function vf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&xu(e)))}function LT(e,i,a){switch(i.tag){case 3:Xi(i,i.stateNode.containerInfo),gr(i,Se,e.memoizedState.cache),No();break;case 27:case 5:ao(i);break;case 4:Xi(i,i.stateNode.containerInfo);break;case 10:gr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(fr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?kg(e,i,a):(fr(i),e=Ci(e,i,a),e!==null?e.sibling:null);fr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(jo(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Lg(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Gt(Ae,Ae.current),l)break;return null;case 22:case 23:return i.lanes=0,Og(e,i,a);case 24:gr(i,Se,e.memoizedState.cache)}return Ci(e,i,a)}function xg(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Oe=!0;else{if(!vf(e,a)&&(i.flags&128)===0)return Oe=!1,LT(e,i,a);Oe=(e.flags&131072)!==0}else Oe=!1,zt&&(i.flags&1048576)!==0&&Ap(i,Tu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Mf(l)?(e=bs(l,e),i.tag=1,i=Mg(null,i,l,e,a)):(i.tag=0,i=hf(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===X){i.tag=11,i=Ig(null,i,l,e,a);break t}else if(h===Tt){i.tag=14,i=Cg(null,i,l,e,a);break t}}throw i=w(l)||l,Error(s(306,i,""))}}return i;case 0:return hf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=bs(l,i.pendingProps),Mg(e,i,l,h,a);case 3:t:{if(Xi(i,i.stateNode.containerInfo),e===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,bf(e,i),Ko(i,d,null,a);var v=i.memoizedState;if(d=v.cache,gr(i,Se,d),d!==h.cache&&Af(i,[Se],a,!0),Go(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Pg(e,i,d,a);break t}else if(d!==l){l=wn(Error(s(424)),i),Vo(l),i=Pg(e,i,d,a);break t}else for(Ue=Bn(i.stateNode.containerInfo.firstChild),Je=i,zt=!0,xn=null,ei=!0,a=Np(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(No(),d===l){i=Ci(e,i,a);break t}Le(e,i,d,a)}i=i.child}return i;case 26:return qo(e,i),e===null?(a=H_(i.type,null,i.pendingProps,null))?i.memoizedState=a:zt||(a=i.type,e=i.pendingProps,l=tc(_n.current).createElement(a),l[Ie]=i,l[ve]=e,xe(l,a,e),Zt(l),i.stateNode=l):i.memoizedState=H_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ao(i),e===null&&zt&&(l=i.stateNode=x_(i.type,i.pendingProps,_n.current),Je=i,ei=!0,Ue=Bn(l.firstChild)),l=i.pendingProps.children,e!==null||zt?Le(e,i,l,a):i.child=vs(i,null,l,a),qo(e,i),i.child;case 5:return e===null&&zt&&((h=l=Ue)&&(l=dA(l,i.type,i.pendingProps,ei),l!==null?(i.stateNode=l,Je=i,Ue=Bn(l.firstChild),ei=!1,h=!0):h=!1),h||ys(i)),ao(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,sd(h,d)?l=null:v!==null&&sd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Kh(e,i,OT,null,null,a),ol._currentValue=h),qo(e,i),Le(e,i,l,a),i.child;case 6:return e===null&&zt&&((e=a=Ue)&&(a=mA(a,i.pendingProps,ei),a!==null?(i.stateNode=a,Je=i,Ue=null,e=!0):e=!1),e||ys(i)),null;case 13:return kg(e,i,a);case 4:return Xi(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=vs(i,null,l,a):Le(e,i,l,a),i.child;case 11:return Ig(e,i,i.type,i.pendingProps,a);case 7:return Le(e,i,i.pendingProps,a),i.child;case 8:return Le(e,i,i.pendingProps.children,a),i.child;case 12:return Le(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,gr(i,i.type,l.value),Le(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Rs(i),h=je(h),l=l(h),i.flags|=1,Le(e,i,l,a),i.child;case 14:return Cg(e,i,i.type,i.pendingProps,a);case 15:return Dg(e,i,i.type,i.pendingProps,a);case 19:return Lg(e,i,a);case 22:return Og(e,i,a);case 24:return Rs(i),l=je(Se),e===null?(h=Fh(),h===null&&(h=Xt,d=qh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Sf(i),gr(i,Se,h)):((e.lanes&a)!==0&&(bf(e,i),Ko(i,null,null,a),Go()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),gr(i,Se,l)):(l=d.cache,gr(i,Se,l),l!==h.cache&&Af(i,[Se],a,!0))),Le(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Ef=Lt(null),ws=null,Di=null;function gr(e,i,a){Gt(Ef,i._currentValue),i._currentValue=a}function Oi(e){e._currentValue=Ef.current,ne(Ef)}function Tf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Af(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var b=0;b<i.length;b++)if(E.context===i[b]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),Tf(d.return,a,e),l||(v=null);break t}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Tf(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function jo(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;un(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===Yi.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ol):e=[ol])}h=h.return}e!==null&&Af(i,e,a,l),i.flags|=262144}function xu(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rs(e){ws=e,Di=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function je(e){return zg(ws,e)}function zu(e,i){return ws===null&&Rs(e),zg(e,i)}function zg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Di===null){if(e===null)throw Error(s(308));Di=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Di=Di.next=i;return a}var _r=!1;function Sf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function yr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(te&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=vu(e),Ep(e,null,a),i}return yu(e,l,i,a),vu(e)}function Fo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,er(e,a)}}function wf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Rf=!1;function Go(){if(Rf){var e=ya;if(e!==null)throw e}}function Ko(e,i,a,l){Rf=!1;var h=e.updateQueue;_r=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,N=b.next;b.next=null,v===null?d=N:v.next=N,v=b;var j=e.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==v&&(E===null?j.firstBaseUpdate=N:E.next=N,j.lastBaseUpdate=b))}if(d!==null){var Q=h.baseState;v=0,j=N=b=null,E=d;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(kt&z)===z:(l&z)===z){z!==0&&z===_a&&(Rf=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=e,vt=E;z=i;var ae=a;switch(vt.tag){case 1:if(st=vt.payload,typeof st=="function"){Q=st.call(ae,Q,z);break t}Q=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=vt.payload,z=typeof st=="function"?st.call(ae,Q,z):st,z==null)break t;Q=I({},Q,z);break t;case 2:_r=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(N=j=q,b=Q):j=j.next=q,v|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);j===null&&(b=Q),h.baseState=b,h.firstBaseUpdate=N,h.lastBaseUpdate=j,d===null&&(h.shared.lanes=0),br|=v,e.lanes=v,e.memoizedState=Q}}function Bg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Hg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Bg(a[e],i)}function Qo(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(E){Yt(i,i.return,E)}}function Er(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var b=a;try{E()}catch(N){Yt(h,b,N)}}}l=l.next}while(l!==d)}}catch(N){Yt(i,i.return,N)}}function qg(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Hg(i,a)}catch(l){Yt(e,e.return,l)}}}function jg(e,i,a){a.props=bs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(e,i,l)}}function Is(e,i){try{var a=e.ref;if(a!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?e.refCleanup=a(h):a.current=h}}catch(d){Yt(e,i,d)}}function cn(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Yt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,i,h)}else a.current=null}function Fg(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function Gg(e,i,a){try{var l=e.stateNode;lA(l,e.type,a,i),l[ve]=i}catch(h){Yt(e,e.return,h)}}function Kg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function If(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Kg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cf(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(e,i):a.insertBefore(e,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(e,a)):(i=a,i.appendChild(e)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ju));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Cf(e,i,a),e=e.sibling;e!==null;)Cf(e,i,a),e=e.sibling}function Bu(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Bu(e,i,a),e=e.sibling;e!==null;)Bu(e,i,a),e=e.sibling}var Ni=!1,re=!1,Df=!1,Qg=typeof WeakSet=="function"?WeakSet:Set,Ne=null,Yg=!1;function xT(e,i){if(e=e.containerInfo,id=ac,e=hp(e),Oh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,E=-1,b=-1,N=0,j=0,Q=e,z=null;e:for(;;){for(var q;Q!==a||h!==0&&Q.nodeType!==3||(E=v+h),Q!==d||l!==0&&Q.nodeType!==3||(b=v+l),Q.nodeType===3&&(v+=Q.nodeValue.length),(q=Q.firstChild)!==null;)z=Q,Q=q;for(;;){if(Q===e)break e;if(z===a&&++N===h&&(E=v),z===d&&++j===l&&(b=v),(q=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=q}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(rd={focusedElem:e,selectionRange:a},ac=!1,Ne=i;Ne!==null;)if(i=Ne,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Ne=e;else for(;Ne!==null;){switch(i=Ne,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var st=bs(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(st,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(vt){Yt(a,a.return,vt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)ld(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ld(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Ne=e;break}Ne=i.return}return st=Yg,Yg=!1,st}function Xg(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Mi(e,a),l&4&&Qo(5,a);break;case 1:if(Mi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(E){Yt(a,a.return,E)}else{var h=bs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(E){Yt(a,a.return,E)}}l&64&&qg(a),l&512&&Is(a,a.return);break;case 3:if(Mi(e,a),l&64&&(l=a.updateQueue,l!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{Hg(l,e)}catch(E){Yt(a,a.return,E)}}break;case 26:Mi(e,a),l&512&&Is(a,a.return);break;case 27:case 5:Mi(e,a),i===null&&l&4&&Fg(a),l&512&&Is(a,a.return);break;case 12:Mi(e,a);break;case 13:Mi(e,a),l&4&&Zg(e,a);break;case 22:if(h=a.memoizedState!==null||Ni,!h){i=i!==null&&i.memoizedState!==null||re;var d=Ni,v=re;Ni=h,(re=i)&&!v?Tr(e,a,(a.subtreeFlags&8772)!==0):Mi(e,a),Ni=d,re=v}l&512&&(a.memoizedProps.mode==="manual"?Is(a,a.return):cn(a,a.return));break;default:Mi(e,a)}}function $g(e){var i=e.alternate;i!==null&&(e.alternate=null,$g(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&is(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var me=null,hn=!1;function Vi(e,i,a){for(a=a.child;a!==null;)Wg(e,i,a),a=a.sibling}function Wg(e,i,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount($i,a)}catch{}switch(a.tag){case 26:re||cn(a,i),Vi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:re||cn(a,i);var l=me,h=hn;for(me=a.stateNode,Vi(e,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);is(a),me=l,hn=h;break;case 5:re||cn(a,i);case 6:h=me;var d=hn;if(me=null,Vi(e,i,a),me=h,hn=d,me!==null)if(hn)try{e=me,l=a.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(v){Yt(a,i,v)}else try{me.removeChild(a.stateNode)}catch(v){Yt(a,i,v)}break;case 18:me!==null&&(hn?(i=me,a=a.stateNode,i.nodeType===8?od(i.parentNode,a):i.nodeType===1&&od(i,a),hl(i)):od(me,a.stateNode));break;case 4:l=me,h=hn,me=a.stateNode.containerInfo,hn=!0,Vi(e,i,a),me=l,hn=h;break;case 0:case 11:case 14:case 15:re||Er(2,a,i),re||Er(4,a,i),Vi(e,i,a);break;case 1:re||(cn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&jg(a,i,l)),Vi(e,i,a);break;case 21:Vi(e,i,a);break;case 22:re||cn(a,i),re=(l=re)||a.memoizedState!==null,Vi(e,i,a),re=l;break;default:Vi(e,i,a)}}function Zg(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{hl(e)}catch(a){Yt(i,i.return,a)}}function zT(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Qg),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Qg),i;default:throw Error(s(435,e.tag))}}function Of(e,i){var a=zT(e);i.forEach(function(l){var h=ZT.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function Dn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:case 5:me=E.stateNode,hn=!1;break t;case 3:me=E.stateNode.containerInfo,hn=!0;break t;case 4:me=E.stateNode.containerInfo,hn=!0;break t}E=E.return}if(me===null)throw Error(s(160));Wg(d,v,h),me=null,hn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Jg(i,e),i=i.sibling}var zn=null;function Jg(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dn(i,e),On(e),l&4&&(Er(3,e,e.return),Qo(3,e),Er(5,e,e.return));break;case 1:Dn(i,e),On(e),l&512&&(re||a===null||cn(a,a.return)),l&64&&Ni&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=zn;if(Dn(i,e),On(e),l&512&&(re||a===null||cn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ir]||d[Ie]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),xe(d,l,a),d[Ie]=e,Zt(d),l=d;break t;case"link":var v=F_("link","href",h).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}d=h.createElement(l),xe(d,l,a),h.head.appendChild(d);break;case"meta":if(v=F_("meta","content",h).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}d=h.createElement(l),xe(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ie]=e,Zt(d),l=d}e.stateNode=l}else G_(h,e.type,e.stateNode);else e.stateNode=j_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?G_(h,e.type,e.stateNode):j_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Gg(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){h=e.stateNode,d=e.memoizedProps;try{for(var b=h.firstChild;b;){var N=b.nextSibling,j=b.nodeName;b[ir]||j==="HEAD"||j==="BODY"||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&b.rel.toLowerCase()==="stylesheet"||h.removeChild(b),b=N}for(var Q=e.type,z=h.attributes;z.length;)h.removeAttributeNode(z[0]);xe(h,Q,d),h[Ie]=e,h[ve]=d}catch(st){Yt(e,e.return,st)}}case 5:if(Dn(i,e),On(e),l&512&&(re||a===null||cn(a,a.return)),e.flags&32){h=e.stateNode;try{En(h,"")}catch(st){Yt(e,e.return,st)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Gg(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Df=!0);break;case 6:if(Dn(i,e),On(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(st){Yt(e,e.return,st)}}break;case 3:if(ic=null,h=zn,zn=ec(i.containerInfo),Dn(i,e),zn=h,On(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{hl(i.containerInfo)}catch(st){Yt(e,e.return,st)}Df&&(Df=!1,t_(e));break;case 4:l=zn,zn=ec(e.stateNode.containerInfo),Dn(i,e),On(e),zn=l;break;case 12:Dn(i,e),On(e);break;case 13:Dn(i,e),On(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(zf=en()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Of(e,l)));break;case 22:if(l&512&&(re||a===null||cn(a,a.return)),b=e.memoizedState!==null,N=a!==null&&a.memoizedState!==null,j=Ni,Q=re,Ni=j||b,re=Q||N,Dn(i,e),re=Q,Ni=j,On(e),i=e.stateNode,i._current=e,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=b?i._visibility&-2:i._visibility|1,b&&(i=Ni||re,a===null||N||i||Aa(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,i=e;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){N=a=i;try{if(h=N.stateNode,b)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=N.stateNode,E=N.memoizedProps.style;var q=E!=null&&E.hasOwnProperty("display")?E.display:null;v.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(st){Yt(N,N.return,st)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=b?"":N.memoizedProps}catch(st){Yt(N,N.return,st)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Of(e,a))));break;case 19:Dn(i,e),On(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Of(e,l)));break;case 21:break;default:Dn(i,e),On(e)}}function On(e){var i=e.flags;if(i&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(Kg(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=If(e);Bu(e,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(En(v,""),l.flags&=-33);var E=If(e);Bu(e,E,v);break;case 3:case 4:var b=l.stateNode.containerInfo,N=If(e);Cf(e,N,b);break;default:throw Error(s(161))}}}catch(j){Yt(e,e.return,j)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function t_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;t_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Mi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Xg(e,i.alternate,i),i=i.sibling}function Aa(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Er(4,i,i.return),Aa(i);break;case 1:cn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&jg(i,i.return,a),Aa(i);break;case 26:case 27:case 5:cn(i,i.return),Aa(i);break;case 22:cn(i,i.return),i.memoizedState===null&&Aa(i);break;default:Aa(i)}e=e.sibling}}function Tr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Tr(h,d,a),Qo(4,d);break;case 1:if(Tr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(N){Yt(l,l.return,N)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)Bg(b[h],E)}catch(N){Yt(l,l.return,N)}}a&&v&64&&qg(d),Is(d,d.return);break;case 26:case 27:case 5:Tr(h,d,a),a&&l===null&&v&4&&Fg(d),Is(d,d.return);break;case 12:Tr(h,d,a);break;case 13:Tr(h,d,a),a&&v&4&&Zg(h,d);break;case 22:d.memoizedState===null&&Tr(h,d,a),Is(d,d.return);break;default:Tr(h,d,a)}i=i.sibling}}function Nf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Lo(a))}function Vf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Lo(e))}function Ar(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)e_(e,i,a,l),i=i.sibling}function e_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ar(e,i,a,l),h&2048&&Qo(9,i);break;case 3:Ar(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Lo(e)));break;case 12:if(h&2048){Ar(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Yt(i,i.return,b)}}else Ar(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Ar(e,i,a,l):Yo(e,i):d._visibility&4?Ar(e,i,a,l):(d._visibility|=4,Sa(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Nf(i.alternate,i);break;case 24:Ar(e,i,a,l),h&2048&&Vf(i.alternate,i);break;default:Ar(e,i,a,l)}}function Sa(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,E=a,b=l,N=v.flags;switch(v.tag){case 0:case 11:case 15:Sa(d,v,E,b,h),Qo(8,v);break;case 23:break;case 22:var j=v.stateNode;v.memoizedState!==null?j._visibility&4?Sa(d,v,E,b,h):Yo(d,v):(j._visibility|=4,Sa(d,v,E,b,h)),h&&N&2048&&Nf(v.alternate,v);break;case 24:Sa(d,v,E,b,h),h&&N&2048&&Vf(v.alternate,v);break;default:Sa(d,v,E,b,h)}i=i.sibling}}function Yo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:Yo(a,l),h&2048&&Nf(l.alternate,l);break;case 24:Yo(a,l),h&2048&&Vf(l.alternate,l);break;default:Yo(a,l)}i=i.sibling}}var Xo=8192;function ba(e){if(e.subtreeFlags&Xo)for(e=e.child;e!==null;)n_(e),e=e.sibling}function n_(e){switch(e.tag){case 26:ba(e),e.flags&Xo&&e.memoizedState!==null&&IA(zn,e.memoizedState,e.memoizedProps);break;case 5:ba(e);break;case 3:case 4:var i=zn;zn=ec(e.stateNode.containerInfo),ba(e),zn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Xo,Xo=16777216,ba(e),Xo=i):ba(e));break;default:ba(e)}}function i_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function $o(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ne=l,s_(l,e)}i_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)r_(e),e=e.sibling}function r_(e){switch(e.tag){case 0:case 11:case 15:$o(e),e.flags&2048&&Er(9,e,e.return);break;case 3:$o(e);break;case 12:$o(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&4&&(e.return===null||e.return.tag!==13)?(i._visibility&=-5,Hu(e)):$o(e);break;default:$o(e)}}function Hu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ne=l,s_(l,e)}i_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Er(8,i,i.return),Hu(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Hu(i));break;default:Hu(i)}e=e.sibling}}function s_(e,i){for(;Ne!==null;){var a=Ne;switch(a.tag){case 0:case 11:case 15:Er(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Lo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ne=l;else t:for(a=e;Ne!==null;){l=Ne;var h=l.sibling,d=l.return;if($g(l),l===a){Ne=null;break t}if(h!==null){h.return=d,Ne=h;break t}Ne=d}}}function BT(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(e,i,a,l){return new BT(e,i,a,l)}function Mf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sr(e,i){var a=e.alternate;return a===null?(a=Nn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function a_(e,i){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function qu(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")Mf(e)&&(v=1);else if(typeof e=="string")v=wA(e,a,Xe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case g:return Cs(a.children,h,d,i);case _:v=8,h|=24;break;case A:return e=Nn(12,a,i,h|2),e.elementType=A,e.lanes=d,e;case Z:return e=Nn(13,a,i,h),e.elementType=Z,e.lanes=d,e;case $:return e=Nn(19,a,i,h),e.elementType=$,e.lanes=d,e;case _t:return o_(a,h,d,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:case H:v=10;break t;case k:v=9;break t;case X:v=11;break t;case Tt:v=14;break t;case ft:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=Nn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Cs(e,i,a,l){return e=Nn(7,e,l,i),e.lanes=a,e}function o_(e,i,a,l){e=Nn(22,e,l,i),e.elementType=_t,e.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var v=hr(d,2);v!==null&&(h._pendingVisibility|=2,tn(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var v=hr(d,2);v!==null&&(h._pendingVisibility&=-3,tn(v,d,2))}}};return e.stateNode=h,e}function Pf(e,i,a){return e=Nn(6,e,null,i),e.lanes=a,e}function kf(e,i,a){return i=Nn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function Pi(e){e.flags|=4}function l_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!K_(i)){if(i=Cn.current,i!==null&&((kt&4194176)===kt?ni!==null:(kt&62914560)!==kt&&(kt&536870912)===0||i!==ni))throw Po=zh,wp;e.flags|=8192}}function ju(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Ji():536870912,e.lanes|=i,Ra|=i)}function Wo(e,i){if(!zt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Jt(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function HT(e,i,a){var l=i.pendingProps;switch(Lh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(i),null;case 1:return Jt(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Oi(Se),di(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Oo(i)?Pi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,xn!==null&&(jf(xn),xn=null))),Jt(i),null;case 26:return a=i.memoizedState,e===null?(Pi(i),a!==null?(Jt(i),l_(i,a)):(Jt(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Pi(i),Jt(i),l_(i,a)):(Jt(i),i.flags&=-16777217):(e.memoizedProps!==l&&Pi(i),Jt(i),i.flags&=-16777217),null;case 27:Gs(i),a=_n.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Pi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Jt(i),null}e=Xe.current,Oo(i)?Sp(i):(e=x_(h,l,a),i.stateNode=e,Pi(i))}return Jt(i),null;case 5:if(Gs(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Pi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Jt(i),null}if(e=Xe.current,Oo(i))Sp(i);else{switch(h=tc(_n.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Ie]=i,e[ve]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(xe(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Pi(i)}}return Jt(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Pi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=_n.current,Oo(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=Je,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ie]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||V_(e.nodeValue,a)),e||ys(i)}else e=tc(e).createTextNode(l),e[Ie]=i,i.stateNode=e}return Jt(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Oo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ie]=i}else No(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Jt(i),h=!1}else xn!==null&&(jf(xn),xn=null),h=!0;if(!h)return i.flags&256?(Ri(i),i):(Ri(i),null)}if(Ri(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),ju(i,i.updateQueue),Jt(i),null;case 4:return di(),e===null&&td(i.stateNode.containerInfo),Jt(i),null;case 10:return Oi(i.type),Jt(i),null;case 19:if(ne(Ae),h=i.memoizedState,h===null)return Jt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Wo(h,!1);else{if(se!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Ru(e),d!==null){for(i.flags|=128,Wo(h,!1),e=d.updateQueue,i.updateQueue=e,ju(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)a_(a,e),a=a.sibling;return Gt(Ae,Ae.current&1|2),i.child}e=e.sibling}h.tail!==null&&en()>Fu&&(i.flags|=128,l=!0,Wo(h,!1),i.lanes=4194304)}else{if(!l)if(e=Ru(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,ju(i,e),Wo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!zt)return Jt(i),null}else 2*en()-h.renderingStartTime>Fu&&a!==536870912&&(i.flags|=128,l=!0,Wo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=en(),i.sibling=null,e=Ae.current,Gt(Ae,l?e&1|2:e&1),i):(Jt(i),null);case 22:case 23:return Ri(i),Hh(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(Jt(i),i.subtreeFlags&6&&(i.flags|=8192)):Jt(i),a=i.updateQueue,a!==null&&ju(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&ne(Es),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Oi(Se),Jt(i),null;case 25:return null}throw Error(s(156,i.tag))}function qT(e,i){switch(Lh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Oi(Se),di(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Gs(i),null;case 13:if(Ri(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));No()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return ne(Ae),null;case 4:return di(),null;case 10:return Oi(i.type),null;case 22:case 23:return Ri(i),Hh(),e!==null&&ne(Es),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Oi(Se),null;case 25:return null;default:return null}}function u_(e,i){switch(Lh(i),i.tag){case 3:Oi(Se),di();break;case 26:case 27:case 5:Gs(i);break;case 4:di();break;case 13:Ri(i);break;case 19:ne(Ae);break;case 10:Oi(i.type);break;case 22:case 23:Ri(i),Hh(),e!==null&&ne(Es);break;case 24:Oi(Se)}}var jT={getCacheForType:function(e){var i=je(Se),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},FT=typeof WeakMap=="function"?WeakMap:Map,te=0,Xt=null,It=null,kt=0,$t=0,fn=null,ki=!1,wa=!1,Uf=!1,Ui=0,se=0,br=0,Ds=0,Lf=0,Vn=0,Ra=0,Zo=null,ri=null,xf=!1,zf=0,Fu=1/0,Gu=null,wr=null,Ku=!1,Os=null,Jo=0,Bf=0,Hf=null,tl=0,qf=null;function dn(){if((te&2)!==0&&kt!==0)return kt&-kt;if(S.T!==null){var e=_a;return e!==0?e:$f()}return Zl()}function c_(){Vn===0&&(Vn=(kt&536870912)===0||zt?ho():536870912);var e=Cn.current;return e!==null&&(e.flags|=32),Vn}function tn(e,i,a){(e===Xt&&$t===2||e.cancelPendingCommit!==null)&&(Ia(e,0),Li(e,kt,Vn,!1)),oe(e,a),((te&2)===0||e!==Xt)&&(e===Xt&&((te&2)===0&&(Ds|=a),se===4&&Li(e,kt,Vn,!1)),si(e))}function h_(e,i,a){if((te&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&e.expiredLanes)===0||Zi(e,i),h=l?QT(e,i):Kf(e,i,!0),d=l;do{if(h===0){wa&&!l&&Li(e,i,0,!1);break}else if(h===6)Li(e,i,0,!ki);else{if(a=e.current.alternate,d&&!GT(a)){h=Kf(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=Zo;var b=E.current.memoizedState.isDehydrated;if(b&&(Ia(E,v).flags|=256),v=Kf(E,v,!1),v!==2){if(Uf&&!b){E.errorRecoveryDisabledLanes|=d,Ds|=d,h=4;break t}d=ri,ri=h,d!==null&&jf(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Ia(e,0),Li(e,i,0,!0);break}t:{switch(l=e,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Li(l,i,Vn,!ki);break t}break;case 2:ri=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=zf+300-en(),10<d)){if(Li(l,i,Vn,!ki),yn(l,0)!==0)break t;l.timeoutHandle=k_(f_.bind(null,l,a,ri,Gu,xf,i,Vn,Ds,Ra,ki,2,-0,0),d);break t}f_(l,a,ri,Gu,xf,i,Vn,Ds,Ra,ki,0,-0,0)}}break}while(!0);si(e)}function jf(e){ri===null?ri=e:ri.push.apply(ri,e)}function f_(e,i,a,l,h,d,v,E,b,N,j,Q,z){var q=i.subtreeFlags;if((q&8192||(q&16785408)===16785408)&&(al={stylesheets:null,count:0,unsuspend:RA},n_(i),i=CA(),i!==null)){e.cancelPendingCommit=i(v_.bind(null,e,a,l,h,v,E,b,1,Q,z)),Li(e,d,v,!N);return}v_(e,a,l,h,v,E,b,j,Q,z)}function GT(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!un(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Li(e,i,a,l){i&=~Lf,i&=~Ds,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-$e(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&tr(e,a,i)}function Qu(){return(te&6)===0?(el(0),!1):!0}function Ff(){if(It!==null){if($t===0)var e=It.return;else e=It,Di=ws=null,Xh(e),pa=null,ko=0,e=It;for(;e!==null;)u_(e.alternate,e),e=e.return;It=null}}function Ia(e,i){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,cA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ff(),Xt=e,It=a=Sr(e.current,null),kt=i,$t=0,fn=null,ki=!1,wa=Zi(e,i),Uf=!1,Ra=Vn=Lf=Ds=br=se=0,ri=Zo=null,xf=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-$e(l),d=1<<h;i|=e[h],l&=~d}return Ui=i,_u(),a}function d_(e,i){wt=null,S.H=ii,i===Mo?(i=Cp(),$t=3):i===wp?(i=Cp(),$t=4):$t=i===Rg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,fn=i,It===null&&(se=1,Lu(e,wn(i,e.current)))}function m_(){var e=S.H;return S.H=ii,e===null?ii:e}function p_(){var e=S.A;return S.A=jT,e}function Gf(){se=4,ki||(kt&4194176)!==kt&&Cn.current!==null||(wa=!0),(br&134217727)===0&&(Ds&134217727)===0||Xt===null||Li(Xt,kt,Vn,!1)}function Kf(e,i,a){var l=te;te|=2;var h=m_(),d=p_();(Xt!==e||kt!==i)&&(Gu=null,Ia(e,i)),i=!1;var v=se;t:do try{if($t!==0&&It!==null){var E=It,b=fn;switch($t){case 8:Ff(),v=6;break t;case 3:case 2:case 6:Cn.current===null&&(i=!0);var N=$t;if($t=0,fn=null,Ca(e,E,b,N),a&&wa){v=0;break t}break;default:N=$t,$t=0,fn=null,Ca(e,E,b,N)}}KT(),v=se;break}catch(j){d_(e,j)}while(!0);return i&&e.shellSuspendCounter++,Di=ws=null,te=l,S.H=h,S.A=d,It===null&&(Xt=null,kt=0,_u()),v}function KT(){for(;It!==null;)g_(It)}function QT(e,i){var a=te;te|=2;var l=m_(),h=p_();Xt!==e||kt!==i?(Gu=null,Fu=en()+500,Ia(e,i)):wa=Zi(e,i);t:do try{if($t!==0&&It!==null){i=It;var d=fn;e:switch($t){case 1:$t=0,fn=null,Ca(e,i,d,1);break;case 2:if(Rp(d)){$t=0,fn=null,__(i);break}i=function(){$t===2&&Xt===e&&($t=7),si(e)},d.then(i,i);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Rp(d)?($t=0,fn=null,__(i)):($t=0,fn=null,Ca(e,i,d,7));break;case 5:var v=null;switch(It.tag){case 26:v=It.memoizedState;case 5:case 27:var E=It;if(!v||K_(v)){$t=0,fn=null;var b=E.sibling;if(b!==null)It=b;else{var N=E.return;N!==null?(It=N,Yu(N)):It=null}break e}}$t=0,fn=null,Ca(e,i,d,5);break;case 6:$t=0,fn=null,Ca(e,i,d,6);break;case 8:Ff(),se=6;break t;default:throw Error(s(462))}}YT();break}catch(j){d_(e,j)}while(!0);return Di=ws=null,S.H=l,S.A=h,te=a,It!==null?0:(Xt=null,kt=0,_u(),se)}function YT(){for(;It!==null&&!vh();)g_(It)}function g_(e){var i=xg(e.alternate,e,Ui);e.memoizedProps=e.pendingProps,i===null?Yu(e):It=i}function __(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Vg(a,i,i.pendingProps,i.type,void 0,kt);break;case 11:i=Vg(a,i,i.pendingProps,i.type.render,i.ref,kt);break;case 5:Xh(i);default:u_(a,i),i=It=a_(i,Ui),i=xg(a,i,Ui)}e.memoizedProps=e.pendingProps,i===null?Yu(e):It=i}function Ca(e,i,a,l){Di=ws=null,Xh(i),pa=null,ko=0;var h=i.return;try{if(UT(e,h,i,a,kt)){se=1,Lu(e,wn(a,e.current)),It=null;return}}catch(d){if(h!==null)throw It=h,d;se=1,Lu(e,wn(a,e.current)),It=null;return}i.flags&32768?(zt||l===1?e=!0:wa||(kt&536870912)!==0?e=!1:(ki=e=!0,(l===2||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),y_(i,e)):Yu(i)}function Yu(e){var i=e;do{if((i.flags&32768)!==0){y_(i,ki);return}e=i.return;var a=HT(i.alternate,i,Ui);if(a!==null){It=a;return}if(i=i.sibling,i!==null){It=i;return}It=i=e}while(i!==null);se===0&&(se=5)}function y_(e,i){do{var a=qT(e.alternate,e);if(a!==null){a.flags&=32767,It=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){It=e;return}It=e=a}while(e!==null);se=6,It=null}function v_(e,i,a,l,h,d,v,E,b,N){var j=S.T,Q=et.p;try{et.p=2,S.T=null,XT(e,i,a,l,Q,h,d,v,E,b,N)}finally{S.T=j,et.p=Q}}function XT(e,i,a,l,h,d,v,E){do Da();while(Os!==null);if((te&6)!==0)throw Error(s(327));var b=e.finishedWork;if(l=e.finishedLanes,b===null)return null;if(e.finishedWork=null,e.finishedLanes=0,b===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var N=b.lanes|b.childLanes;if(N|=Ph,$l(e,l,N,d,v,E),e===Xt&&(It=Xt=null,kt=0),(b.subtreeFlags&10256)===0&&(b.flags&10256)===0||Ku||(Ku=!0,Bf=N,Hf=a,JT(mi,function(){return Da(),null})),a=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||a?(a=S.T,S.T=null,d=et.p,et.p=2,v=te,te|=4,xT(e,b),Jg(b,e),vT(rd,e.containerInfo),ac=!!id,rd=id=null,e.current=b,Xg(e,b.alternate,b),oo(),te=v,et.p=d,S.T=a):e.current=b,Ku?(Ku=!1,Os=e,Jo=l):E_(e,N),N=e.pendingLanes,N===0&&(wr=null),uo(b.stateNode),si(e),i!==null)for(h=e.onRecoverableError,b=0;b<i.length;b++)N=i[b],h(N.value,{componentStack:N.stack});return(Jo&3)!==0&&Da(),N=e.pendingLanes,(l&4194218)!==0&&(N&42)!==0?e===qf?tl++:(tl=0,qf=e):tl=0,el(0),null}function E_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Lo(i)))}function Da(){if(Os!==null){var e=Os,i=Bf;Bf=0;var a=Wl(Jo),l=S.T,h=et.p;try{if(et.p=32>a?32:a,S.T=null,Os===null)var d=!1;else{a=Hf,Hf=null;var v=Os,E=Jo;if(Os=null,Jo=0,(te&6)!==0)throw Error(s(331));var b=te;if(te|=4,r_(v.current),e_(v,v.current,E,a),te=b,el(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot($i,v)}catch{}d=!0}return d}finally{et.p=h,S.T=l,E_(e,i)}}return!1}function T_(e,i,a){i=wn(a,i),i=cf(e.stateNode,i,2),e=vr(e,i,2),e!==null&&(oe(e,2),si(e))}function Yt(e,i,a){if(e.tag===3)T_(e,e,a);else for(;i!==null;){if(i.tag===3){T_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wr===null||!wr.has(l))){e=wn(a,e),a=bg(2),l=vr(i,a,2),l!==null&&(wg(a,l,i,e),oe(l,2),si(l));break}}i=i.return}}function Qf(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new FT;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Uf=!0,h.add(a),e=$T.bind(null,e,i,a),i.then(e,e))}function $T(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Xt===e&&(kt&a)===a&&(se===4||se===3&&(kt&62914560)===kt&&300>en()-zf?(te&2)===0&&Ia(e,0):Lf|=a,Ra===kt&&(Ra=0)),si(e)}function A_(e,i){i===0&&(i=Ji()),e=hr(e,i),e!==null&&(oe(e,i),si(e))}function WT(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),A_(e,a)}function ZT(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),A_(e,a)}function JT(e,i){return ts(e,i)}var Xu=null,Oa=null,Yf=!1,$u=!1,Xf=!1,Ns=0;function si(e){e!==Oa&&e.next===null&&(Oa===null?Xu=Oa=e:Oa=Oa.next=e),$u=!0,Yf||(Yf=!0,eA(tA))}function el(e,i){if(!Xf&&$u){Xf=!0;do for(var a=!1,l=Xu;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-$e(42|e)+1)-1,d&=h&~(v&~E),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,w_(l,d))}else d=kt,d=yn(l,l===Xt?d:0),(d&3)===0||Zi(l,d)||(a=!0,w_(l,d));l=l.next}while(a);Xf=!1}}function tA(){$u=Yf=!1;var e=0;Ns!==0&&(uA()&&(e=Ns),Ns=0);for(var i=en(),a=null,l=Xu;l!==null;){var h=l.next,d=S_(l,i);d===0?(l.next=null,a===null?Xu=h:a.next=h,h===null&&(Oa=a)):(a=l,(e!==0||(d&3)!==0)&&($u=!0)),l=h}el(e)}function S_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-$e(d),E=1<<v,b=h[v];b===-1?((E&a)===0||(E&l)!==0)&&(h[v]=Ys(E,i)):b<=i&&(e.expiredLanes|=E),d&=~E}if(i=Xt,a=kt,a=yn(e,e===i?a:0),l=e.callbackNode,a===0||e===i&&$t===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Qs(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Zi(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Qs(l),Wl(a)){case 2:case 8:a=Re;break;case 32:a=mi;break;case 268435456:a=lo;break;default:a=mi}return l=b_.bind(null,e),a=ts(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Qs(l),e.callbackPriority=2,e.callbackNode=null,2}function b_(e,i){var a=e.callbackNode;if(Da()&&e.callbackNode!==a)return null;var l=kt;return l=yn(e,e===Xt?l:0),l===0?null:(h_(e,l,i),S_(e,en()),e.callbackNode!=null&&e.callbackNode===a?b_.bind(null,e):null)}function w_(e,i){if(Da())return null;h_(e,i,!0)}function eA(e){hA(function(){(te&6)!==0?ts(ye,e):e()})}function $f(){return Ns===0&&(Ns=ho()),Ns}function R_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Yn(""+e)}function I_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function nA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=R_((h[ve]||null).action),v=l.submitter;v&&(i=(i=v[ve]||null)?R_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new ea("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ns!==0){var b=v?I_(h,v):new FormData(h);sf(a,{pending:!0,data:b,method:h.method,action:d},null,b)}}else typeof d=="function"&&(E.preventDefault(),b=v?I_(h,v):new FormData(h),sf(a,{pending:!0,data:b,method:h.method,action:d},d,b))},currentTarget:h}]})}}for(var Wf=0;Wf<vp.length;Wf++){var Zf=vp[Wf],iA=Zf.toLowerCase(),rA=Zf[0].toUpperCase()+Zf.slice(1);Ln(iA,"on"+rA)}Ln(mp,"onAnimationEnd"),Ln(pp,"onAnimationIteration"),Ln(gp,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(TT,"onTransitionRun"),Ln(AT,"onTransitionStart"),Ln(ST,"onTransitionCancel"),Ln(_p,"onTransitionEnd"),nn("onMouseEnter",["mouseout","mouseover"]),nn("onMouseLeave",["mouseout","mouseover"]),nn("onPointerEnter",["pointerout","pointerover"]),nn("onPointerLeave",["pointerout","pointerover"]),on("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),on("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),on("onBeforeInput",["compositionend","keypress","textInput","paste"]),on("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nl));function C_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var E=l[v],b=E.instance,N=E.currentTarget;if(E=E.listener,b!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=N;try{d(h)}catch(j){Uu(j)}h.currentTarget=null,d=b}else for(v=0;v<l.length;v++){if(E=l[v],b=E.instance,N=E.currentTarget,E=E.listener,b!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=N;try{d(h)}catch(j){Uu(j)}h.currentTarget=null,d=b}}}}function Nt(e,i){var a=i[ns];a===void 0&&(a=i[ns]=new Set);var l=e+"__bubble";a.has(l)||(D_(i,e,2,!1),a.add(l))}function Jf(e,i,a){var l=0;i&&(l|=4),D_(a,e,l,i)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function td(e){if(!e[Wu]){e[Wu]=!0,mo.forEach(function(a){a!=="selectionchange"&&(sA.has(a)||Jf(a,!1,e),Jf(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Wu]||(i[Wu]=!0,Jf("selectionchange",!1,i))}}function D_(e,i,a,l){switch(Z_(i)){case 2:var h=NA;break;case 8:h=VA;break;default:h=dd}a=h.bind(null,i,a,e),h=void 0,!An||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function ed(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var b=v.tag;if((b===3||b===4)&&(b=v.stateNode.containerInfo,b===h||b.nodeType===8&&b.parentNode===h))return;v=v.return}for(;E!==null;){if(v=Un(E),v===null)return;if(b=v.tag,b===5||b===6||b===26||b===27){l=d=v;continue t}E=E.parentNode}}l=l.return}nu(function(){var N=d,j=ta(a),Q=[];t:{var z=yp.get(e);if(z!==void 0){var q=ea,st=e;switch(e){case"keypress":if($n(a)===0)break t;case"keydown":case"keyup":q=oa;break;case"focusin":st="focus",q=ra;break;case"focusout":st="blur",q=ra;break;case"beforeblur":case"afterblur":q=ra;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Rh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=cu;break;case mp:case pp:case gp:q=sa;break;case _p:q=fu;break;case"scroll":case"scrollend":q=iu;break;case"wheel":q=la;break;case"copy":case"cut":case"paste":q=aa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ro;break;case"toggle":case"beforetoggle":q=mu}var vt=(i&4)!==0,ae=!vt&&(e==="scroll"||e==="scrollend"),P=vt?z!==null?z+"Capture":null:z;vt=[];for(var O=N,x;O!==null;){var F=O;if(x=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||x===null||P===null||(F=os(O,P),F!=null&&vt.push(il(O,F,x))),ae)break;O=O.return}0<vt.length&&(z=new q(z,st,null,a,j),Q.push({event:z,listeners:vt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&a!==Tn&&(st=a.relatedTarget||a.fromElement)&&(Un(st)||st[pi]))break t;if((q||z)&&(z=j.window===j?j:(z=j.ownerDocument)?z.defaultView||z.parentWindow:window,q?(st=a.relatedTarget||a.toElement,q=N,st=st?Un(st):null,st!==null&&(ae=lt(st),vt=st.tag,st!==ae||vt!==5&&vt!==27&&vt!==6)&&(st=null)):(q=null,st=N),q!==st)){if(vt=Sn,F="onMouseLeave",P="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(vt=Ro,F="onPointerLeave",P="onPointerEnter",O="pointer"),ae=q==null?z:rr(q),x=st==null?z:rr(st),z=new vt(F,O+"leave",q,a,j),z.target=ae,z.relatedTarget=x,F=null,Un(j)===N&&(vt=new vt(P,O+"enter",st,a,j),vt.target=x,vt.relatedTarget=ae,F=vt),ae=F,q&&st)e:{for(vt=q,P=st,O=0,x=vt;x;x=Na(x))O++;for(x=0,F=P;F;F=Na(F))x++;for(;0<O-x;)vt=Na(vt),O--;for(;0<x-O;)P=Na(P),x--;for(;O--;){if(vt===P||P!==null&&vt===P.alternate)break e;vt=Na(vt),P=Na(P)}vt=null}else vt=null;q!==null&&O_(Q,z,q,vt,!1),st!==null&&ae!==null&&O_(Q,ae,st,vt,!0)}}t:{if(z=N?rr(N):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var it=ip;else if(Te(z))if(rp)it=_T;else{it=pT;var Rt=mT}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?N&&vo(N.elementType)&&(it=ip):it=gT;if(it&&(it=it(e,N))){Si(Q,it,a,j);break t}Rt&&Rt(e,z,N),e==="focusout"&&N&&z.type==="number"&&N.memoizedProps.value!=null&&Js(z,"number",z.value)}switch(Rt=N?rr(N):window,e){case"focusin":(Te(Rt)||Rt.contentEditable==="true")&&(ua=Rt,Nh=N,Do=null);break;case"focusout":Do=Nh=ua=null;break;case"mousedown":Vh=!0;break;case"contextmenu":case"mouseup":case"dragend":Vh=!1,fp(Q,a,j);break;case"selectionchange":if(ET)break;case"keydown":case"keyup":fp(Q,a,j)}var ot;if(Jn)t:{switch(e){case"compositionstart":var ct="onCompositionStart";break t;case"compositionend":ct="onCompositionEnd";break t;case"compositionupdate":ct="onCompositionUpdate";break t}ct=void 0}else Mt?B(e,a)&&(ct="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ct="onCompositionStart");ct&&(y&&a.locale!=="ko"&&(Mt||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&Mt&&(ot=To()):(Xn=j,cr="value"in Xn?Xn.value:Xn.textContent,Mt=!0)),Rt=Zu(N,ct),0<Rt.length&&(ct=new bo(ct,e,null,a,j),Q.push({event:ct,listeners:Rt}),ot?ct.data=ot:(ot=W(a),ot!==null&&(ct.data=ot)))),(ot=m?Ee(e,a):Pt(e,a))&&(ct=Zu(N,"onBeforeInput"),0<ct.length&&(Rt=new bo("onBeforeInput","beforeinput",null,a,j),Q.push({event:Rt,listeners:ct}),Rt.data=ot)),nA(Q,e,N,a,j)}C_(Q,i)})}function il(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Zu(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=os(e,a),h!=null&&l.unshift(il(e,h,d)),h=os(e,i),h!=null&&l.push(il(e,h,d))),e=e.return}return l}function Na(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function O_(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var E=a,b=E.alternate,N=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||N===null||(b=N,h?(N=os(a,d),N!=null&&v.unshift(il(a,N,b))):h||(N=os(a,d),N!=null&&v.push(il(a,N,b)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var aA=/\r\n?/g,oA=/\u0000|\uFFFD/g;function N_(e){return(typeof e=="string"?e:""+e).replace(aA,`
`).replace(oA,"")}function V_(e,i){return i=N_(i),N_(e)===i}function Ju(){}function Qt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||En(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&En(e,""+l);break;case"className":or(e,"class",l);break;case"tabIndex":or(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":or(e,a,l);break;case"style":eu(e,l,d);break;case"data":if(i!=="object"){or(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Yn(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Qt(e,i,"name",h.name,h,null),Qt(e,i,"formEncType",h.formEncType,h,null),Qt(e,i,"formMethod",h.formMethod,h,null),Qt(e,i,"formTarget",h.formTarget,h,null)):(Qt(e,i,"encType",h.encType,h,null),Qt(e,i,"method",h.method,h,null),Qt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Yn(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Ju);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Yn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),ar(e,"popover",l);break;case"xlinkActuate":vn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":vn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":vn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":vn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":vn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":vn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":vn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":vn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":vn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ar(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bh.get(a)||a,ar(e,a,l))}}function nd(e,i,a,l,h,d){switch(a){case"style":eu(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?En(e,l):(typeof l=="number"||typeof l=="bigint")&&En(e,""+l);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ws.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[ve]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ar(e,a,l)}}}function xe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Qt(e,i,d,v,a,null)}}h&&Qt(e,i,"srcSet",a.srcSet,a,null),l&&Qt(e,i,"src",a.src,a,null);return;case"input":Nt("invalid",e);var E=d=v=h=null,b=null,N=null;for(l in a)if(a.hasOwnProperty(l)){var j=a[l];if(j!=null)switch(l){case"name":h=j;break;case"type":v=j;break;case"checked":b=j;break;case"defaultChecked":N=j;break;case"value":d=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:Qt(e,i,l,j,a,null)}}ss(e,d,E,b,N,v,h,!1),rs(e);return;case"select":Nt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Qt(e,i,h,E,a,null)}i=d,a=v,e.multiple=!!l,i!=null?xt(e,!!l,i,!1):a!=null&&xt(e,!!l,a,!0);return;case"textarea":Nt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Qt(e,i,v,E,a,null)}ur(e,l,h,d),rs(e);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qt(e,i,b,l,a,null)}return;case"dialog":Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(l=0;l<nl.length;l++)Nt(nl[l],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Qt(e,i,N,l,a,null)}return;default:if(vo(i)){for(j in a)a.hasOwnProperty(j)&&(l=a[j],l!==void 0&&nd(e,i,j,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Qt(e,i,E,l,a,null))}function lA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,b=null,N=null,j=null;for(q in a){var Q=a[q];if(a.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=Q;default:l.hasOwnProperty(q)||Qt(e,i,q,null,l,Q)}}for(var z in l){var q=l[z];if(Q=a[z],l.hasOwnProperty(z)&&(q!=null||Q!=null))switch(z){case"type":d=q;break;case"name":h=q;break;case"checked":N=q;break;case"defaultChecked":j=q;break;case"value":v=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==Q&&Qt(e,i,z,q,l,Q)}}lr(e,v,E,b,N,j,d,h);return;case"select":q=v=E=z=null;for(d in a)if(b=a[d],a.hasOwnProperty(d)&&b!=null)switch(d){case"value":break;case"multiple":q=b;default:l.hasOwnProperty(d)||Qt(e,i,d,null,l,b)}for(h in l)if(d=l[h],b=a[h],l.hasOwnProperty(h)&&(d!=null||b!=null))switch(h){case"value":z=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==b&&Qt(e,i,h,d,l,b)}i=E,a=v,l=q,z!=null?xt(e,!!a,z,!1):!!l!=!!a&&(i!=null?xt(e,!!a,i,!0):xt(e,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Qt(e,i,E,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Qt(e,i,v,h,l,d)}as(e,z,q);return;case"option":for(var st in a)if(z=a[st],a.hasOwnProperty(st)&&z!=null&&!l.hasOwnProperty(st))switch(st){case"selected":e.selected=!1;break;default:Qt(e,i,st,null,l,z)}for(b in l)if(z=l[b],q=a[b],l.hasOwnProperty(b)&&z!==q&&(z!=null||q!=null))switch(b){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Qt(e,i,b,z,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)z=a[vt],a.hasOwnProperty(vt)&&z!=null&&!l.hasOwnProperty(vt)&&Qt(e,i,vt,null,l,z);for(N in l)if(z=l[N],q=a[N],l.hasOwnProperty(N)&&z!==q&&(z!=null||q!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Qt(e,i,N,z,l,q)}return;default:if(vo(i)){for(var ae in a)z=a[ae],a.hasOwnProperty(ae)&&z!==void 0&&!l.hasOwnProperty(ae)&&nd(e,i,ae,void 0,l,z);for(j in l)z=l[j],q=a[j],!l.hasOwnProperty(j)||z===q||z===void 0&&q===void 0||nd(e,i,j,z,l,q);return}}for(var P in a)z=a[P],a.hasOwnProperty(P)&&z!=null&&!l.hasOwnProperty(P)&&Qt(e,i,P,null,l,z);for(Q in l)z=l[Q],q=a[Q],!l.hasOwnProperty(Q)||z===q||z==null&&q==null||Qt(e,i,Q,z,l,q)}var id=null,rd=null;function tc(e){return e.nodeType===9?e:e.ownerDocument}function M_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function P_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function sd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ad=null;function uA(){var e=window.event;return e&&e.type==="popstate"?e===ad?!1:(ad=e,!0):(ad=null,!1)}var k_=typeof setTimeout=="function"?setTimeout:void 0,cA=typeof clearTimeout=="function"?clearTimeout:void 0,U_=typeof Promise=="function"?Promise:void 0,hA=typeof queueMicrotask=="function"?queueMicrotask:typeof U_<"u"?function(e){return U_.resolve(null).then(e).catch(fA)}:k_;function fA(e){setTimeout(function(){throw e})}function od(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){e.removeChild(h),hl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);hl(i)}function ld(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ld(a),is(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function dA(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ir])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Bn(e.nextSibling),e===null)break}return null}function mA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Bn(e.nextSibling),e===null))return null;return e}function Bn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}function L_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function x_(e,i,a){switch(i=tc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var Mn=new Map,z_=new Set;function ec(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var xi=et.d;et.d={f:pA,r:gA,D:_A,C:yA,L:vA,m:EA,X:AA,S:TA,M:SA};function pA(){var e=xi.f(),i=Qu();return e||i}function gA(e){var i=gi(e);i!==null&&i.tag===5&&i.type==="form"?fg(i):xi.r(e)}var Va=typeof document>"u"?null:document;function B_(e,i,a){var l=Va;if(l&&typeof i=="string"&&i){var h=ie(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),z_.has(h)||(z_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),xe(i,"link",e),Zt(i),l.head.appendChild(i)))}}function _A(e){xi.D(e),B_("dns-prefetch",e,null)}function yA(e,i){xi.C(e,i),B_("preconnect",e,i)}function vA(e,i,a){xi.L(e,i,a);var l=Va;if(l&&e&&i){var h='link[rel="preload"][as="'+ie(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ie(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ie(a.imageSizes)+'"]')):h+='[href="'+ie(e)+'"]';var d=h;switch(i){case"style":d=Ma(e);break;case"script":d=Pa(e)}Mn.has(d)||(e=I({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Mn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(rl(d))||i==="script"&&l.querySelector(sl(d))||(i=l.createElement("link"),xe(i,"link",e),Zt(i),l.head.appendChild(i)))}}function EA(e,i){xi.m(e,i);var a=Va;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ie(l)+'"][href="'+ie(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Pa(e)}if(!Mn.has(d)&&(e=I({rel:"modulepreload",href:e},i),Mn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(sl(d)))return}l=a.createElement("link"),xe(l,"link",e),Zt(l),a.head.appendChild(l)}}}function TA(e,i,a){xi.S(e,i,a);var l=Va;if(l&&e){var h=sr(l).hoistableStyles,d=Ma(e);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(rl(d)))E.loading=5;else{e=I({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Mn.get(d))&&ud(e,a);var b=v=l.createElement("link");Zt(b),xe(b,"link",e),b._p=new Promise(function(N,j){b.onload=N,b.onerror=j}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,nc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function AA(e,i){xi.X(e,i);var a=Va;if(a&&e){var l=sr(a).hoistableScripts,h=Pa(e),d=l.get(h);d||(d=a.querySelector(sl(h)),d||(e=I({src:e,async:!0},i),(i=Mn.get(h))&&cd(e,i),d=a.createElement("script"),Zt(d),xe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function SA(e,i){xi.M(e,i);var a=Va;if(a&&e){var l=sr(a).hoistableScripts,h=Pa(e),d=l.get(h);d||(d=a.querySelector(sl(h)),d||(e=I({src:e,async:!0,type:"module"},i),(i=Mn.get(h))&&cd(e,i),d=a.createElement("script"),Zt(d),xe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function H_(e,i,a,l){var h=(h=_n.current)?ec(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ma(a.href),a=sr(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ma(a.href);var d=sr(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(rl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Mn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(e,a),d||bA(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Pa(a),a=sr(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ma(e){return'href="'+ie(e)+'"'}function rl(e){return'link[rel="stylesheet"]['+e+"]"}function q_(e){return I({},e,{"data-precedence":e.precedence,precedence:null})}function bA(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),xe(i,"link",a),Zt(i),e.head.appendChild(i))}function Pa(e){return'[src="'+ie(e)+'"]'}function sl(e){return"script[async]"+e}function j_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+ie(a.href)+'"]');if(l)return i.instance=l,Zt(l),l;var h=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Zt(l),xe(l,"style",h),nc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Ma(a.href);var d=e.querySelector(rl(h));if(d)return i.state.loading|=4,i.instance=d,Zt(d),d;l=q_(a),(h=Mn.get(h))&&ud(l,h),d=(e.ownerDocument||e).createElement("link"),Zt(d);var v=d;return v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),xe(d,"link",l),i.state.loading|=4,nc(d,a.precedence,e),i.instance=d;case"script":return d=Pa(a.src),(h=e.querySelector(sl(d)))?(i.instance=h,Zt(h),h):(l=a,(h=Mn.get(d))&&(l=I({},a),cd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Zt(h),xe(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,nc(l,a.precedence,e));return i.instance}function nc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function ud(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function cd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var ic=null;function F_(e,i,a){if(ic===null){var l=new Map,h=ic=new Map;h.set(a,l)}else h=ic,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ir]||d[Ie]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var E=l.get(v);E?E.push(d):l.set(v,[d])}}return l}function G_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function wA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function K_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var al=null;function RA(){}function IA(e,i,a){if(al===null)throw Error(s(475));var l=al;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ma(a.href),d=e.querySelector(rl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=rc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,Zt(d);return}d=e.ownerDocument||e,a=q_(a),(h=Mn.get(h))&&ud(a,h),d=d.createElement("link"),Zt(d);var v=d;v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),xe(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=rc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function CA(){if(al===null)throw Error(s(475));var e=al;return e.stylesheets&&e.count===0&&hd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&hd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function rc(){if(this.count--,this.count===0){if(this.stylesheets)hd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var sc=null;function hd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,sc=new Map,i.forEach(DA,e),sc=null,rc.call(e))}function DA(e,i){if(!(i.state.loading&4)){var a=sc.get(e);if(a)var l=a.get(null);else{a=new Map,sc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=rc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var ol={$$typeof:H,Provider:null,Consumer:null,_currentValue:bt,_currentValue2:bt,_threadCount:0};function OA(e,i,a,l,h,d,v,E){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xs(0),this.hiddenUpdates=Xs(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Q_(e,i,a,l,h,d,v,E,b,N,j,Q){return e=new OA(e,i,a,v,E,b,N,Q),i=1,d===!0&&(i|=24),d=Nn(3,null,null,i),e.current=d,d.stateNode=e,i=qh(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Sf(d),e}function Y_(e){return e?(e=fa,e):fa}function X_(e,i,a,l,h,d){h=Y_(h),l.context===null?l.context=h:l.pendingContext=h,l=yr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=vr(e,l,i),a!==null&&(tn(a,e,i),Fo(a,e,i))}function $_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function fd(e,i){$_(e,i),(e=e.alternate)&&$_(e,i)}function W_(e){if(e.tag===13){var i=hr(e,67108864);i!==null&&tn(i,e,67108864),fd(e,67108864)}}var ac=!0;function NA(e,i,a,l){var h=S.T;S.T=null;var d=et.p;try{et.p=2,dd(e,i,a,l)}finally{et.p=d,S.T=h}}function VA(e,i,a,l){var h=S.T;S.T=null;var d=et.p;try{et.p=8,dd(e,i,a,l)}finally{et.p=d,S.T=h}}function dd(e,i,a,l){if(ac){var h=md(l);if(h===null)ed(e,i,l,oc,a),J_(e,l);else if(PA(h,e,i,a,l))l.stopPropagation();else if(J_(e,l),i&4&&-1<MA.indexOf(e)){for(;h!==null;){var d=gi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=kn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var b=1<<31-$e(v);E.entanglements[1]|=b,v&=~b}si(d),(te&6)===0&&(Fu=en()+500,el(0))}}break;case 13:E=hr(d,2),E!==null&&tn(E,d,2),Qu(),fd(d,2)}if(d=md(l),d===null&&ed(e,i,l,oc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else ed(e,i,l,null,a)}}function md(e){return e=ta(e),pd(e)}var oc=null;function pd(e){if(oc=null,e=Un(e),e!==null){var i=lt(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=qt(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return oc=e,null}function Z_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kl()){case ye:return 2;case Re:return 8;case mi:case Ql:return 32;case lo:return 268435456;default:return 32}default:return 32}}var gd=!1,Rr=null,Ir=null,Cr=null,ll=new Map,ul=new Map,Dr=[],MA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J_(e,i){switch(e){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":ll.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(i.pointerId)}}function cl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=gi(i),i!==null&&W_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function PA(e,i,a,l,h){switch(i){case"focusin":return Rr=cl(Rr,e,i,a,l,h),!0;case"dragenter":return Ir=cl(Ir,e,i,a,l,h),!0;case"mouseover":return Cr=cl(Cr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return ll.set(d,cl(ll.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,ul.set(d,cl(ul.get(d)||null,e,i,a,l,h)),!0}return!1}function ty(e){var i=Un(e.target);if(i!==null){var a=lt(i);if(a!==null){if(i=a.tag,i===13){if(i=qt(a),i!==null){e.blockedOn=i,nr(e.priority,function(){if(a.tag===13){var l=dn(),h=hr(a,l);h!==null&&tn(h,a,l),fd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function lc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=md(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Tn=l,a.target.dispatchEvent(l),Tn=null}else return i=gi(a),i!==null&&W_(i),e.blockedOn=a,!1;i.shift()}return!0}function ey(e,i,a){lc(e)&&a.delete(i)}function kA(){gd=!1,Rr!==null&&lc(Rr)&&(Rr=null),Ir!==null&&lc(Ir)&&(Ir=null),Cr!==null&&lc(Cr)&&(Cr=null),ll.forEach(ey),ul.forEach(ey)}function uc(e,i){e.blockedOn===i&&(e.blockedOn=null,gd||(gd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kA)))}var cc=null;function ny(e){cc!==e&&(cc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){cc===e&&(cc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(pd(l||a)===null)continue;break}var d=gi(a);d!==null&&(e.splice(i,3),i-=3,sf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function hl(e){function i(b){return uc(b,e)}Rr!==null&&uc(Rr,e),Ir!==null&&uc(Ir,e),Cr!==null&&uc(Cr,e),ll.forEach(i),ul.forEach(i);for(var a=0;a<Dr.length;a++){var l=Dr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Dr.length&&(a=Dr[0],a.blockedOn===null);)ty(a),a.blockedOn===null&&Dr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[ve]||null;if(typeof d=="function")v||ny(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[ve]||null)E=v.formAction;else if(pd(h)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),ny(a)}}}function _d(e){this._internalRoot=e}hc.prototype.render=_d.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=dn();X_(a,l,e,i,null,null)},hc.prototype.unmount=_d.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e.tag===0&&Da(),X_(e.current,2,null,e,null,null),Qu(),i[pi]=null}};function hc(e){this._internalRoot=e}hc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Zl();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Dr.length&&i!==0&&i<Dr[a].priority;a++);Dr.splice(a,0,e),a===0&&ty(e)}};var iy=t.version;if(iy!=="19.0.0")throw Error(s(527,iy,"19.0.0"));et.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Y(i),e=e!==null?at(e):null,e=e===null?null:e.stateNode,e};var UA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Un,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{$i=fc.inject(UA),qe=fc}catch{}}return dl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Eg,d=Tg,v=Ag,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=Q_(e,1,!1,null,null,a,l,h,d,v,E,null),e[pi]=i.current,td(e.nodeType===8?e.parentNode:e),new _d(i)},dl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Eg,v=Tg,E=Ag,b=null,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(N=a.formState)),i=Q_(e,1,!0,i,a??null,l,h,d,v,E,b,N),i.context=Y_(null),a=i.current,l=dn(),h=yr(l),h.callback=null,vr(a,h,l),i.current.lanes=l,oe(i,l),si(i),e[pi]=i.current,td(e),new hc(i)},dl.version="19.0.0",dl}var dy;function QA(){if(dy)return Ed.exports;dy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ed.exports=KA(),Ed.exports}var YA=QA();const XA=()=>{};var my={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},$A=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[n++];t[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[n++],f=r[n++],p=r[n++],g=((o&7)<<18|(c&63)<<12|(f&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const c=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return t.join("")},Kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],f=o+1<r.length,p=f?r[o+1]:0,g=o+2<r.length,_=g?r[o+2]:0,A=c>>2,C=(c&3)<<4|p>>4;let k=(p&15)<<2|_>>6,H=_&63;g||(H=64,f||(k=64)),s.push(n[A],n[C],n[k],n[H])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Gv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):$A(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const _=o<r.length?n[r.charAt(o)]:64;++o;const C=o<r.length?n[r.charAt(o)]:64;if(++o,c==null||p==null||_==null||C==null)throw new WA;const k=c<<2|p>>4;if(s.push(k),_!==64){const H=p<<4&240|_>>2;if(s.push(H),C!==64){const X=_<<6&192|C;s.push(X)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class WA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZA=function(r){const t=Gv(r);return Kv.encodeByteArray(t,!0)},Vc=function(r){return ZA(r).replace(/\./g,"")},Qv=function(r){try{return Kv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=()=>JA().__FIREBASE_DEFAULTS__,eS=()=>{if(typeof process>"u"||typeof my>"u")return;const r=my.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},nS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Qv(r[1]);return t&&JSON.parse(t)},th=()=>{try{return XA()||tS()||eS()||nS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Yv=r=>{var t,n;return(n=(t=th())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},iS=r=>{const t=Yv(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},Xv=()=>{var r;return(r=th())===null||r===void 0?void 0:r.config},$v=r=>{var t;return(t=th())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Vc(JSON.stringify(n)),Vc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function oS(){var r;const t=(r=th())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function cS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hS(){const r=Ye();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function fS(){return!oS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dS(){try{return typeof indexedDB=="object"}catch{return!1}}function mS(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var c;t(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="FirebaseError";class Qi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=pS,Object.setPrototypeOf(this,Qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ml.prototype.create)}}class Ml{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,c=this.errors[t],f=c?gS(c,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new Qi(o,p,s)}}function gS(r,t){return r.replace(_S,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const _S=/\{\$([^}]+)}/g;function yS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function ks(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const c=r[o],f=t[o];if(py(c)&&py(f)){if(!ks(c,f))return!1}else if(c!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function py(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function ml(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(c)}}),t}function pl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function vS(r,t){const n=new ES(r,t);return n.subscribe.bind(n)}class ES{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");TS(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=bd),o.error===void 0&&(o.error=bd),o.complete===void 0&&(o.complete=bd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TS(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function bd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(r){return r&&r._delegate?r._delegate:r}class Us{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new rS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(bS(t))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(t=Vs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vs){return this.instances.has(t)}getOptions(t=Vs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(o,c);const f=this.instances.get(o);return f&&t(f,o),()=>{c.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:SS(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Vs){return this.component?this.component.multipleInstances?t:Vs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SS(r){return r===Vs?void 0:r}function bS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new AS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Dt||(Dt={}));const RS={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},IS=Dt.INFO,CS={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},DS=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=CS[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class cm{constructor(t){this.name=t,this._logLevel=IS,this._logHandler=DS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?RS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const OS=(r,t)=>t.some(n=>r instanceof n);let gy,_y;function NS(){return gy||(gy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VS(){return _y||(_y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wv=new WeakMap,kd=new WeakMap,Zv=new WeakMap,wd=new WeakMap,hm=new WeakMap;function MS(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{n(xr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&Wv.set(n,r)}).catch(()=>{}),hm.set(t,r),t}function PS(r){if(kd.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});kd.set(r,t)}let Ud={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return kd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Zv.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function kS(r){Ud=r(Ud)}function US(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Rd(this),t,...n);return Zv.set(s,t.sort?t.sort():[t]),xr(s)}:VS().includes(r)?function(...t){return r.apply(Rd(this),t),xr(Wv.get(this))}:function(...t){return xr(r.apply(Rd(this),t))}}function LS(r){return typeof r=="function"?US(r):(r instanceof IDBTransaction&&PS(r),OS(r,NS())?new Proxy(r,Ud):r)}function xr(r){if(r instanceof IDBRequest)return MS(r);if(wd.has(r))return wd.get(r);const t=LS(r);return t!==r&&(wd.set(r,t),hm.set(t,r)),t}const Rd=r=>hm.get(r);function xS(r,t,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const f=indexedDB.open(r,t),p=xr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(xr(f.result),g.oldVersion,g.newVersion,xr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const zS=["get","getKey","getAll","getAllKeys","count"],BS=["put","add","delete","clear"],Id=new Map;function yy(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Id.get(t))return Id.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=BS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||zS.includes(n)))return;const c=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(p.shift())),(await Promise.all([_[n](...p),o&&g.done]))[0]};return Id.set(t,c),c}kS(r=>({...r,get:(t,n,s)=>yy(t,n)||r.get(t,n,s),has:(t,n)=>!!yy(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function qS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ld="@firebase/app",vy="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new cm("@firebase/app"),jS="@firebase/app-compat",FS="@firebase/analytics-compat",GS="@firebase/analytics",KS="@firebase/app-check-compat",QS="@firebase/app-check",YS="@firebase/auth",XS="@firebase/auth-compat",$S="@firebase/database",WS="@firebase/data-connect",ZS="@firebase/database-compat",JS="@firebase/functions",tb="@firebase/functions-compat",eb="@firebase/installations",nb="@firebase/installations-compat",ib="@firebase/messaging",rb="@firebase/messaging-compat",sb="@firebase/performance",ab="@firebase/performance-compat",ob="@firebase/remote-config",lb="@firebase/remote-config-compat",ub="@firebase/storage",cb="@firebase/storage-compat",hb="@firebase/firestore",fb="@firebase/vertexai",db="@firebase/firestore-compat",mb="firebase",pb="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="[DEFAULT]",gb={[Ld]:"fire-core",[jS]:"fire-core-compat",[GS]:"fire-analytics",[FS]:"fire-analytics-compat",[QS]:"fire-app-check",[KS]:"fire-app-check-compat",[YS]:"fire-auth",[XS]:"fire-auth-compat",[$S]:"fire-rtdb",[WS]:"fire-data-connect",[ZS]:"fire-rtdb-compat",[JS]:"fire-fn",[tb]:"fire-fn-compat",[eb]:"fire-iid",[nb]:"fire-iid-compat",[ib]:"fire-fcm",[rb]:"fire-fcm-compat",[sb]:"fire-perf",[ab]:"fire-perf-compat",[ob]:"fire-rc",[lb]:"fire-rc-compat",[ub]:"fire-gcs",[cb]:"fire-gcs-compat",[hb]:"fire-fst",[db]:"fire-fst-compat",[fb]:"fire-vertex","fire-js":"fire-js",[mb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new Map,_b=new Map,zd=new Map;function Ey(r,t){try{r.container.addComponent(t)}catch(n){ji.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Fa(r){const t=r.name;if(zd.has(t))return ji.debug(`There were multiple attempts to register component ${t}.`),!1;zd.set(t,r);for(const n of Mc.values())Ey(n,r);for(const n of _b.values())Ey(n,r);return!0}function fm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Pn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zr=new Ml("app","Firebase",yb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=pb;function Jv(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:xd,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw zr.create("bad-app-name",{appName:String(o)});if(n||(n=Xv()),!n)throw zr.create("no-options");const c=Mc.get(o);if(c){if(ks(n,c.options)&&ks(s,c.config))return c;throw zr.create("duplicate-app",{appName:o})}const f=new wS(o);for(const g of zd.values())f.addComponent(g);const p=new vb(n,s,f);return Mc.set(o,p),p}function tE(r=xd){const t=Mc.get(r);if(!t&&r===xd&&Xv())return Jv();if(!t)throw zr.create("no-app",{appName:r});return t}function Br(r,t,n){var s;let o=(s=gb[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const c=o.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const p=[`Unable to register library "${o}" with version "${t}":`];c&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&f&&p.push("and"),f&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ji.warn(p.join(" "));return}Fa(new Us(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="firebase-heartbeat-database",Tb=1,bl="firebase-heartbeat-store";let Cd=null;function eE(){return Cd||(Cd=xS(Eb,Tb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(bl)}catch(n){console.warn(n)}}}}).catch(r=>{throw zr.create("idb-open",{originalErrorMessage:r.message})})),Cd}async function Ab(r){try{const n=(await eE()).transaction(bl),s=await n.objectStore(bl).get(nE(r));return await n.done,s}catch(t){if(t instanceof Qi)ji.warn(t.message);else{const n=zr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ji.warn(n.message)}}}async function Ty(r,t){try{const s=(await eE()).transaction(bl,"readwrite");await s.objectStore(bl).put(t,nE(r)),await s.done}catch(n){if(n instanceof Qi)ji.warn(n.message);else{const s=zr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ji.warn(s.message)}}}function nE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=1024,bb=30;class wb{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ib(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Ay();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>bb){const f=Cb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ji.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ay(),{heartbeatsToSend:s,unsentEntries:o}=Rb(this._heartbeatsCache.heartbeats),c=Vc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return ji.warn(n),""}}}function Ay(){return new Date().toISOString().substring(0,10)}function Rb(r,t=Sb){const n=[];let s=r.slice();for(const o of r){const c=n.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),Sy(n)>t){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Sy(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Ib{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dS()?mS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ab(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ty(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ty(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Sy(r){return Vc(JSON.stringify({version:2,heartbeats:r})).length}function Cb(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(r){Fa(new Us("platform-logger",t=>new HS(t),"PRIVATE")),Fa(new Us("heartbeat",t=>new wb(t),"PRIVATE")),Br(Ld,vy,r),Br(Ld,vy,"esm2017"),Br("fire-js","")}Db("");var Ob="firebase",Nb="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br(Ob,Nb,"app");function dm(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function iE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Vb=iE,rE=new Ml("auth","Firebase",iE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new cm("@firebase/auth");function Mb(r,...t){Pc.logLevel<=Dt.WARN&&Pc.warn(`Auth (${Za}): ${r}`,...t)}function Ac(r,...t){Pc.logLevel<=Dt.ERROR&&Pc.error(`Auth (${Za}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(r,...t){throw mm(r,...t)}function oi(r,...t){return mm(r,...t)}function sE(r,t,n){const s=Object.assign(Object.assign({},Vb()),{[t]:n});return new Ml("auth","Firebase",s).create(t,{appName:r.name})}function qi(r){return sE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return rE.create(r,...t)}function ht(r,t,...n){if(!r)throw mm(t,...n)}function zi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Ac(t),new Error(t)}function Fi(r,t){r||zi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function Pb(){return by()==="http:"||by()==="https:"}function by(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Pb()||uS()||"connection"in navigator)?navigator.onLine:!0}function Ub(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Fi(n>t,"Short delay should be less than long delay!"),this.isMobile=aS()||cS()}get(){return kb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(r,t){Fi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=new kl(3e4,6e4);function $r(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Wr(r,t,n,s,o={}){return oE(r,o,async()=>{let c={},f={};s&&(t==="GET"?f=s:c={body:JSON.stringify(s)});const p=Pl(Object.assign({key:r.config.apiKey},f)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:t,headers:g},c);return lS()||(_.referrerPolicy="no-referrer"),aE.fetch()(lE(r,r.config.apiHost,n,p),_)})}async function oE(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},Lb),t);try{const o=new Bb(r),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw dc(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const p=c.ok?f.errorMessage:f.error.message,[g,_]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw dc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw dc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw dc(r,"user-disabled",f);const A=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw sE(r,A,_);qn(r,A)}}catch(o){if(o instanceof Qi)throw o;qn(r,"network-request-failed",{message:String(o)})}}async function Ul(r,t,n,s,o={}){const c=await Wr(r,t,n,s,o);return"mfaPendingCredential"in c&&qn(r,"multi-factor-auth-required",{_serverResponse:c}),c}function lE(r,t,n,s){const o=`${t}${n}?${s}`;return r.config.emulator?pm(r.config,o):`${r.config.apiScheme}://${o}`}function zb(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Bb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(oi(this.auth,"network-request-failed")),xb.get())})}}function dc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=oi(r,t,s);return o.customData._tokenResponse=n,o}function wy(r){return r!==void 0&&r.enterprise!==void 0}class Hb{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return zb(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qb(r,t){return Wr(r,"GET","/v2/recaptchaConfig",$r(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jb(r,t){return Wr(r,"POST","/v1/accounts:delete",t)}async function uE(r,t){return Wr(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Fb(r,t=!1){const n=Pe(r),s=await n.getIdToken(t),o=gm(s);ht(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c==null?void 0:c.sign_in_provider;return{claims:o,token:s,authTime:vl(Dd(o.auth_time)),issuedAtTime:vl(Dd(o.iat)),expirationTime:vl(Dd(o.exp)),signInProvider:f||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Dd(r){return Number(r)*1e3}function gm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Ac("JWT malformed, contained fewer than 3 sections"),null;try{const o=Qv(n);return o?JSON.parse(o):(Ac("Failed to decode base64 JWT payload"),null)}catch(o){return Ac("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Ry(r){const t=gm(r);return ht(t,"internal-error"),ht(typeof t.exp<"u","internal-error"),ht(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Qi&&Gb(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Gb({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vl(this.lastLoginAt),this.creationTime=vl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(r){var t;const n=r.auth,s=await r.getIdToken(),o=await wl(r,uE(n,{idToken:s}));ht(o==null?void 0:o.users.length,n,"internal-error");const c=o.users[0];r._notifyReloadListener(c);const f=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?cE(c.providerUserInfo):[],p=Yb(r.providerData,f),g=r.isAnonymous,_=!(r.email&&c.passwordHash)&&!(p!=null&&p.length),A=g?_:!1,C={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:p,metadata:new Hd(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(r,C)}async function Qb(r){const t=Pe(r);await kc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Yb(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function cE(r){return r.map(t=>{var{providerId:n}=t,s=dm(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xb(r,t){const n=await oE(r,{},async()=>{const s=Pl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,f=lE(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",aE.fetch()(f,{method:"POST",headers:p,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $b(r,t){return Wr(r,"POST","/v2/accounts:revokeToken",$r(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ht(t.idToken,"internal-error"),ht(typeof t.idToken<"u","internal-error"),ht(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Ry(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){ht(t.length!==0,"internal-error");const n=Ry(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ht(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await Xb(t,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,f=new Ba;return s&&(ht(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(ht(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),c&&(ht(typeof c=="number","internal-error",{appName:t}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ba,this.toJSON())}_performRefresh(){return zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(r,t){ht(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Bi{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,c=dm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Hd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const n=await wl(this,this.stsTokenManager.getToken(this.auth,t));return ht(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Fb(this,t)}reload(){return Qb(this)}_assign(t){this!==t&&(ht(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Bi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await kc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(qi(this.auth));const t=await this.getIdToken();return await wl(this,jb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,c,f,p,g,_,A;const C=(s=n.displayName)!==null&&s!==void 0?s:void 0,k=(o=n.email)!==null&&o!==void 0?o:void 0,H=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,X=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Z=(p=n.tenantId)!==null&&p!==void 0?p:void 0,$=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,Tt=(_=n.createdAt)!==null&&_!==void 0?_:void 0,ft=(A=n.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:_t,emailVerified:Ht,isAnonymous:yt,providerData:Ct,stsTokenManager:M}=n;ht(_t&&M,t,"internal-error");const w=Ba.fromJSON(this.name,M);ht(typeof _t=="string",t,"internal-error"),Nr(C,t.name),Nr(k,t.name),ht(typeof Ht=="boolean",t,"internal-error"),ht(typeof yt=="boolean",t,"internal-error"),Nr(H,t.name),Nr(X,t.name),Nr(Z,t.name),Nr($,t.name),Nr(Tt,t.name),Nr(ft,t.name);const S=new Bi({uid:_t,auth:t,email:k,emailVerified:Ht,displayName:C,isAnonymous:yt,photoURL:X,phoneNumber:H,tenantId:Z,stsTokenManager:w,createdAt:Tt,lastLoginAt:ft});return Ct&&Array.isArray(Ct)&&(S.providerData=Ct.map(I=>Object.assign({},I))),$&&(S._redirectEventId=$),S}static async _fromIdTokenResponse(t,n,s=!1){const o=new Ba;o.updateFromServerResponse(n);const c=new Bi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await kc(c),c}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];ht(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?cE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),p=new Ba;p.updateFromIdToken(s);const g=new Bi({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Hd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(g,_),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=new Map;function Hi(r){Fi(r instanceof Function,"Expected a class definition");let t=Iy.get(r);return t?(Fi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Iy.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}hE.type="NONE";const Cy=hE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(r,t,n){return`firebase:${r}:${t}:${n}`}class Ha{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=Sc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Sc("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Bi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Ha(Hi(Cy),t,s);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||Hi(Cy);const f=Sc(s,t.config.apiKey,t.name);let p=null;for(const _ of n)try{const A=await _._get(f);if(A){const C=Bi._fromJSON(t,A);_!==c&&(p=C),c=_;break}}catch{}const g=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Ha(c,t,s):(c=g[0],p&&await c._set(f,p.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(f)}catch{}})),new Ha(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(pE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_E(t))return"Blackberry";if(yE(t))return"Webos";if(dE(t))return"Safari";if((t.includes("chrome/")||mE(t))&&!t.includes("edge/"))return"Chrome";if(gE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function fE(r=Ye()){return/firefox\//i.test(r)}function dE(r=Ye()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function mE(r=Ye()){return/crios\//i.test(r)}function pE(r=Ye()){return/iemobile/i.test(r)}function gE(r=Ye()){return/android/i.test(r)}function _E(r=Ye()){return/blackberry/i.test(r)}function yE(r=Ye()){return/webos/i.test(r)}function _m(r=Ye()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Wb(r=Ye()){var t;return _m(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Zb(){return hS()&&document.documentMode===10}function vE(r=Ye()){return _m(r)||gE(r)||yE(r)||_E(r)||/windows phone/i.test(r)||pE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(r,t=[]){let n;switch(r){case"Browser":n=Dy(Ye());break;case"Worker":n=`${Dy(Ye())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Za}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((f,p)=>{try{const g=t(c);f(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tw(r,t={}){return Wr(r,"GET","/v2/passwordPolicy",$r(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=6;class nw{constructor(t){var n,s,o,c;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:ew,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,c,f,p;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,g),this.validatePasswordCharacterOptions(t,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(c=g.containsUppercaseLetter)!==null&&c!==void 0?c:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(p=g.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),g}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Oy(this),this.idTokenSubscription=new Oy(this),this.beforeStateQueue=new Jb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Hi(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Ha.create(this,t),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await uE(this,{idToken:t}),s=await Bi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Pn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(t);(!f||f===p)&&(g!=null&&g.user)&&(o=g.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await kc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Ub()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Pn(this.app))return Promise.reject(qi(this));const n=t?Pe(t):null;return n&&ht(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&ht(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Pn(this.app)?Promise.reject(qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await tw(this),n=new nw(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Ml("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await $b(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Hi(t)||this._popupRedirectResolver;ht(n,this,"argument-error"),this.redirectPersistenceManager=await Ha.create(this,[Hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ht(p,this,"internal-error"),p.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=EE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Mb(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function qs(r){return Pe(r)}class Oy{constructor(t){this.auth=t,this.observer=null,this.addObserver=vS(n=>this.observer=n)}get next(){return ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rw(r){eh=r}function TE(r){return eh.loadJS(r)}function sw(){return eh.recaptchaEnterpriseScript}function aw(){return eh.gapiScript}function ow(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class lw{constructor(){this.enterprise=new uw}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class uw{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const cw="recaptcha-enterprise",AE="NO_RECAPTCHA";class hw{constructor(t){this.type=cw,this.auth=qs(t)}async verify(t="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,p)=>{qb(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new Hb(g);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,f(_.siteKey)}}).catch(g=>{p(g)})})}function o(c,f,p){const g=window.grecaptcha;wy(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:t}).then(_=>{f(_)}).catch(()=>{f(AE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lw().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{s(this.auth).then(p=>{if(!n&&wy(window.grecaptcha))o(p,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=sw();g.length!==0&&(g+=p),TE(g).then(()=>{o(p,c,f)}).catch(_=>{f(_)})}}).catch(p=>{f(p)})})}}async function Ny(r,t,n,s=!1,o=!1){const c=new hw(r);let f;if(o)f=AE;else try{f=await c.verify(n)}catch{f=await c.verify(n,!0)}const p=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function qd(r,t,n,s,o){var c;if(!((c=r._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Ny(r,t,n,n==="getOobCode");return s(r,f)}else return s(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await Ny(r,t,n,n==="getOobCode");return s(r,p)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(r,t){const n=fm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(ks(c,t??{}))return o;qn(o,"already-initialized")}return n.initialize({options:t})}function dw(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Hi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function mw(r,t,n){const s=qs(r);ht(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,c=SE(t),{host:f,port:p}=pw(t),g=p===null?"":`:${p}`,_={url:`${c}//${f}${g}/`},A=Object.freeze({host:f,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ht(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ht(ks(_,s.config.emulator)&&ks(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,gw()}function SE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function pw(r){const t=SE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:Vy(s.substr(c.length+1))}}else{const[c,f]=s.split(":");return{host:c,port:Vy(f)}}}function Vy(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function gw(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return zi("not implemented")}_getIdTokenResponse(t){return zi("not implemented")}_linkToIdToken(t,n){return zi("not implemented")}_getReauthenticationResolver(t){return zi("not implemented")}}async function _w(r,t){return Wr(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yw(r,t){return Ul(r,"POST","/v1/accounts:signInWithPassword",$r(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vw(r,t){return Ul(r,"POST","/v1/accounts:signInWithEmailLink",$r(r,t))}async function Ew(r,t){return Ul(r,"POST","/v1/accounts:signInWithEmailLink",$r(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl extends ym{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Rl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Rl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qd(t,n,"signInWithPassword",yw);case"emailLink":return vw(t,{email:this._email,oobCode:this._password});default:qn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qd(t,s,"signUpPassword",_w);case"emailLink":return Ew(t,{idToken:n,email:this._email,oobCode:this._password});default:qn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(r,t){return Ul(r,"POST","/v1/accounts:signInWithIdp",$r(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="http://localhost";class Ls extends ym{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ls(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,c=dm(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Ls(s,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return qa(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,qa(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,qa(t,n)}buildRequest(){const t={requestUri:Tw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Pl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Sw(r){const t=ml(pl(r)).link,n=t?ml(pl(t)).deep_link_id:null,s=ml(pl(r)).deep_link_id;return(s?ml(pl(s)).link:null)||s||n||t||r}class vm{constructor(t){var n,s,o,c,f,p;const g=ml(pl(t)),_=(n=g.apiKey)!==null&&n!==void 0?n:null,A=(s=g.oobCode)!==null&&s!==void 0?s:null,C=Aw((o=g.mode)!==null&&o!==void 0?o:null);ht(_&&A&&C,"argument-error"),this.apiKey=_,this.operation=C,this.code=A,this.continueUrl=(c=g.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(f=g.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(p=g.tenantId)!==null&&p!==void 0?p:null}static parseLink(t){const n=Sw(t);try{return new vm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.providerId=Ja.PROVIDER_ID}static credential(t,n){return Rl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=vm.parseLink(n);return ht(s,"argument-error"),Rl._fromEmailAndCode(t,s.code,s.tenantId)}}Ja.PROVIDER_ID="password";Ja.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ja.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends bE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Ll{constructor(){super("facebook.com")}static credential(t){return Ls._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Mr.credentialFromTaggedObject(t)}static credentialFromError(t){return Mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Mr.credential(t.oauthAccessToken)}catch{return null}}}Mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Ll{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ls._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Pr.credential(n,s)}catch{return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com";Pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Ll{constructor(){super("github.com")}static credential(t){return Ls._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return kr.credential(t.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Ll{constructor(){super("twitter.com")}static credential(t,n){return Ls._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ur.credentialFromTaggedObject(t)}static credentialFromError(t){return Ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Ur.credential(n,s)}catch{return null}}}Ur.TWITTER_SIGN_IN_METHOD="twitter.com";Ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bw(r,t){return Ul(r,"POST","/v1/accounts:signUp",$r(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const c=await Bi._fromIdTokenResponse(t,s,o),f=My(s);return new xs({user:c,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=My(s);return new xs({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function My(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends Qi{constructor(t,n,s,o){var c;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Uc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Uc(t,n,s,o)}}function wE(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Uc._fromErrorAndOperation(r,c,t,s):c})}async function ww(r,t,n=!1){const s=await wl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return xs._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rw(r,t,n=!1){const{auth:s}=r;if(Pn(s.app))return Promise.reject(qi(s));const o="reauthenticate";try{const c=await wl(r,wE(s,o,t,r),n);ht(c.idToken,s,"internal-error");const f=gm(c.idToken);ht(f,s,"internal-error");const{sub:p}=f;return ht(r.uid===p,s,"user-mismatch"),xs._forOperation(r,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&qn(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RE(r,t,n=!1){if(Pn(r.app))return Promise.reject(qi(r));const s="signIn",o=await wE(r,s,t),c=await xs._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(c.user),c}async function Iw(r,t){return RE(qs(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IE(r){const t=qs(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Cw(r,t,n){if(Pn(r.app))return Promise.reject(qi(r));const s=qs(r),f=await qd(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bw).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&IE(r),g}),p=await xs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(p.user),p}function Dw(r,t,n){return Pn(r.app)?Promise.reject(qi(r)):Iw(Pe(r),Ja.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&IE(r),s})}function Ow(r,t,n,s){return Pe(r).onIdTokenChanged(t,n,s)}function Nw(r,t,n){return Pe(r).beforeAuthStateChanged(t,n)}function Vw(r,t,n,s){return Pe(r).onAuthStateChanged(t,n,s)}function Mw(r){return Pe(r).signOut()}const Lc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lc,"1"),this.storage.removeItem(Lc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=1e3,kw=10;class DE extends CE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},c=this.storage.getItem(s);Zb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,kw):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},Pw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}DE.type="LOCAL";const Uw=DE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE extends CE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}OE.type="SESSION";const NE=OE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new nh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:c}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async _=>_(n.origin,c)),g=await Lw(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((p,g)=>{const _=Em("",20);o.port1.start();const A=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(C){const k=C;if(k.data.eventId===_)switch(k.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(k.data.response);break;default:clearTimeout(A),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return window}function zw(r){li().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(){return typeof li().WorkerGlobalScope<"u"&&typeof li().importScripts=="function"}async function Bw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Hw(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function qw(){return VE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="firebaseLocalStorageDb",jw=1,xc="firebaseLocalStorage",PE="fbase_key";class xl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ih(r,t){return r.transaction([xc],t?"readwrite":"readonly").objectStore(xc)}function Fw(){const r=indexedDB.deleteDatabase(ME);return new xl(r).toPromise()}function jd(){const r=indexedDB.open(ME,jw);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(xc,{keyPath:PE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(xc)?t(s):(s.close(),await Fw(),t(await jd()))})})}async function Py(r,t,n){const s=ih(r,!0).put({[PE]:t,value:n});return new xl(s).toPromise()}async function Gw(r,t){const n=ih(r,!1).get(t),s=await new xl(n).toPromise();return s===void 0?null:s.value}function ky(r,t){const n=ih(r,!0).delete(t);return new xl(n).toPromise()}const Kw=800,Qw=3;class kE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>Qw)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nh._getInstance(qw()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Bw(),!this.activeServiceWorker)return;this.sender=new xw(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Hw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await jd();return await Py(t,Lc,"1"),await ky(t,Lc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Py(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>Gw(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ky(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=ih(o,!1).getAll();return new xl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Kw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kE.type="LOCAL";const Yw=kE;new kl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(r,t){return t?Hi(t):(ht(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm extends ym{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return qa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return qa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return qa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function $w(r){return RE(r.auth,new Tm(r),r.bypassAuthState)}function Ww(r){const{auth:t,user:n}=r;return ht(n,t,"internal-error"),Rw(n,new Tm(r),r.bypassAuthState)}async function Zw(r){const{auth:t,user:n}=r;return ht(n,t,"internal-error"),ww(n,new Tm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(t,n,s,o,c=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:f,type:p}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return $w;case"linkViaPopup":case"linkViaRedirect":return Zw;case"reauthViaPopup":case"reauthViaRedirect":return Ww;default:qn(this.auth,"internal-error")}}resolve(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=new kl(2e3,1e4);class za extends UE{constructor(t,n,s,o,c){super(t,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,za.currentPopupAction&&za.currentPopupAction.cancel(),za.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ht(t,this.auth,"internal-error"),t}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const t=Em();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,za.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Jw.get())};t()}}za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="pendingRedirect",bc=new Map;class eR extends UE{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=bc.get(this.auth._key());if(!t){try{const s=await nR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}bc.set(this.auth._key(),t)}return this.bypassAuthState||bc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nR(r,t){const n=sR(t),s=rR(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function iR(r,t){bc.set(r._key(),t)}function rR(r){return Hi(r._redirectPersistence)}function sR(r){return Sc(tR,r.config.apiKey,r.name)}async function aR(r,t,n=!1){if(Pn(r.app))return Promise.reject(qi(r));const s=qs(r),o=Xw(s,t),f=await new eR(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=10*60*1e3;class lR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!uR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!LE(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(oi(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=oR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uy(t))}saveEventToCache(t){this.cachedEventUids.add(Uy(t)),this.lastProcessedEventTime=Date.now()}}function Uy(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function LE({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function uR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cR(r,t={}){return Wr(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fR=/^https?/;async function dR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await cR(r);for(const n of t)try{if(mR(n))return}catch{}qn(r,"unauthorized-domain")}function mR(r){const t=Bd(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!fR.test(n))return!1;if(hR.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=new kl(3e4,6e4);function Ly(){const r=li().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function gR(r){return new Promise((t,n)=>{var s,o,c;function f(){Ly(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ly(),n(oi(r,"network-request-failed"))},timeout:pR.get()})}if(!((o=(s=li().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((c=li().gapi)===null||c===void 0)&&c.load)f();else{const p=ow("iframefcb");return li()[p]=()=>{gapi.load?f():n(oi(r,"network-request-failed"))},TE(`${aw()}?onload=${p}`).catch(g=>n(g))}}).catch(t=>{throw wc=null,t})}let wc=null;function _R(r){return wc=wc||gR(r),wc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=new kl(5e3,15e3),vR="__/auth/iframe",ER="emulator/auth/iframe",TR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SR(r){const t=r.config;ht(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?pm(t,ER):`https://${r.config.authDomain}/${vR}`,s={apiKey:t.apiKey,appName:r.name,v:Za},o=AR.get(r.config.apiHost);o&&(s.eid=o);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Pl(s).slice(1)}`}async function bR(r){const t=await _R(r),n=li().gapi;return ht(n,r,"internal-error"),t.open({where:document.body,url:SR(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TR,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const f=oi(r,"network-request-failed"),p=li().setTimeout(()=>{c(f)},yR.get());function g(){li().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RR=500,IR=600,CR="_blank",DR="http://localhost";class xy{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OR(r,t,n,s=RR,o=IR){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g=Object.assign(Object.assign({},wR),{width:s.toString(),height:o.toString(),top:c,left:f}),_=Ye().toLowerCase();n&&(p=mE(_)?CR:n),fE(_)&&(t=t||DR,g.scrollbars="yes");const A=Object.entries(g).reduce((k,[H,X])=>`${k}${H}=${X},`,"");if(Wb(_)&&p!=="_self")return NR(t||"",p),new xy(null);const C=window.open(t||"",p,A);ht(C,r,"popup-blocked");try{C.focus()}catch{}return new xy(C)}function NR(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="__/auth/handler",MR="emulator/auth/handler",PR=encodeURIComponent("fac");async function zy(r,t,n,s,o,c){ht(r.config.authDomain,r,"auth-domain-config-required"),ht(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Za,eventId:o};if(t instanceof bE){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",yS(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,C]of Object.entries({}))f[A]=C}if(t instanceof Ll){const A=t.getScopes().filter(C=>C!=="");A.length>0&&(f.scopes=A.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const g=await r._getAppCheckToken(),_=g?`#${PR}=${encodeURIComponent(g)}`:"";return`${kR(r)}?${Pl(p).slice(1)}${_}`}function kR({config:r}){return r.emulator?pm(r,MR):`https://${r.authDomain}/${VR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="webStorageSupport";class UR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NE,this._completeRedirectFn=aR,this._overrideRedirectResult=iR}async _openPopup(t,n,s,o){var c;Fi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const f=await zy(t,n,s,Bd(),o);return OR(t,f,Em())}async _openRedirect(t,n,s,o){await this._originValidation(t);const c=await zy(t,n,s,Bd(),o);return zw(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Fi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await bR(t),s=new lR(t);return n.register("authEvent",o=>(ht(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Od,{type:Od},o=>{var c;const f=(c=o==null?void 0:o[0])===null||c===void 0?void 0:c[Od];f!==void 0&&n(!!f),qn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return vE()||dE()||_m()}}const LR=UR;var By="@firebase/auth",Hy="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BR(r){Fa(new Us("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;ht(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EE(r)},_=new iw(s,o,c,g);return dw(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Fa(new Us("auth-internal",t=>{const n=qs(t.getProvider("auth").getImmediate());return(s=>new xR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Br(By,Hy,zR(r)),Br(By,Hy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=5*60,qR=$v("authIdTokenMaxAge")||HR;let qy=null;const jR=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>qR)return;const o=n==null?void 0:n.token;qy!==o&&(qy=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function FR(r=tE()){const t=fm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=fw(r,{popupRedirectResolver:LR,persistence:[Yw,Uw,NE]}),s=$v("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const f=jR(c.toString());Nw(n,f,()=>f(n.currentUser)),Ow(n,p=>f(p))}}const o=Yv("auth");return o&&mw(n,`http://${o}`),n}function GR(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}rw({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const c=oi("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",GR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BR("Browser");var jy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hr,xE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,w){function S(){}S.prototype=w.prototype,M.D=w.prototype,M.prototype=new S,M.prototype.constructor=M,M.C=function(I,V,L){for(var R=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)R[_e-2]=arguments[_e];return w.prototype[V].apply(I,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,w,S){S||(S=0);var I=Array(16);if(typeof w=="string")for(var V=0;16>V;++V)I[V]=w.charCodeAt(S++)|w.charCodeAt(S++)<<8|w.charCodeAt(S++)<<16|w.charCodeAt(S++)<<24;else for(V=0;16>V;++V)I[V]=w[S++]|w[S++]<<8|w[S++]<<16|w[S++]<<24;w=M.g[0],S=M.g[1],V=M.g[2];var L=M.g[3],R=w+(L^S&(V^L))+I[0]+3614090360&4294967295;w=S+(R<<7&4294967295|R>>>25),R=L+(V^w&(S^V))+I[1]+3905402710&4294967295,L=w+(R<<12&4294967295|R>>>20),R=V+(S^L&(w^S))+I[2]+606105819&4294967295,V=L+(R<<17&4294967295|R>>>15),R=S+(w^V&(L^w))+I[3]+3250441966&4294967295,S=V+(R<<22&4294967295|R>>>10),R=w+(L^S&(V^L))+I[4]+4118548399&4294967295,w=S+(R<<7&4294967295|R>>>25),R=L+(V^w&(S^V))+I[5]+1200080426&4294967295,L=w+(R<<12&4294967295|R>>>20),R=V+(S^L&(w^S))+I[6]+2821735955&4294967295,V=L+(R<<17&4294967295|R>>>15),R=S+(w^V&(L^w))+I[7]+4249261313&4294967295,S=V+(R<<22&4294967295|R>>>10),R=w+(L^S&(V^L))+I[8]+1770035416&4294967295,w=S+(R<<7&4294967295|R>>>25),R=L+(V^w&(S^V))+I[9]+2336552879&4294967295,L=w+(R<<12&4294967295|R>>>20),R=V+(S^L&(w^S))+I[10]+4294925233&4294967295,V=L+(R<<17&4294967295|R>>>15),R=S+(w^V&(L^w))+I[11]+2304563134&4294967295,S=V+(R<<22&4294967295|R>>>10),R=w+(L^S&(V^L))+I[12]+1804603682&4294967295,w=S+(R<<7&4294967295|R>>>25),R=L+(V^w&(S^V))+I[13]+4254626195&4294967295,L=w+(R<<12&4294967295|R>>>20),R=V+(S^L&(w^S))+I[14]+2792965006&4294967295,V=L+(R<<17&4294967295|R>>>15),R=S+(w^V&(L^w))+I[15]+1236535329&4294967295,S=V+(R<<22&4294967295|R>>>10),R=w+(V^L&(S^V))+I[1]+4129170786&4294967295,w=S+(R<<5&4294967295|R>>>27),R=L+(S^V&(w^S))+I[6]+3225465664&4294967295,L=w+(R<<9&4294967295|R>>>23),R=V+(w^S&(L^w))+I[11]+643717713&4294967295,V=L+(R<<14&4294967295|R>>>18),R=S+(L^w&(V^L))+I[0]+3921069994&4294967295,S=V+(R<<20&4294967295|R>>>12),R=w+(V^L&(S^V))+I[5]+3593408605&4294967295,w=S+(R<<5&4294967295|R>>>27),R=L+(S^V&(w^S))+I[10]+38016083&4294967295,L=w+(R<<9&4294967295|R>>>23),R=V+(w^S&(L^w))+I[15]+3634488961&4294967295,V=L+(R<<14&4294967295|R>>>18),R=S+(L^w&(V^L))+I[4]+3889429448&4294967295,S=V+(R<<20&4294967295|R>>>12),R=w+(V^L&(S^V))+I[9]+568446438&4294967295,w=S+(R<<5&4294967295|R>>>27),R=L+(S^V&(w^S))+I[14]+3275163606&4294967295,L=w+(R<<9&4294967295|R>>>23),R=V+(w^S&(L^w))+I[3]+4107603335&4294967295,V=L+(R<<14&4294967295|R>>>18),R=S+(L^w&(V^L))+I[8]+1163531501&4294967295,S=V+(R<<20&4294967295|R>>>12),R=w+(V^L&(S^V))+I[13]+2850285829&4294967295,w=S+(R<<5&4294967295|R>>>27),R=L+(S^V&(w^S))+I[2]+4243563512&4294967295,L=w+(R<<9&4294967295|R>>>23),R=V+(w^S&(L^w))+I[7]+1735328473&4294967295,V=L+(R<<14&4294967295|R>>>18),R=S+(L^w&(V^L))+I[12]+2368359562&4294967295,S=V+(R<<20&4294967295|R>>>12),R=w+(S^V^L)+I[5]+4294588738&4294967295,w=S+(R<<4&4294967295|R>>>28),R=L+(w^S^V)+I[8]+2272392833&4294967295,L=w+(R<<11&4294967295|R>>>21),R=V+(L^w^S)+I[11]+1839030562&4294967295,V=L+(R<<16&4294967295|R>>>16),R=S+(V^L^w)+I[14]+4259657740&4294967295,S=V+(R<<23&4294967295|R>>>9),R=w+(S^V^L)+I[1]+2763975236&4294967295,w=S+(R<<4&4294967295|R>>>28),R=L+(w^S^V)+I[4]+1272893353&4294967295,L=w+(R<<11&4294967295|R>>>21),R=V+(L^w^S)+I[7]+4139469664&4294967295,V=L+(R<<16&4294967295|R>>>16),R=S+(V^L^w)+I[10]+3200236656&4294967295,S=V+(R<<23&4294967295|R>>>9),R=w+(S^V^L)+I[13]+681279174&4294967295,w=S+(R<<4&4294967295|R>>>28),R=L+(w^S^V)+I[0]+3936430074&4294967295,L=w+(R<<11&4294967295|R>>>21),R=V+(L^w^S)+I[3]+3572445317&4294967295,V=L+(R<<16&4294967295|R>>>16),R=S+(V^L^w)+I[6]+76029189&4294967295,S=V+(R<<23&4294967295|R>>>9),R=w+(S^V^L)+I[9]+3654602809&4294967295,w=S+(R<<4&4294967295|R>>>28),R=L+(w^S^V)+I[12]+3873151461&4294967295,L=w+(R<<11&4294967295|R>>>21),R=V+(L^w^S)+I[15]+530742520&4294967295,V=L+(R<<16&4294967295|R>>>16),R=S+(V^L^w)+I[2]+3299628645&4294967295,S=V+(R<<23&4294967295|R>>>9),R=w+(V^(S|~L))+I[0]+4096336452&4294967295,w=S+(R<<6&4294967295|R>>>26),R=L+(S^(w|~V))+I[7]+1126891415&4294967295,L=w+(R<<10&4294967295|R>>>22),R=V+(w^(L|~S))+I[14]+2878612391&4294967295,V=L+(R<<15&4294967295|R>>>17),R=S+(L^(V|~w))+I[5]+4237533241&4294967295,S=V+(R<<21&4294967295|R>>>11),R=w+(V^(S|~L))+I[12]+1700485571&4294967295,w=S+(R<<6&4294967295|R>>>26),R=L+(S^(w|~V))+I[3]+2399980690&4294967295,L=w+(R<<10&4294967295|R>>>22),R=V+(w^(L|~S))+I[10]+4293915773&4294967295,V=L+(R<<15&4294967295|R>>>17),R=S+(L^(V|~w))+I[1]+2240044497&4294967295,S=V+(R<<21&4294967295|R>>>11),R=w+(V^(S|~L))+I[8]+1873313359&4294967295,w=S+(R<<6&4294967295|R>>>26),R=L+(S^(w|~V))+I[15]+4264355552&4294967295,L=w+(R<<10&4294967295|R>>>22),R=V+(w^(L|~S))+I[6]+2734768916&4294967295,V=L+(R<<15&4294967295|R>>>17),R=S+(L^(V|~w))+I[13]+1309151649&4294967295,S=V+(R<<21&4294967295|R>>>11),R=w+(V^(S|~L))+I[4]+4149444226&4294967295,w=S+(R<<6&4294967295|R>>>26),R=L+(S^(w|~V))+I[11]+3174756917&4294967295,L=w+(R<<10&4294967295|R>>>22),R=V+(w^(L|~S))+I[2]+718787259&4294967295,V=L+(R<<15&4294967295|R>>>17),R=S+(L^(V|~w))+I[9]+3951481745&4294967295,M.g[0]=M.g[0]+w&4294967295,M.g[1]=M.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+L&4294967295}s.prototype.u=function(M,w){w===void 0&&(w=M.length);for(var S=w-this.blockSize,I=this.B,V=this.h,L=0;L<w;){if(V==0)for(;L<=S;)o(this,M,L),L+=this.blockSize;if(typeof M=="string"){for(;L<w;)if(I[V++]=M.charCodeAt(L++),V==this.blockSize){o(this,I),V=0;break}}else for(;L<w;)if(I[V++]=M[L++],V==this.blockSize){o(this,I),V=0;break}}this.h=V,this.o+=w},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var w=1;w<M.length-8;++w)M[w]=0;var S=8*this.o;for(w=M.length-8;w<M.length;++w)M[w]=S&255,S/=256;for(this.u(M),M=Array(16),w=S=0;4>w;++w)for(var I=0;32>I;I+=8)M[S++]=this.g[w]>>>I&255;return M};function c(M,w){var S=p;return Object.prototype.hasOwnProperty.call(S,M)?S[M]:S[M]=w(M)}function f(M,w){this.h=w;for(var S=[],I=!0,V=M.length-1;0<=V;V--){var L=M[V]|0;I&&L==w||(S[V]=L,I=!1)}this.g=S}var p={};function g(M){return-128<=M&&128>M?c(M,function(w){return new f([w|0],0>w?-1:0)}):new f([M|0],0>M?-1:0)}function _(M){if(isNaN(M)||!isFinite(M))return C;if(0>M)return $(_(-M));for(var w=[],S=1,I=0;M>=S;I++)w[I]=M/S|0,S*=4294967296;return new f(w,0)}function A(M,w){if(M.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(M.charAt(0)=="-")return $(A(M.substring(1),w));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=_(Math.pow(w,8)),I=C,V=0;V<M.length;V+=8){var L=Math.min(8,M.length-V),R=parseInt(M.substring(V,V+L),w);8>L?(L=_(Math.pow(w,L)),I=I.j(L).add(_(R))):(I=I.j(S),I=I.add(_(R)))}return I}var C=g(0),k=g(1),H=g(16777216);r=f.prototype,r.m=function(){if(Z(this))return-$(this).m();for(var M=0,w=1,S=0;S<this.g.length;S++){var I=this.i(S);M+=(0<=I?I:4294967296+I)*w,w*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(X(this))return"0";if(Z(this))return"-"+$(this).toString(M);for(var w=_(Math.pow(M,6)),S=this,I="";;){var V=Ht(S,w).g;S=Tt(S,V.j(w));var L=((0<S.g.length?S.g[0]:S.h)>>>0).toString(M);if(S=V,X(S))return L+I;for(;6>L.length;)L="0"+L;I=L+I}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function X(M){if(M.h!=0)return!1;for(var w=0;w<M.g.length;w++)if(M.g[w]!=0)return!1;return!0}function Z(M){return M.h==-1}r.l=function(M){return M=Tt(this,M),Z(M)?-1:X(M)?0:1};function $(M){for(var w=M.g.length,S=[],I=0;I<w;I++)S[I]=~M.g[I];return new f(S,~M.h).add(k)}r.abs=function(){return Z(this)?$(this):this},r.add=function(M){for(var w=Math.max(this.g.length,M.g.length),S=[],I=0,V=0;V<=w;V++){var L=I+(this.i(V)&65535)+(M.i(V)&65535),R=(L>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);I=R>>>16,L&=65535,R&=65535,S[V]=R<<16|L}return new f(S,S[S.length-1]&-2147483648?-1:0)};function Tt(M,w){return M.add($(w))}r.j=function(M){if(X(this)||X(M))return C;if(Z(this))return Z(M)?$(this).j($(M)):$($(this).j(M));if(Z(M))return $(this.j($(M)));if(0>this.l(H)&&0>M.l(H))return _(this.m()*M.m());for(var w=this.g.length+M.g.length,S=[],I=0;I<2*w;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(var V=0;V<M.g.length;V++){var L=this.i(I)>>>16,R=this.i(I)&65535,_e=M.i(V)>>>16,ce=M.i(V)&65535;S[2*I+2*V]+=R*ce,ft(S,2*I+2*V),S[2*I+2*V+1]+=L*ce,ft(S,2*I+2*V+1),S[2*I+2*V+1]+=R*_e,ft(S,2*I+2*V+1),S[2*I+2*V+2]+=L*_e,ft(S,2*I+2*V+2)}for(I=0;I<w;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=w;I<2*w;I++)S[I]=0;return new f(S,0)};function ft(M,w){for(;(M[w]&65535)!=M[w];)M[w+1]+=M[w]>>>16,M[w]&=65535,w++}function _t(M,w){this.g=M,this.h=w}function Ht(M,w){if(X(w))throw Error("division by zero");if(X(M))return new _t(C,C);if(Z(M))return w=Ht($(M),w),new _t($(w.g),$(w.h));if(Z(w))return w=Ht(M,$(w)),new _t($(w.g),w.h);if(30<M.g.length){if(Z(M)||Z(w))throw Error("slowDivide_ only works with positive integers.");for(var S=k,I=w;0>=I.l(M);)S=yt(S),I=yt(I);var V=Ct(S,1),L=Ct(I,1);for(I=Ct(I,2),S=Ct(S,2);!X(I);){var R=L.add(I);0>=R.l(M)&&(V=V.add(S),L=R),I=Ct(I,1),S=Ct(S,1)}return w=Tt(M,V.j(w)),new _t(V,w)}for(V=C;0<=M.l(w);){for(S=Math.max(1,Math.floor(M.m()/w.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),L=_(S),R=L.j(w);Z(R)||0<R.l(M);)S-=I,L=_(S),R=L.j(w);X(L)&&(L=k),V=V.add(L),M=Tt(M,R)}return new _t(V,M)}r.A=function(M){return Ht(this,M).h},r.and=function(M){for(var w=Math.max(this.g.length,M.g.length),S=[],I=0;I<w;I++)S[I]=this.i(I)&M.i(I);return new f(S,this.h&M.h)},r.or=function(M){for(var w=Math.max(this.g.length,M.g.length),S=[],I=0;I<w;I++)S[I]=this.i(I)|M.i(I);return new f(S,this.h|M.h)},r.xor=function(M){for(var w=Math.max(this.g.length,M.g.length),S=[],I=0;I<w;I++)S[I]=this.i(I)^M.i(I);return new f(S,this.h^M.h)};function yt(M){for(var w=M.g.length+1,S=[],I=0;I<w;I++)S[I]=M.i(I)<<1|M.i(I-1)>>>31;return new f(S,M.h)}function Ct(M,w){var S=w>>5;w%=32;for(var I=M.g.length-S,V=[],L=0;L<I;L++)V[L]=0<w?M.i(L+S)>>>w|M.i(L+S+1)<<32-w:M.i(L+S);return new f(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,xE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=A,Hr=f}).apply(typeof jy<"u"?jy:typeof self<"u"?self:typeof window<"u"?window:{});var mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zE,gl,BE,Rc,Fd,HE,qE,jE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof mc=="object"&&mc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function o(u,m){if(m)t:{var y=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in y))break t;y=y[U]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,T=!1,U={next:function(){if(!T&&y<u.length){var B=y++;return{value:m(B,u[B]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function g(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,y){return u.call.apply(u.bind,arguments)}function C(u,m,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function k(u,m,y){return k=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:C,k.apply(null,arguments)}function H(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function X(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,U,B){for(var W=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)W[Mt-2]=arguments[Mt];return m.prototype[U].apply(T,W)}}function Z(u){const m=u.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function $(u,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(g(T)){const U=u.length||0,B=T.length||0;u.length=U+B;for(let W=0;W<B;W++)u[U+W]=T[W]}else u.push(T)}}class Tt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ft(u){return/^[\s\xa0]*$/.test(u)}function _t(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function Ht(u){return Ht[" "](u),u}Ht[" "]=function(){};var yt=_t().indexOf("Gecko")!=-1&&!(_t().toLowerCase().indexOf("webkit")!=-1&&_t().indexOf("Edge")==-1)&&!(_t().indexOf("Trident")!=-1||_t().indexOf("MSIE")!=-1)&&_t().indexOf("Edge")==-1;function Ct(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function M(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function w(u){const m={};for(const y in u)m[y]=u[y];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,m){let y,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(y in T)u[y]=T[y];for(let B=0;B<S.length;B++)y=S[B],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function V(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function L(u){p.setTimeout(()=>{throw u},0)}function R(){var u=qt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _e{constructor(){this.h=this.g=null}add(m,y){const T=ce.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var ce=new Tt(()=>new J,u=>u.reset());class J{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let dt,lt=!1,qt=new _e,D=()=>{const u=p.Promise.resolve(void 0);dt=()=>{u.then(Y)}};var Y=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(y){L(y)}var m=ce;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}lt=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var et=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};p.addEventListener("test",y,m),p.removeEventListener("test",y,m)}catch{}return u}();function bt(u,m){if(tt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(yt){t:{try{Ht(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:At[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&bt.aa.h.call(this)}}X(bt,tt);var At={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),Lt=0;function ne(u,m,y,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=U,this.key=++Lt,this.da=this.fa=!1}function Gt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Xe(u){this.src=u,this.g={},this.h=0}Xe.prototype.add=function(u,m,y,T,U){var B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);var W=_n(u,m,T,U);return-1<W?(m=u[W],y||(m.fa=!1)):(m=new ne(m,this.src,B,!!T,U),m.fa=y,u.push(m)),m};function fi(u,m){var y=m.type;if(y in u.g){var T=u.g[y],U=Array.prototype.indexOf.call(T,m,void 0),B;(B=0<=U)&&Array.prototype.splice.call(T,U,1),B&&(Gt(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function _n(u,m,y,T){for(var U=0;U<u.length;++U){var B=u[U];if(!B.da&&B.listener==m&&B.capture==!!y&&B.ha==T)return U}return-1}var Yi="closure_lm_"+(1e6*Math.random()|0),Xi={};function di(u,m,y,T,U){if(Array.isArray(m)){for(var B=0;B<m.length;B++)di(u,m[B],y,T,U);return null}return y=Kl(y),u&&u[he]?u.K(m,y,_(T)?!!T.capture:!1,U):ao(u,m,y,!1,T,U)}function ao(u,m,y,T,U,B){if(!m)throw Error("Invalid event type");var W=_(U)?!!U.capture:!!U,Mt=oo(u);if(Mt||(u[Yi]=Mt=new Xe(u)),y=Mt.add(m,y,T,W,B),y.proxy)return y;if(T=Gs(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)et||(U=W),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Qs(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Gs(){function u(y){return m.call(u.src,u.listener,y)}const m=vh;return u}function Ks(u,m,y,T,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ks(u,m[B],y,T,U);else T=_(T)?!!T.capture:!!T,y=Kl(y),u&&u[he]?(u=u.i,m=String(m).toString(),m in u.g&&(B=u.g[m],y=_n(B,y,T,U),-1<y&&(Gt(B[y]),Array.prototype.splice.call(B,y,1),B.length==0&&(delete u.g[m],u.h--)))):u&&(u=oo(u))&&(m=u.g[m.toString()],u=-1,m&&(u=_n(m,y,T,U)),(y=-1<u?m[u]:null)&&ts(y))}function ts(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[he])fi(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Qs(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=oo(m))?(fi(y,u),y.h==0&&(y.src=null,m[Yi]=null)):Gt(u)}}}function Qs(u){return u in Xi?Xi[u]:Xi[u]="on"+u}function vh(u,m){if(u.da)u=!0;else{m=new bt(m,this);var y=u.listener,T=u.ha||u.src;u.fa&&ts(u),u=y.call(T,m)}return u}function oo(u){return u=u[Yi],u instanceof Xe?u:null}var en="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kl(u){return typeof u=="function"?u:(u[en]||(u[en]=function(m){return u.handleEvent(m)}),u[en])}function ye(){at.call(this),this.i=new Xe(this),this.M=this,this.F=null}X(ye,at),ye.prototype[he]=!0,ye.prototype.removeEventListener=function(u,m,y,T){Ks(this,u,m,y,T)};function Re(u,m){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new tt(m,u);else if(m instanceof tt)m.target=m.target||u;else{var U=m;m=new tt(T,u),I(m,U)}if(U=!0,y)for(var B=y.length-1;0<=B;B--){var W=m.g=y[B];U=mi(W,T,!0,m)&&U}if(W=m.g=u,U=mi(W,T,!0,m)&&U,U=mi(W,T,!1,m)&&U,y)for(B=0;B<y.length;B++)W=m.g=y[B],U=mi(W,T,!1,m)&&U}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],T=0;T<y.length;T++)Gt(y[T]);delete u.g[m],u.h--}}this.F=null},ye.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},ye.prototype.L=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function mi(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,B=0;B<m.length;++B){var W=m[B];if(W&&!W.da&&W.capture==y){var Mt=W.listener,Ee=W.ha||W.src;W.fa&&fi(u.i,W),U=Mt.call(Ee,T)!==!1&&U}}return U&&!T.defaultPrevented}function Ql(u,m,y){if(typeof u=="function")y&&(u=k(u,y));else if(u&&typeof u.handleEvent=="function")u=k(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(u,m||0)}function lo(u){u.g=Ql(()=>{u.g=null,u.i&&(u.i=!1,lo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Eh extends at{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:lo(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(u){at.call(this),this.h=u,this.g={}}X(es,at);var $i=[];function qe(u){Ct(u.g,function(m,y){this.g.hasOwnProperty(y)&&ts(m)},u),u.g={}}es.prototype.N=function(){es.aa.N.call(this),qe(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var uo=p.JSON.stringify,Fn=p.JSON.parse,$e=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function co(){}co.prototype.h=null;function Yl(u){return u.h||(u.h=u.i())}function Xl(){}var Gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wi(){tt.call(this,"d")}X(Wi,tt);function kn(){tt.call(this,"c")}X(kn,tt);var yn={},Zi=null;function Ys(){return Zi=Zi||new ye}yn.La="serverreachability";function ho(u){tt.call(this,yn.La,u)}X(ho,tt);function Ji(u){const m=Ys();Re(m,new ho(m))}yn.STAT_EVENT="statevent";function Xs(u,m){tt.call(this,yn.STAT_EVENT,u),this.stat=m}X(Xs,tt);function oe(u){const m=Ys();Re(m,new Xs(m,u))}yn.Ma="timingevent";function $l(u,m){tt.call(this,yn.Ma,u),this.size=m}X($l,tt);function tr(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},m)}function er(){this.g=!0}er.prototype.xa=function(){this.g=!1};function Wl(u,m,y,T,U,B){u.info(function(){if(u.g)if(B)for(var W="",Mt=B.split("&"),Ee=0;Ee<Mt.length;Ee++){var Pt=Mt[Ee].split("=");if(1<Pt.length){var De=Pt[0];Pt=Pt[1];var Te=De.split("_");W=2<=Te.length&&Te[1]=="type"?W+(De+"="+Pt+"&"):W+(De+"=redacted&")}}else W=null;else W=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+y+`
`+W})}function Zl(u,m,y,T,U,B,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+y+`
`+B+" "+W})}function nr(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ie(u,y)+(T?" "+T:"")})}function Kn(u,m){u.info(function(){return"TIMEOUT: "+m})}er.prototype.info=function(){};function Ie(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var B=U[0];if(B!="noop"&&B!="stop"&&B!="close")for(var W=1;W<U.length;W++)U[W]=""}}}}return uo(y)}catch{return m}}var ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ns;function $s(){}X($s,co),$s.prototype.g=function(){return new XMLHttpRequest},$s.prototype.i=function(){return{}},ns=new $s;function Qn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.R=T||1,this.U=new es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fo}function fo(){this.i=null,this.g="",this.h=!1}var ir={},is={};function Un(u,m,y){u.L=1,u.v=as(ie(m)),u.m=y,u.P=!0,gi(u,null)}function gi(u,m){u.F=Date.now(),Zt(u),u.A=ie(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),vi(y.i,"t",T),u.C=0,y=u.j.J,u.h=new fo,u.g=fu(u.j,y?m:null,!u.m),0<u.O&&(u.M=new Eh(k(u.Y,u,u.g),u.O)),m=u.U,y=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&($i[0]=U.toString()),U=$i);for(var B=0;B<U.length;B++){var W=di(y,U[B],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Ji(),Wl(u.i,u.u,u.A,u.l,u.R,u.m)}Qn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Sn(u)==3?m.j():this.Y(u)},Qn.prototype.Y=function(u){try{if(u==this.g)t:{const Te=Sn(this.g);var m=this.g.Ba();const Si=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||ru(this.g)))){this.J||Te!=4||m==7||(m==8||0>=Si?Ji(3):Ji(2)),Ws(this);var y=this.g.Z();this.X=y;e:if(rr(this)){var T=ru(this.g);u="";var U=T.length,B=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nn(this),on(this);var W="";break e}this.h.i=new p.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(B&&m==U-1)});T.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=y==200,Zl(this.i,this.u,this.A,this.l,this.R,Te,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,Ee=this.g;if((Mt=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ft(Mt)){var Pt=Mt;break e}}Pt=null}if(y=Pt)nr(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ln(this,y);else{this.o=!1,this.s=3,oe(12),nn(this),on(this);break t}}if(this.P){y=!0;let ke;for(;!this.J&&this.C<W.length;)if(ke=sr(this,W),ke==is){Te==4&&(this.s=4,oe(14),y=!1),nr(this.i,this.l,null,"[Incomplete Response]");break}else if(ke==ir){this.s=4,oe(15),nr(this.i,this.l,W,"[Invalid Chunk]"),y=!1;break}else nr(this.i,this.l,ke,null),ln(this,ke);if(rr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||W.length!=0||this.h.h||(this.s=1,oe(16),y=!1),this.o=this.o&&y,!y)nr(this.i,this.l,W,"[Invalid Chunked Response]"),nn(this),on(this);else if(0<W.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),ds(De),De.M=!0,oe(11))}}else nr(this.i,this.l,W,null),ln(this,W);Te==4&&nn(this),this.o&&!this.J&&(Te==4?uu(this.j,this):(this.o=!1,Zt(this)))}else Rh(this.g),y==400&&0<W.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),nn(this),on(this)}}}catch{}finally{}};function rr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function sr(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?is:(y=Number(m.substring(y,T)),isNaN(y)?ir:(T+=1,T+y>m.length?is:(m=m.slice(T,T+y),u.C=T+y,m)))}Qn.prototype.cancel=function(){this.J=!0,nn(this)};function Zt(u){u.S=Date.now()+u.I,mo(u,u.I)}function mo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=tr(k(u.ba,u),m)}function Ws(u){u.B&&(p.clearTimeout(u.B),u.B=null)}Qn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Kn(this.i,this.A),this.L!=2&&(Ji(),oe(17)),nn(this),this.s=2,on(this)):mo(this,this.S-u)};function on(u){u.j.G==0||u.J||uu(u.j,u)}function nn(u){Ws(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,qe(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ln(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||ar(y.h,u))){if(!u.K&&ar(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)oa(y),sa(y);else break t;wo(y),oe(18)}}else y.za=U[1],0<y.za-y.T&&37500>U[2]&&y.F&&y.v==0&&!y.C&&(y.C=tr(k(y.Za,y),6e3));if(1>=Jl(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Ai(y,11)}else if((u.K||y.g==u)&&oa(y),!ft(m))for(U=y.Da.g.parse(m),m=0;m<U.length;m++){let Pt=U[m];if(y.T=Pt[0],Pt=Pt[1],y.G==2)if(Pt[0]=="c"){y.K=Pt[1],y.ia=Pt[2];const De=Pt[3];De!=null&&(y.la=De,y.j.info("VER="+y.la));const Te=Pt[4];Te!=null&&(y.Aa=Te,y.j.info("SVER="+y.Aa));const Si=Pt[5];Si!=null&&typeof Si=="number"&&0<Si&&(T=1.5*Si,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const ke=u.g;if(ke){const ti=ke.g?ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ti){var B=T.h;B.g||ti.indexOf("spdy")==-1&&ti.indexOf("quic")==-1&&ti.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(or(B,B.h),B.h=null))}if(T.D){const Io=ke.g?ke.g.getResponseHeader("X-HTTP-Session-Id"):null;Io&&(T.ya=Io,xt(T.I,T.D,Io))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var W=u;if(T.qa=hu(T,T.J?T.ia:null,T.W),W.K){vn(T.h,W);var Mt=W,Ee=T.L;Ee&&(Mt.I=Ee),Mt.B&&(Ws(Mt),Zt(Mt)),T.g=W}else ou(T);0<y.i.length&&aa(y)}else Pt[0]!="stop"&&Pt[0]!="close"||Ai(y,7);else y.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?Ai(y,7):So(y):Pt[0]!="noop"&&y.l&&y.l.ta(Pt),y.v=0)}}Ji(4)}catch{}}var Th=class{constructor(u,m){this.g=u,this.map=m}};function po(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function go(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Jl(u){return u.h?1:u.g?u.g.size:0}function ar(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function or(u,m){u.g?u.g.add(m):u.h=m}function vn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}po.prototype.cancel=function(){if(this.i=We(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function We(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return Z(u.i)}function tu(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var m=[],y=u.length,T=0;T<y;T++)m.push(u[T]);return m}m=[],y=0;for(T in u)m[y++]=u[T];return m}function Ah(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const T in u)m[y++]=T;return m}}}function rs(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=Ah(u),T=tu(u),U=T.length,B=0;B<U;B++)m.call(void 0,T[B],y&&y[B],u)}var _o=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zs(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),U=null;if(0<=T){var B=u[y].substring(0,T);U=u[y].substring(T+1)}else B=u[y];m(B,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function _i(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof _i){this.h=u.h,lr(this,u.j),this.o=u.o,this.g=u.g,ss(this,u.s),this.l=u.l;var m=u.i,y=new Yn;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),Js(this,y),this.m=u.m}else u&&(m=String(u).match(_o))?(this.h=!1,lr(this,m[1]||"",!0),this.o=ur(m[2]||""),this.g=ur(m[3]||"",!0),ss(this,m[4]),this.l=ur(m[5]||"",!0),Js(this,m[6]||"",!0),this.m=ur(m[7]||"")):(this.h=!1,this.i=new Yn(null,this.h))}_i.prototype.toString=function(){var u=[],m=this.j;m&&u.push(En(m,yo,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(En(m,yo,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(En(y,y.charAt(0)=="/"?vo:eu,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",En(y,wh)),u.join("")};function ie(u){return new _i(u)}function lr(u,m,y){u.j=y?ur(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ss(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Js(u,m,y){m instanceof Yn?(u.i=m,Eo(u.i,u.h)):(y||(m=En(m,bh)),u.i=new Yn(m,u.h))}function xt(u,m,y){u.i.set(m,y)}function as(u){return xt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ur(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function En(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Sh),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Sh(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var yo=/[#\/\?@]/g,eu=/[#\?:]/g,vo=/[#\?]/g,bh=/[#\?@]/g,wh=/#/g;function Yn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Tn(u){u.g||(u.g=new Map,u.h=0,u.i&&Zs(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=Yn.prototype,r.add=function(u,m){Tn(this),this.i=null,u=Ei(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function ta(u,m){Tn(u),m=Ei(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function yi(u,m){return Tn(u),m=Ei(u,m),u.g.has(m)}r.forEach=function(u,m){Tn(this),this.g.forEach(function(y,T){y.forEach(function(U){u.call(m,U,T,this)},this)},this)},r.na=function(){Tn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const U=u[T];for(let B=0;B<U.length;B++)y.push(m[T])}return y},r.V=function(u){Tn(this);let m=[];if(typeof u=="string")yi(this,u)&&(m=m.concat(this.g.get(Ei(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return Tn(this),this.i=null,u=Ei(this,u),yi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function vi(u,m,y){ta(u,m),0<y.length&&(u.i=null,u.g.set(Ei(u,m),Z(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const B=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var U=B;W[T]!==""&&(U+="="+encodeURIComponent(String(W[T]))),u.push(U)}}return this.i=u.join("&")};function Ei(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Eo(u,m){m&&!u.j&&(Tn(u),u.i=null,u.g.forEach(function(y,T){var U=T.toLowerCase();T!=U&&(ta(this,T),vi(this,U,y))},u)),u.j=m}function nu(u,m){const y=new er;if(p.Image){const T=new Image;T.onload=H(An,y,"TestLoadImage: loaded",!0,m,T),T.onerror=H(An,y,"TestLoadImage: error",!1,m,T),T.onabort=H(An,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=H(An,y,"TestLoadImage: timeout",!1,m,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function os(u,m){const y=new er,T=new AbortController,U=setTimeout(()=>{T.abort(),An(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?An(y,"TestPingServer: ok",!0,m):An(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),An(y,"TestPingServer: error",!1,m)})}function An(u,m,y,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(y)}catch{}}function ls(){this.g=new $e}function Xn(u,m,y){const T=y||"";try{rs(u,function(U,B){let W=U;_(U)&&(W=uo(U)),m.push(T+B+"="+encodeURIComponent(W))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function cr(u){this.l=u.Ub||null,this.j=u.eb||!1}X(cr,co),cr.prototype.g=function(){return new Ti(this.l,this.j)},cr.prototype.i=function(u){return function(){return u}}({});function Ti(u,m){ye.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(Ti,ye),r=Ti.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Wn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;To(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function To(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?$n(this):Wn(this),this.readyState==3&&To(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,$n(this))},r.Qa=function(u){this.g&&(this.response=u,$n(this))},r.ga=function(){this.g&&$n(this)};function $n(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Wn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Wn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ao(u){let m="";return Ct(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function Ce(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=Ao(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):xt(u,m,y))}function jt(u){ye.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(jt,ye);var ea=/^https?$/i,us=["POST","PUT"];r=jt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ns.g(),this.v=this.o?Yl(this.o):Yl(ns),this.g.onreadystatechange=k(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){iu(this,B);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)y.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())y.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(B=>B.toLowerCase()=="content-type"),U=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(us,m,void 0))||T||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of y)this.g.setRequestHeader(B,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cs(this),this.u=!0,this.g.send(u),this.u=!1}catch(B){iu(this,B)}};function iu(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,na(u),Zn(u)}function na(u){u.A||(u.A=!0,Re(u,"complete"),Re(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Re(this,"complete"),Re(this,"abort"),Zn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zn(this,!0)),jt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ia(this):this.bb())},r.bb=function(){ia(this)};function ia(u){if(u.h&&typeof f<"u"&&(!u.v[1]||Sn(u)!=4||u.Z()!=2)){if(u.u&&Sn(u)==4)Ql(u.Ea,0,u);else if(Re(u,"readystatechange"),Sn(u)==4){u.h=!1;try{const W=u.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=W===0){var U=String(u.D).match(_o)[1]||null;!U&&p.self&&p.self.location&&(U=p.self.location.protocol.slice(0,-1)),T=!ea.test(U?U.toLowerCase():"")}y=T}if(y)Re(u,"complete"),Re(u,"success");else{u.m=6;try{var B=2<Sn(u)?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.Z()+"]",na(u)}}finally{Zn(u)}}}}function Zn(u,m){if(u.g){cs(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Re(u,"ready");try{y.onreadystatechange=T}catch{}}}function cs(u){u.I&&(p.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Sn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Fn(m)}};function ru(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Rh(u){const m={};u=(u.g&&2<=Sn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ft(u[T]))continue;var y=V(u[T]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const B=m[U]||[];m[U]=B,B.push(y)}M(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hs(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function ra(u){this.Aa=0,this.i=[],this.j=new er,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hs("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hs("baseRetryDelayMs",5e3,u),this.cb=hs("retryDelaySeedMs",1e4,u),this.Wa=hs("forwardChannelMaxRetries",2,u),this.wa=hs("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new po(u&&u.concurrentRequestLimit),this.Da=new ls,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ra.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,T){oe(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=hu(this,null,this.W),aa(this)};function So(u){if(su(u),u.G==3){var m=u.U++,y=ie(u.I);if(xt(y,"SID",u.K),xt(y,"RID",m),xt(y,"TYPE","terminate"),fs(u,y),m=new Qn(u,u.j,m),m.L=2,m.v=as(ie(y)),y=!1,p.navigator&&p.navigator.sendBeacon)try{y=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&p.Image&&(new Image().src=m.v,y=!0),y||(m.g=fu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Zt(m)}cu(u)}function sa(u){u.g&&(ds(u),u.g.cancel(),u.g=null)}function su(u){sa(u),u.u&&(p.clearTimeout(u.u),u.u=null),oa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function aa(u){if(!go(u.h)&&!u.s){u.s=!0;var m=u.Ga;dt||D(),lt||(dt(),lt=!0),qt.add(m,u),u.B=0}}function Ih(u,m){return Jl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=tr(k(u.Ga,u,m),Ro(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Qn(this,this.j,u);let B=this.o;if(this.S&&(B?(B=w(B),I(B,this.S)):B=this.S),this.m!==null||this.O||(U.H=B,B=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=au(this,U,m),y=ie(this.I),xt(y,"RID",u),xt(y,"CVER",22),this.D&&xt(y,"X-HTTP-Session-Id",this.D),fs(this,y),B&&(this.O?m="headers="+encodeURIComponent(String(Ao(B)))+"&"+m:this.m&&Ce(y,this.m,B)),or(this.h,U),this.Ua&&xt(y,"TYPE","init"),this.P?(xt(y,"$req",m),xt(y,"SID","null"),U.T=!0,Un(U,y,null)):Un(U,y,m),this.G=2}}else this.G==3&&(u?bo(this,u):this.i.length==0||go(this.h)||bo(this))};function bo(u,m){var y;m?y=m.l:y=u.U++;const T=ie(u.I);xt(T,"SID",u.K),xt(T,"RID",y),xt(T,"AID",u.T),fs(u,T),u.m&&u.o&&Ce(T,u.m,u.o),y=new Qn(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=au(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),or(u.h,y),Un(y,T,m)}function fs(u,m){u.H&&Ct(u.H,function(y,T){xt(m,T,y)}),u.l&&rs({},function(y,T){xt(m,T,y)})}function au(u,m,y){y=Math.min(u.i.length,y);var T=u.l?k(u.l.Na,u.l,u):null;t:{var U=u.i;let B=-1;for(;;){const W=["count="+y];B==-1?0<y?(B=U[0].g,W.push("ofs="+B)):B=0:W.push("ofs="+B);let Mt=!0;for(let Ee=0;Ee<y;Ee++){let Pt=U[Ee].g;const De=U[Ee].map;if(Pt-=B,0>Pt)B=Math.max(0,U[Ee].g-100),Mt=!1;else try{Xn(De,W,"req"+Pt+"_")}catch{T&&T(De)}}if(Mt){T=W.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,T}function ou(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;dt||D(),lt||(dt(),lt=!0),qt.add(m,u),u.v=0}}function wo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=tr(k(u.Fa,u),Ro(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,lu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=tr(k(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),sa(this),lu(this))};function ds(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function lu(u){u.g=new Qn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ie(u.qa);xt(m,"RID","rpc"),xt(m,"SID",u.K),xt(m,"AID",u.T),xt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&xt(m,"TO",u.ja),xt(m,"TYPE","xmlhttp"),fs(u,m),u.m&&u.o&&Ce(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=as(ie(m)),y.m=null,y.P=!0,gi(y,u)}r.Za=function(){this.C!=null&&(this.C=null,sa(this),wo(this),oe(19))};function oa(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function uu(u,m){var y=null;if(u.g==m){oa(u),ds(u),u.g=null;var T=2}else if(ar(u.h,m))y=m.D,vn(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;T=Ys(),Re(T,new $l(T,y)),aa(u)}else ou(u);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&Ih(u,m)||T==2&&wo(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),U){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function Ro(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Ai(u,m){if(u.j.info("Error code "+m),m==2){var y=k(u.fb,u),T=u.Xa;const U=!T;T=new _i(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||lr(T,"https"),as(T),U?nu(T.toString(),y):os(T.toString(),y)}else oe(2);u.G=0,u.l&&u.l.sa(m),cu(u),su(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function cu(u){if(u.G=0,u.ka=[],u.l){const m=We(u.h);(m.length!=0||u.i.length!=0)&&($(u.ka,m),$(u.ka,u.i),u.h.i.length=0,Z(u.i),u.i.length=0),u.l.ra()}}function hu(u,m,y){var T=y instanceof _i?ie(y):new _i(y);if(T.g!="")m&&(T.g=m+"."+T.g),ss(T,T.s);else{var U=p.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var B=new _i(null);T&&lr(B,T),m&&(B.g=m),U&&ss(B,U),y&&(B.l=y),T=B}return y=u.D,m=u.ya,y&&m&&xt(T,y,m),xt(T,"VER",u.la),fs(u,T),T}function fu(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new jt(new cr({eb:y})):new jt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function du(){}r=du.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function la(){}la.prototype.g=function(u,m){return new Ze(u,m)};function Ze(u,m){ye.call(this),this.g=new ra(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ft(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ft(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Jn(this)}X(Ze,ye),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){So(this.g)},Ze.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=uo(u),u=y);m.i.push(new Th(m.Ya++,u)),m.G==3&&aa(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,So(this.g),delete this.g,Ze.aa.N.call(this)};function mu(u){Wi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}X(mu,Wi);function pu(){kn.call(this),this.status=1}X(pu,kn);function Jn(u){this.g=u}X(Jn,du),Jn.prototype.ua=function(){Re(this.g,"a")},Jn.prototype.ta=function(u){Re(this.g,new mu(u))},Jn.prototype.sa=function(u){Re(this.g,new pu)},Jn.prototype.ra=function(){Re(this.g,"b")},la.prototype.createWebChannel=la.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,jE=function(){return new la},qE=function(){return Ys()},HE=yn,Fd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,Rc=ve,pi.COMPLETE="complete",BE=pi,Xl.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",ye.prototype.listen=ye.prototype.K,gl=Xl,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,zE=jt}).apply(typeof mc<"u"?mc:typeof self<"u"?self:typeof window<"u"?window:{});const Fy="@firebase/firestore",Gy="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new cm("@firebase/firestore");function ka(){return zs.logLevel}function nt(r,...t){if(zs.logLevel<=Dt.DEBUG){const n=t.map(Am);zs.debug(`Firestore (${to}): ${r}`,...n)}}function Gi(r,...t){if(zs.logLevel<=Dt.ERROR){const n=t.map(Am);zs.error(`Firestore (${to}): ${r}`,...n)}}function Ga(r,...t){if(zs.logLevel<=Dt.WARN){const n=t.map(Am);zs.warn(`Firestore (${to}): ${r}`,...n)}}function Am(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(r="Unexpected state"){const t=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: `+r;throw Gi(t),new Error(t)}function Ft(r,t){r||mt()}function Et(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Qi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class KR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ke.UNAUTHENTICATED))}shutdown(){}}class QR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class YR{constructor(t){this.t=t,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new qr,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=c;t.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},p=g=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new qr)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string"),new FE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string"),new Ke(t)}}class XR{constructor(t,n,s){this.l=t,this.h=n,this.P=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class $R{constructor(t,n,s){this.l=t,this.h=n,this.P=s}getToken(){return Promise.resolve(new XR(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ky{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WR{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Pn(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0);const s=c=>{c.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,nt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const o=c=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Ky(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ft(typeof n.token=="string"),this.R=n.token,new Ky(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=ZR(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=t.charAt(o[c]%62))}return s}}function Vt(r,t){return r<t?-1:r>t?1:0}function Ka(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=-62135596800,Yy=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(t){return be.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Yy);return new be(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new rt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Qy)throw new rt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yy}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Qy;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{static fromTimestamp(t){return new gt(t)}static min(){return new gt(new be(0,0))}static max(){return new gt(new be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="__name__";class ai{constructor(t,n,s){n===void 0?n=0:n>t.length&&mt(),s===void 0?s=t.length-n:s>t.length-n&&mt(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ai.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ai?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const c=ai.compareSegments(t.get(o),n.get(o));if(c!==0)return c}return Math.sign(t.length-n.length)}static compareSegments(t,n){const s=ai.isNumericId(t),o=ai.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ai.extractNumericId(t).compare(ai.extractNumericId(n)):t<n?-1:t>n?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hr.fromString(t.substring(4,t.length-2))}}class Wt extends ai{construct(t,n,s){return new Wt(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new rt(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Wt(n)}static emptyPath(){return new Wt([])}}const JR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ai{construct(t,n,s){return new Be(t,n,s)}static isValidIdentifier(t){return JR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xy}static keyField(){return new Be([Xy])}static fromServerFormat(t){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new rt(K.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new rt(K.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new rt(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(c(),o++)}if(c(),f)throw new rt(K.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Be(n)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t){this.path=t}static fromPath(t){return new ut(Wt.fromString(t))}static fromName(t){return new ut(Wt.fromString(t).popFirst(5))}static empty(){return new ut(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Wt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Wt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ut(new Wt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=-1;function t1(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=gt.fromTimestamp(s===1e9?new be(n+1,0):new be(n,s));return new Fr(o,ut.empty(),t)}function e1(r){return new Fr(r.readTime,r.key,Il)}class Fr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Fr(gt.min(),ut.empty(),Il)}static max(){return new Fr(gt.max(),ut.empty(),Il)}}function n1(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=ut.comparator(r.documentKey,t.documentKey),n!==0?n:Vt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class r1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(r){if(r.code!==K.FAILED_PRECONDITION||r.message!==i1)throw r;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new G((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):G.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):G.reject(n)}static resolve(t){return new G((n,s)=>{n(t)})}static reject(t){return new G((n,s)=>{s(t)})}static waitFor(t){return new G((n,s)=>{let o=0,c=0,f=!1;t.forEach(p=>{++o,p.next(()=>{++c,f&&c===o&&n()},g=>s(g))}),f=!0,c===o&&n()})}static or(t){let n=G.resolve(!1);for(const s of t)n=n.next(o=>o?G.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,c)=>{s.push(n.call(this,o,c))}),this.waitFor(s)}static mapArray(t,n){return new G((s,o)=>{const c=t.length,f=new Array(c);let p=0;for(let g=0;g<c;g++){const _=g;n(t[_]).next(A=>{f[_]=A,++p,p===c&&s(f)},A=>o(A))}})}static doWhile(t,n){return new G((s,o)=>{const c=()=>{t()===!0?n().next(()=>{c()},o):s()};c()})}}function s1(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function no(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}rh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm=-1;function sh(r){return r==null}function zc(r){return r===0&&1/r==-1/0}function a1(r){return typeof r=="number"&&Number.isInteger(r)&&!zc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="";function o1(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=$y(t)),t=l1(r.get(n),t);return $y(t)}function l1(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":n+="";break;case KE:n+="";break;default:n+=c}}return n}function $y(r){return r+KE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Zr(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function QE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(t,n){this.comparator=t,this.root=n||ze.EMPTY}insert(t,n){return new ee(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(t){return new ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ze.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new pc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new pc(this.root,t,this.comparator,!1)}getReverseIterator(){return new pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new pc(this.root,t,this.comparator,!0)}}class pc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ze{constructor(t,n,s,o,c){this.key=t,this.value=n,this.color=s??ze.RED,this.left=o??ze.EMPTY,this.right=c??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,c){return new ze(t??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const c=s(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const t=this.left.check();if(t!==this.right.check())throw mt();return t+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(t,n,s,o,c){return this}insert(t,n,s){return new ze(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(t){this.comparator=t,this.data=new ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zy(this.data.getIterator())}getIteratorFrom(t){return new Zy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof we)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new we(this.comparator);return n.data=t,n}}class Zy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.fields=t,t.sort(Be.comparator)}static empty(){return new pn([])}unionWith(t){let n=new we(Be.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new pn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ka(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new YE("Invalid base64 string: "+c):c}}(t);return new He(n)}static fromUint8Array(t){const n=function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c}(t);return new He(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}He.EMPTY_BYTE_STRING=new He("");const u1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gr(r){if(Ft(!!r),typeof r=="string"){let t=0;const n=u1.exec(r);if(Ft(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ue(r.seconds),nanos:ue(r.nanos)}}function ue(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Kr(r){return typeof r=="string"?He.fromBase64String(r):He.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="server_timestamp",$E="__type__",WE="__previous_value__",ZE="__local_write_time__";function bm(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[$E])===null||n===void 0?void 0:n.stringValue)===XE}function ah(r){const t=r.mapValue.fields[WE];return bm(t)?ah(t):t}function Cl(r){const t=Gr(r.mapValue.fields[ZE].timestampValue);return new be(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(t,n,s,o,c,f,p,g,_){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=_}}const Bc="(default)";class Dl{constructor(t,n){this.projectId=t,this.database=n||Bc}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===Bc}isEqual(t){return t instanceof Dl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="__type__",h1="__max__",gc={mapValue:{}},t0="__vector__",Hc="value";function Qr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?bm(r)?4:d1(r)?9007199254740991:f1(r)?10:11:mt()}function hi(r,t){if(r===t)return!0;const n=Qr(r);if(n!==Qr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Cl(r).isEqual(Cl(t));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=Gr(o.timestampValue),p=Gr(c.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,c){return Kr(o.bytesValue).isEqual(Kr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,c){return ue(o.geoPointValue.latitude)===ue(c.geoPointValue.latitude)&&ue(o.geoPointValue.longitude)===ue(c.geoPointValue.longitude)}(r,t);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return ue(o.integerValue)===ue(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=ue(o.doubleValue),p=ue(c.doubleValue);return f===p?zc(f)===zc(p):isNaN(f)&&isNaN(p)}return!1}(r,t);case 9:return Ka(r.arrayValue.values||[],t.arrayValue.values||[],hi);case 10:case 11:return function(o,c){const f=o.mapValue.fields||{},p=c.mapValue.fields||{};if(Wy(f)!==Wy(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!hi(f[g],p[g])))return!1;return!0}(r,t);default:return mt()}}function Ol(r,t){return(r.values||[]).find(n=>hi(n,t))!==void 0}function Qa(r,t){if(r===t)return 0;const n=Qr(r),s=Qr(t);if(n!==s)return Vt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,t.booleanValue);case 2:return function(c,f){const p=ue(c.integerValue||c.doubleValue),g=ue(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1}(r,t);case 3:return Jy(r.timestampValue,t.timestampValue);case 4:return Jy(Cl(r),Cl(t));case 5:return Vt(r.stringValue,t.stringValue);case 6:return function(c,f){const p=Kr(c),g=Kr(f);return p.compareTo(g)}(r.bytesValue,t.bytesValue);case 7:return function(c,f){const p=c.split("/"),g=f.split("/");for(let _=0;_<p.length&&_<g.length;_++){const A=Vt(p[_],g[_]);if(A!==0)return A}return Vt(p.length,g.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,f){const p=Vt(ue(c.latitude),ue(f.latitude));return p!==0?p:Vt(ue(c.longitude),ue(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return tv(r.arrayValue,t.arrayValue);case 10:return function(c,f){var p,g,_,A;const C=c.fields||{},k=f.fields||{},H=(p=C[Hc])===null||p===void 0?void 0:p.arrayValue,X=(g=k[Hc])===null||g===void 0?void 0:g.arrayValue,Z=Vt(((_=H==null?void 0:H.values)===null||_===void 0?void 0:_.length)||0,((A=X==null?void 0:X.values)===null||A===void 0?void 0:A.length)||0);return Z!==0?Z:tv(H,X)}(r.mapValue,t.mapValue);case 11:return function(c,f){if(c===gc.mapValue&&f===gc.mapValue)return 0;if(c===gc.mapValue)return 1;if(f===gc.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),_=f.fields||{},A=Object.keys(_);g.sort(),A.sort();for(let C=0;C<g.length&&C<A.length;++C){const k=Vt(g[C],A[C]);if(k!==0)return k;const H=Qa(p[g[C]],_[A[C]]);if(H!==0)return H}return Vt(g.length,A.length)}(r.mapValue,t.mapValue);default:throw mt()}}function Jy(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Vt(r,t);const n=Gr(r),s=Gr(t),o=Vt(n.seconds,s.seconds);return o!==0?o:Vt(n.nanos,s.nanos)}function tv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=Qa(n[o],s[o]);if(c)return c}return Vt(n.length,s.length)}function Ya(r){return Gd(r)}function Gd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Gr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Kr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ut.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=Gd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const f of s)c?c=!1:o+=",",o+=`${f}:${Gd(n.fields[f])}`;return o+"}"}(r.mapValue):mt()}function Ic(r){switch(Qr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ah(r);return t?16+Ic(t):16;case 5:return 2*r.stringValue.length;case 6:return Kr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+Ic(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Zr(s.fields,(c,f)=>{o+=c.length+Ic(f)}),o}(r.mapValue);default:throw mt()}}function ev(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Kd(r){return!!r&&"integerValue"in r}function wm(r){return!!r&&"arrayValue"in r}function nv(r){return!!r&&"nullValue"in r}function iv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Cc(r){return!!r&&"mapValue"in r}function f1(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[JE])===null||n===void 0?void 0:n.stringValue)===t0}function El(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Zr(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=El(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=El(r.arrayValue.values[n]);return t}return Object.assign({},r)}function d1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===h1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.value=t}static empty(){return new an({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Cc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=El(n)}setAll(t){let n=Be.emptyPath(),s={},o=[];t.forEach((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=El(f):o.push(p.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(t){const n=this.field(t.popLast());Cc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return hi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Cc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Zr(n,(o,c)=>t[o]=c);for(const o of s)delete t[o]}clone(){return new an(El(this.value))}}function e0(r){const t=[];return Zr(r.fields,(n,s)=>{const o=new Be([n]);if(Cc(s)){const c=e0(s.mapValue).fields;if(c.length===0)t.push(o);else for(const f of c)t.push(o.child(f))}else t.push(o)}),new pn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t,n,s,o,c,f,p){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=f,this.documentState=p}static newInvalidDocument(t){return new Qe(t,0,gt.min(),gt.min(),gt.min(),an.empty(),0)}static newFoundDocument(t,n,s,o){return new Qe(t,1,n,gt.min(),s,o,0)}static newNoDocument(t,n){return new Qe(t,2,n,gt.min(),gt.min(),an.empty(),0)}static newUnknownDocument(t,n){return new Qe(t,3,n,gt.min(),gt.min(),an.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(t,n){this.position=t,this.inclusive=n}}function rv(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const c=t[o],f=r.position[o];if(c.field.isKeyField()?s=ut.comparator(ut.fromName(f.referenceValue),n.key):s=Qa(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function sv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!hi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,n="asc"){this.field=t,this.dir=n}}function m1(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{}class ge extends n0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new g1(t,n,s):n==="array-contains"?new v1(t,s):n==="in"?new E1(t,s):n==="not-in"?new T1(t,s):n==="array-contains-any"?new A1(t,s):new ge(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new _1(t,s):new y1(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Qa(n,this.value)):n!==null&&Qr(this.value)===Qr(n)&&this.matchesComparison(Qa(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends n0{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new jn(t,n)}matches(t){return i0(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function i0(r){return r.op==="and"}function r0(r){return p1(r)&&i0(r)}function p1(r){for(const t of r.filters)if(t instanceof jn)return!1;return!0}function Qd(r){if(r instanceof ge)return r.field.canonicalString()+r.op.toString()+Ya(r.value);if(r0(r))return r.filters.map(t=>Qd(t)).join(",");{const t=r.filters.map(n=>Qd(n)).join(",");return`${r.op}(${t})`}}function s0(r,t){return r instanceof ge?function(s,o){return o instanceof ge&&s.op===o.op&&s.field.isEqual(o.field)&&hi(s.value,o.value)}(r,t):r instanceof jn?function(s,o){return o instanceof jn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,f,p)=>c&&s0(f,o.filters[p]),!0):!1}(r,t):void mt()}function a0(r){return r instanceof ge?function(n){return`${n.field.canonicalString()} ${n.op} ${Ya(n.value)}`}(r):r instanceof jn?function(n){return n.op.toString()+" {"+n.getFilters().map(a0).join(" ,")+"}"}(r):"Filter"}class g1 extends ge{constructor(t,n,s){super(t,n,s),this.key=ut.fromName(s.referenceValue)}matches(t){const n=ut.comparator(t.key,this.key);return this.matchesComparison(n)}}class _1 extends ge{constructor(t,n){super(t,"in",n),this.keys=o0("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class y1 extends ge{constructor(t,n){super(t,"not-in",n),this.keys=o0("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function o0(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ut.fromName(s.referenceValue))}class v1 extends ge{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return wm(n)&&Ol(n.arrayValue,this.value)}}class E1 extends ge{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ol(this.value.arrayValue,n)}}class T1 extends ge{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Ol(this.value.arrayValue,n)}}class A1 extends ge{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!wm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ol(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(t,n=null,s=[],o=[],c=null,f=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=f,this.endAt=p,this.le=null}}function av(r,t=null,n=[],s=[],o=null,c=null,f=null){return new S1(r,t,n,s,o,c,f)}function Rm(r){const t=Et(r);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Qd(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),sh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Ya(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Ya(s)).join(",")),t.le=n}return t.le}function Im(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!m1(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!s0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!sv(r.startAt,t.startAt)&&sv(r.endAt,t.endAt)}function Yd(r){return ut.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(t,n=null,s=[],o=[],c=null,f="F",p=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=f,this.startAt=p,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function b1(r,t,n,s,o,c,f,p){return new zl(r,t,n,s,o,c,f,p)}function l0(r){return new zl(r)}function ov(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function u0(r){return r.collectionGroup!==null}function Tl(r){const t=Et(r);if(t.he===null){t.he=[];const n=new Set;for(const c of t.explicitOrderBy)t.he.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new we(Be.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(_=>{_.isInequality()&&(p=p.add(_.field))})}),p})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.he.push(new jc(c,s))}),n.has(Be.keyField().canonicalString())||t.he.push(new jc(Be.keyField(),s))}return t.he}function ui(r){const t=Et(r);return t.Pe||(t.Pe=w1(t,Tl(r))),t.Pe}function w1(r,t){if(r.limitType==="F")return av(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new jc(o.field,c)});const n=r.endAt?new qc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new qc(r.startAt.position,r.startAt.inclusive):null;return av(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Xd(r,t){const n=r.filters.concat([t]);return new zl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function $d(r,t,n){return new zl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function oh(r,t){return Im(ui(r),ui(t))&&r.limitType===t.limitType}function c0(r){return`${Rm(ui(r))}|lt:${r.limitType}`}function Ua(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>a0(o)).join(", ")}]`),sh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Ya(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Ya(o)).join(",")),`Target(${s})`}(ui(r))}; limitType=${r.limitType})`}function lh(r,t){return t.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ut.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,o){for(const c of Tl(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,p,g){const _=rv(f,p,g);return f.inclusive?_<=0:_<0}(s.startAt,Tl(s),o)||s.endAt&&!function(f,p,g){const _=rv(f,p,g);return f.inclusive?_>=0:_>0}(s.endAt,Tl(s),o))}(r,t)}function R1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function h0(r){return(t,n)=>{let s=!1;for(const o of Tl(r)){const c=I1(o,t,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function I1(r,t,n){const s=r.field.isKeyField()?ut.comparator(t.key,n.key):function(c,f,p){const g=f.data.field(c),_=p.data.field(c);return g!==null&&_!==null?Qa(g,_):mt()}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return mt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Zr(this.inner,(n,s)=>{for(const[o,c]of s)t(o,c)})}isEmpty(){return QE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=new ee(ut.comparator);function Ki(){return C1}const f0=new ee(ut.comparator);function _l(...r){let t=f0;for(const n of r)t=t.insert(n.key,n);return t}function d0(r){let t=f0;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Ms(){return Al()}function m0(){return Al()}function Al(){return new js(r=>r.toString(),(r,t)=>r.isEqual(t))}const D1=new ee(ut.comparator),O1=new we(ut.comparator);function Ot(...r){let t=O1;for(const n of r)t=t.add(n);return t}const N1=new we(Vt);function V1(){return N1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zc(t)?"-0":t}}function p0(r){return{integerValue:""+r}}function M1(r,t){return a1(t)?p0(t):Cm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(){this._=void 0}}function P1(r,t,n){return r instanceof Fc?function(o,c){const f={fields:{[$E]:{stringValue:XE},[ZE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&bm(c)&&(c=ah(c)),c&&(f.fields[WE]=c),{mapValue:f}}(n,t):r instanceof Nl?_0(r,t):r instanceof Vl?y0(r,t):function(o,c){const f=g0(o,c),p=lv(f)+lv(o.Ie);return Kd(f)&&Kd(o.Ie)?p0(p):Cm(o.serializer,p)}(r,t)}function k1(r,t,n){return r instanceof Nl?_0(r,t):r instanceof Vl?y0(r,t):n}function g0(r,t){return r instanceof Gc?function(s){return Kd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Fc extends uh{}class Nl extends uh{constructor(t){super(),this.elements=t}}function _0(r,t){const n=v0(t);for(const s of r.elements)n.some(o=>hi(o,s))||n.push(s);return{arrayValue:{values:n}}}class Vl extends uh{constructor(t){super(),this.elements=t}}function y0(r,t){let n=v0(t);for(const s of r.elements)n=n.filter(o=>!hi(o,s));return{arrayValue:{values:n}}}class Gc extends uh{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function lv(r){return ue(r.integerValue||r.doubleValue)}function v0(r){return wm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function U1(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof Nl&&o instanceof Nl||s instanceof Vl&&o instanceof Vl?Ka(s.elements,o.elements,hi):s instanceof Gc&&o instanceof Gc?hi(s.Ie,o.Ie):s instanceof Fc&&o instanceof Fc}(r.transform,t.transform)}class L1{constructor(t,n){this.version=t,this.transformResults=n}}class Hn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Hn}static exists(t){return new Hn(void 0,t)}static updateTime(t){return new Hn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Dc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class ch{}function E0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Dm(r.key,Hn.none()):new Bl(r.key,r.data,Hn.none());{const n=r.data,s=an.empty();let o=new we(Be.comparator);for(let c of t.fields)if(!o.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),o=o.add(c)}return new Jr(r.key,s,new pn(o.toArray()),Hn.none())}}function x1(r,t,n){r instanceof Bl?function(o,c,f){const p=o.value.clone(),g=cv(o.fieldTransforms,c,f.transformResults);p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):r instanceof Jr?function(o,c,f){if(!Dc(o.precondition,c))return void c.convertToUnknownDocument(f.version);const p=cv(o.fieldTransforms,c,f.transformResults),g=c.data;g.setAll(T0(o)),g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,t,n):function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Sl(r,t,n,s){return r instanceof Bl?function(c,f,p,g){if(!Dc(c.precondition,f))return p;const _=c.value.clone(),A=hv(c.fieldTransforms,g,f);return _.setAll(A),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(r,t,n,s):r instanceof Jr?function(c,f,p,g){if(!Dc(c.precondition,f))return p;const _=hv(c.fieldTransforms,g,f),A=f.data;return A.setAll(T0(c)),A.setAll(_),f.convertToFoundDocument(f.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(C=>C.field))}(r,t,n,s):function(c,f,p){return Dc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(r,t,n)}function z1(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),c=g0(s.transform,o||null);c!=null&&(n===null&&(n=an.empty()),n.set(s.field,c))}return n||null}function uv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ka(s,o,(c,f)=>U1(c,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Bl extends ch{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Jr extends ch{constructor(t,n,s,o,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function T0(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function cv(r,t,n){const s=new Map;Ft(r.length===n.length);for(let o=0;o<n.length;o++){const c=r[o],f=c.transform,p=t.data.field(c.field);s.set(c.field,k1(f,p,n[o]))}return s}function hv(r,t,n){const s=new Map;for(const o of r){const c=o.transform,f=n.data.field(o.field);s.set(o.field,P1(c,f,t))}return s}class Dm extends ch{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class B1 extends ch{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&x1(c,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Sl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Sl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=m0();return this.mutations.forEach(o=>{const c=t.get(o.key),f=c.overlayedDocument;let p=this.applyToLocalView(f,c.mutatedFields);p=n.has(o.key)?null:p;const g=E0(f,p);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(gt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ot())}isEqual(t){return this.batchId===t.batchId&&Ka(this.mutations,t.mutations,(n,s)=>uv(n,s))&&Ka(this.baseMutations,t.baseMutations,(n,s)=>uv(n,s))}}class Om{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ft(t.mutations.length===s.length);let o=function(){return D1}();const c=t.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,s[f].version);return new Om(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Ut;function F1(r){switch(r){case K.OK:return mt();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return mt()}}function A0(r){if(r===void 0)return Gi("GRPC error has no .code"),K.UNKNOWN;switch(r){case pe.OK:return K.OK;case pe.CANCELLED:return K.CANCELLED;case pe.UNKNOWN:return K.UNKNOWN;case pe.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case pe.INTERNAL:return K.INTERNAL;case pe.UNAVAILABLE:return K.UNAVAILABLE;case pe.UNAUTHENTICATED:return K.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case pe.NOT_FOUND:return K.NOT_FOUND;case pe.ALREADY_EXISTS:return K.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return K.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case pe.ABORTED:return K.ABORTED;case pe.OUT_OF_RANGE:return K.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return K.UNIMPLEMENTED;case pe.DATA_LOSS:return K.DATA_LOSS;default:return mt()}}(Ut=pe||(pe={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=new Hr([4294967295,4294967295],0);function fv(r){const t=G1().encode(r),n=new xE;return n.update(t),new Uint8Array(n.digest())}function dv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Hr([n,s],0),new Hr([o,c],0)]}class Nm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new yl(`Invalid padding: ${n}`);if(s<0)throw new yl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new yl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new yl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=Hr.fromNumber(this.Ee)}Ae(t,n,s){let o=t.add(n.multiply(Hr.fromNumber(s)));return o.compare(K1)===1&&(o=new Hr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=fv(t),[s,o]=dv(n);for(let c=0;c<this.hashCount;c++){const f=this.Ae(s,o,c);if(!this.Re(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),f=new Nm(c,o,n);return s.forEach(p=>f.insert(p)),f}insert(t){if(this.Ee===0)return;const n=fv(t),[s,o]=dv(n);for(let c=0;c<this.hashCount;c++){const f=this.Ae(s,o,c);this.Ve(f)}}Ve(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(t,n,s,o,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Hl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new hh(gt.min(),o,new ee(Vt),Ki(),Ot())}}class Hl{constructor(t,n,s,o,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Hl(s,n,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(t,n,s,o){this.me=t,this.removedTargetIds=n,this.key=s,this.fe=o}}class S0{constructor(t,n){this.targetId=t,this.ge=n}}class b0{constructor(t,n,s=He.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class mv{constructor(){this.pe=0,this.ye=pv(),this.we=He.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.we=t)}Fe(){let t=Ot(),n=Ot(),s=Ot();return this.ye.forEach((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:mt()}}),new Hl(this.we,this.be,t,n,s)}Me(){this.Se=!1,this.ye=pv()}xe(t,n){this.Se=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.Se=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Ft(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class Q1{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Ki(),this.$e=_c(),this.Ke=_c(),this.Ue=new ee(Vt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const s=this.He(n);switch(t.state){case 0:this.Je(n)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(t.resumeToken));break;default:mt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(t){const n=t.targetId,s=t.ge.count,o=this.Xe(n);if(o){const c=o.target;if(Yd(c))if(s===0){const f=new ut(c.path);this.ze(n,f,Qe.newNoDocument(f,gt.min()))}else Ft(s===1);else{const f=this.et(n);if(f!==s){const p=this.tt(t),g=p?this.nt(p,t,f):1;if(g!==0){this.Ye(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,_)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let f,p;try{f=Kr(s).toUint8Array()}catch(g){if(g instanceof YE)return Ga("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Nm(f,o,c)}catch(g){return Ga(g instanceof yl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.Ee===0?null:p}nt(t,n,s){return n.ge.count===s-this.st(t,n.targetId)?0:2}st(t,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(c=>{const f=this.ke.it(),p=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.ze(n,c,null),o++)}),o}ot(t){const n=new Map;this.qe.forEach((c,f)=>{const p=this.Xe(f);if(p){if(c.current&&Yd(p.target)){const g=new ut(p.target.path);this._t(g).has(f)||this.ut(f,g)||this.ze(f,g,Qe.newNoDocument(g,t))}c.ve&&(n.set(f,c.Fe()),c.Me())}});let s=Ot();this.Ke.forEach((c,f)=>{let p=!0;f.forEachWhile(g=>{const _=this.Xe(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(c))}),this.Qe.forEach((c,f)=>f.setReadTime(t));const o=new hh(t,n,this.Ue,this.Qe,s);return this.Qe=Ki(),this.$e=_c(),this.Ke=_c(),this.Ue=new ee(Vt),o}Ge(t,n){if(!this.Je(t))return;const s=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(t))}ze(t,n,s){if(!this.Je(t))return;const o=this.He(t);this.ut(t,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(t)),this.Ke=this.Ke.insert(n,this.ct(n).add(t)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new mv,this.qe.set(t,n)),n}ct(t){let n=this.Ke.get(t);return n||(n=new we(Vt),this.Ke=this.Ke.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new we(Vt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||nt("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new mv),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function _c(){return new ee(ut.comparator)}function pv(){return new ee(ut.comparator)}const Y1={asc:"ASCENDING",desc:"DESCENDING"},X1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$1={and:"AND",or:"OR"};class W1{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Wd(r,t){return r.useProto3Json||sh(t)?t:{value:t}}function Kc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function w0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Z1(r,t){return Kc(r,t.toTimestamp())}function ci(r){return Ft(!!r),gt.fromTimestamp(function(n){const s=Gr(n);return new be(s.seconds,s.nanos)}(r))}function Vm(r,t){return Zd(r,t).canonicalString()}function Zd(r,t){const n=function(o){return new Wt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function R0(r){const t=Wt.fromString(r);return Ft(N0(t)),t}function Jd(r,t){return Vm(r.databaseId,t.path)}function Nd(r,t){const n=R0(t);if(n.get(1)!==r.databaseId.projectId)throw new rt(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new rt(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ut(C0(n))}function I0(r,t){return Vm(r.databaseId,t)}function J1(r){const t=R0(r);return t.length===4?Wt.emptyPath():C0(t)}function tm(r){return new Wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function C0(r){return Ft(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function gv(r,t,n){return{name:Jd(r,t),fields:n.value.mapValue.fields}}function tI(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:mt()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=function(_,A){return _.useProto3Json?(Ft(A===void 0||typeof A=="string"),He.fromBase64String(A||"")):(Ft(A===void 0||A instanceof Buffer||A instanceof Uint8Array),He.fromUint8Array(A||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,p=f&&function(_){const A=_.code===void 0?K.UNKNOWN:A0(_.code);return new rt(A,_.message||"")}(f);n=new b0(s,o,c,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Nd(r,s.document.name),c=ci(s.document.updateTime),f=s.document.createTime?ci(s.document.createTime):gt.min(),p=new an({mapValue:{fields:s.document.fields}}),g=Qe.newFoundDocument(o,c,f,p),_=s.targetIds||[],A=s.removedTargetIds||[];n=new Oc(_,A,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Nd(r,s.document),c=s.readTime?ci(s.readTime):gt.min(),f=Qe.newNoDocument(o,c),p=s.removedTargetIds||[];n=new Oc([],p,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Nd(r,s.document),c=s.removedTargetIds||[];n=new Oc([],c,o,null)}else{if(!("filter"in t))return mt();{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,f=new j1(o,c),p=s.targetId;n=new S0(p,f)}}return n}function eI(r,t){let n;if(t instanceof Bl)n={update:gv(r,t.key,t.value)};else if(t instanceof Dm)n={delete:Jd(r,t.key)};else if(t instanceof Jr)n={update:gv(r,t.key,t.data),updateMask:cI(t.fieldMask)};else{if(!(t instanceof B1))return mt();n={verify:Jd(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,f){const p=f.transform;if(p instanceof Fc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Nl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Vl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Gc)return{fieldPath:f.field.canonicalString(),increment:p.Ie};throw mt()}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:Z1(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:mt()}(r,t.precondition)),n}function nI(r,t){return r&&r.length>0?(Ft(t!==void 0),r.map(n=>function(o,c){let f=o.updateTime?ci(o.updateTime):ci(c);return f.isEqual(gt.min())&&(f=ci(c)),new L1(f,o.transformResults||[])}(n,t))):[]}function iI(r,t){return{documents:[I0(r,t.path)]}}function rI(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=I0(r,o);const c=function(_){if(_.length!==0)return O0(jn.create(_,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const f=function(_){if(_.length!==0)return _.map(A=>function(k){return{field:La(k.field),direction:oI(k.dir)}}(A))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const p=Wd(r,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{ht:n,parent:o}}function sI(r){let t=J1(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ft(s===1);const A=n.from[0];A.allDescendants?o=A.collectionId:t=t.child(A.collectionId)}let c=[];n.where&&(c=function(C){const k=D0(C);return k instanceof jn&&r0(k)?k.getFilters():[k]}(n.where));let f=[];n.orderBy&&(f=function(C){return C.map(k=>function(X){return new jc(xa(X.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction))}(k))}(n.orderBy));let p=null;n.limit&&(p=function(C){let k;return k=typeof C=="object"?C.value:C,sh(k)?null:k}(n.limit));let g=null;n.startAt&&(g=function(C){const k=!!C.before,H=C.values||[];return new qc(H,k)}(n.startAt));let _=null;return n.endAt&&(_=function(C){const k=!C.before,H=C.values||[];return new qc(H,k)}(n.endAt)),b1(t,o,f,c,p,"F",g,_)}function aI(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function D0(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=xa(n.unaryFilter.field);return ge.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=xa(n.unaryFilter.field);return ge.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=xa(n.unaryFilter.field);return ge.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=xa(n.unaryFilter.field);return ge.create(f,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}(r):r.fieldFilter!==void 0?function(n){return ge.create(xa(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return jn.create(n.compositeFilter.filters.map(s=>D0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return mt()}}(n.compositeFilter.op))}(r):mt()}function oI(r){return Y1[r]}function lI(r){return X1[r]}function uI(r){return $1[r]}function La(r){return{fieldPath:r.canonicalString()}}function xa(r){return Be.fromServerFormat(r.fieldPath)}function O0(r){return r instanceof ge?function(n){if(n.op==="=="){if(iv(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NAN"}};if(nv(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iv(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NOT_NAN"}};if(nv(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(n.field),op:lI(n.op),value:n.value}}}(r):r instanceof jn?function(n){const s=n.getFilters().map(o=>O0(o));return s.length===1?s[0]:{compositeFilter:{op:uI(n.op),filters:s}}}(r):mt()}function cI(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function N0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(t,n,s,o,c=gt.min(),f=gt.min(),p=He.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(t){return new Lr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t){this.Tt=t}}function fI(r){const t=sI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?$d(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.Tn=new mI}addToCollectionParentIndex(t,n){return this.Tn.add(n),G.resolve()}getCollectionParents(t,n){return G.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return G.resolve()}deleteFieldIndex(t,n){return G.resolve()}deleteAllFieldIndexes(t){return G.resolve()}createTargetIndexes(t,n){return G.resolve()}getDocumentsMatchingTarget(t,n){return G.resolve(null)}getIndexType(t,n){return G.resolve(0)}getFieldIndexes(t,n){return G.resolve([])}getNextCollectionGroupToUpdate(t){return G.resolve(null)}getMinOffset(t,n){return G.resolve(Fr.min())}getMinOffsetFromCollectionGroup(t,n){return G.resolve(Fr.min())}updateCollectionGroup(t,n,s){return G.resolve()}updateIndexEntries(t,n){return G.resolve()}}class mI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new we(Wt.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new we(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},V0=41943040;class sn{static withCacheSize(t){return new sn(t,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(V0,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new Xa(0)}static Un(){return new Xa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="LruGarbageCollector",pI=1048576;function vv([r,t],[n,s]){const o=Vt(r,n);return o===0?Vt(t,s):o}class gI{constructor(t){this.Hn=t,this.buffer=new we(vv),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();vv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _I{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){nt(yv,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){no(n)?nt(yv,"Ignoring IndexedDB error during garbage collection: ",n):await eo(n)}await this.er(3e5)})}}class yI{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return G.resolve(rh.ae);const s=new gI(n);return this.tr.forEachTarget(t,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.tr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(_v)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_v):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let s,o,c,f,p,g,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),o=this.params.maximumSequenceNumbersToCollect):o=C,f=Date.now(),this.nthSequenceNumber(t,o))).next(C=>(s=C,p=Date.now(),this.removeTargets(t,s,n))).next(C=>(c=C,g=Date.now(),this.removeOrphanedDocuments(t,s))).next(C=>(_=Date.now(),ka()<=Dt.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-A}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${C} documents in `+(_-g)+`ms
Total Duration: ${_-A}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:C})))}}function vI(r,t){return new yI(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.changes=new js(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Qe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?G.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&Sl(s.mutation,o,pn.empty(),be.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Ot()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Ot()){const o=Ms();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(c=>{let f=_l();return c.forEach((p,g)=>{f=f.insert(p,g.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Ms();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Ot()))}populateOverlays(t,n,s){const o=[];return s.forEach(c=>{n.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(t,o).next(c=>{c.forEach((f,p)=>{n.set(f,p)})})}computeViews(t,n,s,o){let c=Ki();const f=Al(),p=function(){return Al()}();return n.forEach((g,_)=>{const A=s.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Jr)?c=c.insert(_.key,_):A!==void 0?(f.set(_.key,A.mutation.getFieldMask()),Sl(A.mutation,_,A.mutation.getFieldMask(),be.now())):f.set(_.key,pn.empty())}),this.recalculateAndSaveOverlays(t,c).next(g=>(g.forEach((_,A)=>f.set(_,A)),n.forEach((_,A)=>{var C;return p.set(_,new TI(A,(C=f.get(_))!==null&&C!==void 0?C:null))}),p))}recalculateAndSaveOverlays(t,n){const s=Al();let o=new ee((f,p)=>f-p),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const p of f)p.keys().forEach(g=>{const _=n.get(g);if(_===null)return;let A=s.get(g)||pn.empty();A=p.applyToLocalView(_,A),s.set(g,A);const C=(o.get(p.batchId)||Ot()).add(g);o=o.insert(p.batchId,C)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),_=g.key,A=g.value,C=m0();A.forEach(k=>{if(!c.has(k)){const H=E0(n.get(k),s.get(k));H!==null&&C.set(k,H),c=c.add(k)}}),f.push(this.documentOverlayCache.saveOverlays(t,_,C))}return G.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return ut.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):u0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-c.size):G.resolve(Ms());let p=Il,g=c;return f.next(_=>G.forEach(_,(A,C)=>(p<C.largestBatchId&&(p=C.largestBatchId),c.get(A)?G.resolve():this.remoteDocumentCache.getEntry(t,A).next(k=>{g=g.insert(A,k)}))).next(()=>this.populateOverlays(t,_,c)).next(()=>this.computeViews(t,g,_,Ot())).next(A=>({batchId:p,changes:d0(A)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ut(n)).next(s=>{let o=_l();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const c=n.collectionGroup;let f=_l();return this.indexManager.getCollectionParents(t,c).next(p=>G.forEach(p,g=>{const _=function(C,k){return new zl(k,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,o).next(A=>{A.forEach((C,k)=>{f=f.insert(C,k)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,o))).next(f=>{c.forEach((g,_)=>{const A=_.getKey();f.get(A)===null&&(f=f.insert(A,Qe.newInvalidDocument(A)))});let p=_l();return f.forEach((g,_)=>{const A=c.get(g);A!==void 0&&Sl(A.mutation,_,pn.empty(),be.now()),lh(n,_)&&(p=p.insert(g,_))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return G.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:ci(o.createTime)}}(n)),G.resolve()}getNamedQuery(t,n){return G.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:fI(o.bundledQuery),readTime:ci(o.readTime)}}(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this.overlays=new ee(ut.comparator),this.Rr=new Map}getOverlay(t,n){return G.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ms();return G.forEach(n,o=>this.getOverlay(t,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,c)=>{this.Et(t,n,c)}),G.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),G.resolve()}getOverlaysForCollection(t,n,s){const o=Ms(),c=n.length+1,f=new ut(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return G.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let c=new ee((_,A)=>_-A);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let A=c.get(_.largestBatchId);A===null&&(A=Ms(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=Ms(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,A)=>p.set(_,A)),!(p.size()>=o)););return G.resolve(p)}Et(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new q1(n,s));let c=this.Rr.get(n);c===void 0&&(c=Ot(),this.Rr.set(n,c)),this.Rr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(t){return G.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(){this.Vr=new we(Me.mr),this.gr=new we(Me.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const s=new Me(t,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.wr(new Me(t,n))}br(t,n){t.forEach(s=>this.removeReference(s,n))}Sr(t){const n=new ut(new Wt([])),s=new Me(n,t),o=new Me(n,t+1),c=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),c.push(f.key)}),c}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new ut(new Wt([])),s=new Me(n,t),o=new Me(n,t+1);let c=Ot();return this.gr.forEachInRange([s,o],f=>{c=c.add(f.key)}),c}containsKey(t){const n=new Me(t,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Me{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return ut.comparator(t.key,n.key)||Vt(t.Cr,n.Cr)}static pr(t,n){return Vt(t.Cr,n.Cr)||ut.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new we(Me.mr)}checkEmpty(t){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new H1(c,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Mr=this.Mr.add(new Me(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return G.resolve(f)}lookupMutationBatch(t,n){return G.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Nr(s),c=o<0?0:o;return G.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?Sm:this.Fr-1)}getAllMutationBatches(t){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Me(n,0),o=new Me(n,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,o],f=>{const p=this.Or(f.Cr);c.push(p)}),G.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new we(Vt);return n.forEach(o=>{const c=new Me(o,0),f=new Me(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,f],p=>{s=s.add(p.Cr)})}),G.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let c=s;ut.isDocumentKey(c)||(c=c.child(""));const f=new Me(new ut(c),0);let p=new we(Vt);return this.Mr.forEachWhile(g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(p=p.add(g.Cr)),!0)},f),G.resolve(this.Br(p))}Br(t){const n=[];return t.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Ft(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return G.forEach(n.mutations,o=>{const c=new Me(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,n){const s=new Me(n,0),o=this.Mr.firstAfterOrEqual(s);return G.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,G.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(t){this.kr=t,this.docs=function(){return new ee(ut.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return G.resolve(s?s.document.mutableCopy():Qe.newInvalidDocument(n))}getEntries(t,n){let s=Ki();return n.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Qe.newInvalidDocument(o))}),G.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let c=Ki();const f=n.path,p=new ut(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:_,value:{document:A}}=g.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||n1(e1(A),s)<=0||(o.has(A.key)||lh(n,A))&&(c=c.insert(A.key,A.mutableCopy()))}return G.resolve(c)}getAllFromCollectionGroup(t,n,s,o){mt()}qr(t,n){return G.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new CI(this)}getSize(t){return G.resolve(this.size)}}class CI extends EI{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(s)}),G.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(t){this.persistence=t,this.Qr=new js(n=>Rm(n),Im),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Mm,this.targetCount=0,this.Ur=Xa.Kn()}forEachTarget(t,n){return this.Qr.forEach((s,o)=>n(o)),G.resolve()}getLastRemoteSnapshotVersion(t){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return G.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),G.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Ur=new Xa(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,G.resolve()}updateTargetData(t,n){return this.zn(n),G.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(t,n,s){let o=0;const c=[];return this.Qr.forEach((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.Qr.delete(f),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)}),G.waitFor(c).next(()=>o)}getTargetCount(t){return G.resolve(this.targetCount)}getTargetData(t,n){const s=this.Qr.get(n)||null;return G.resolve(s)}addMatchingKeys(t,n,s){return this.Kr.yr(n,s),G.resolve()}removeMatchingKeys(t,n,s){this.Kr.br(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach(f=>{c.push(o.markPotentiallyOrphaned(t,f))}),G.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.Kr.Sr(n),G.resolve()}getMatchingKeysForTargetId(t,n){const s=this.Kr.vr(n);return G.resolve(s)}containsKey(t,n){return G.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new rh(0),this.zr=!1,this.zr=!0,this.jr=new wI,this.referenceDelegate=t(this),this.Hr=new DI(this),this.indexManager=new dI,this.remoteDocumentCache=function(o){return new II(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new hI(n),this.Yr=new SI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new bI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.Wr[t.toKey()];return s||(s=new RI(n,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,s){nt("MemoryPersistence","Starting transaction:",t);const o=new OI(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(t,n){return G.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,n)))}}class OI extends r1{constructor(t){super(),this.currentSequenceNumber=t}}class Pm{constructor(t){this.persistence=t,this.ti=new Mm,this.ni=null}static ri(t){return new Pm(t)}get ii(){if(this.ni)return this.ni;throw mt()}addReference(t,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),G.resolve()}removeReference(t,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),G.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),G.resolve()}removeTarget(t,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.ii,s=>{const o=ut.fromPath(s);return this.si(t,o).next(c=>{c||n.removeEntry(o,gt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return G.or([()=>G.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class Qc{constructor(t,n){this.persistence=t,this.oi=new js(s=>o1(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=vI(this,n)}static ri(t,n){return new Qc(t,n)}Zr(){}Xr(t){return G.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}sr(t){let n=0;return this.rr(t,s=>{n++}).next(()=>n)}rr(t,n){return G.forEach(this.oi,(s,o)=>this.ar(t,s,o).next(c=>c?G.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(t,f=>this.ar(t,f,n).next(p=>{p||(s++,c.removeEntry(f,gt.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),G.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),G.resolve()}removeReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),G.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),G.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Ic(t.data.value)),n}ar(t,n,s){return G.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.oi.get(n);return G.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(t,n){let s=Ot(),o=Ot();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new km(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return fS()?8:s1(Ye())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,s,o){const c={result:null};return this.rs(t,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.ss(t,n,o,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new NI;return this._s(t,n,f).next(p=>{if(c.result=p,this.Xi)return this.us(t,n,f,p.size)})}).next(()=>c.result)}us(t,n,s,o){return s.documentReadCount<this.es?(ka()<=Dt.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",Ua(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),G.resolve()):(ka()<=Dt.DEBUG&&nt("QueryEngine","Query:",Ua(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(ka()<=Dt.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",Ua(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ui(n))):G.resolve())}rs(t,n){if(ov(n))return G.resolve(null);let s=ui(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=$d(n,null,"F"),s=ui(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const f=Ot(...c);return this.ns.getDocuments(t,f).next(p=>this.indexManager.getMinOffset(t,s).next(g=>{const _=this.cs(n,p);return this.ls(n,_,f,g.readTime)?this.rs(t,$d(n,null,"F")):this.hs(t,_,n,g)}))})))}ss(t,n,s,o){return ov(n)||o.isEqual(gt.min())?G.resolve(null):this.ns.getDocuments(t,s).next(c=>{const f=this.cs(n,c);return this.ls(n,f,s,o)?G.resolve(null):(ka()<=Dt.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ua(n)),this.hs(t,f,n,t1(o,Il)).next(p=>p))})}cs(t,n){let s=new we(h0(t));return n.forEach((o,c)=>{lh(t,c)&&(s=s.add(c))}),s}ls(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(t,n,s){return ka()<=Dt.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Ua(n)),this.ns.getDocumentsMatchingQuery(t,n,Fr.min(),s)}hs(t,n,s,o){return this.ns.getDocumentsMatchingQuery(t,s,o).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="LocalStore",MI=3e8;class PI{constructor(t,n,s,o){this.persistence=t,this.Ps=n,this.serializer=o,this.Ts=new ee(Vt),this.Is=new js(c=>Rm(c),Im),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new AI(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function kI(r,t,n,s){return new PI(r,t,n,s)}async function P0(r,t){const n=Et(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,n.As(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],p=[];let g=Ot();for(const _ of o){f.push(_.batchId);for(const A of _.mutations)g=g.add(A.key)}for(const _ of c){p.push(_.batchId);for(const A of _.mutations)g=g.add(A.key)}return n.localDocuments.getDocuments(s,g).next(_=>({Rs:_,removedBatchIds:f,addedBatchIds:p}))})})}function UI(r,t){const n=Et(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),c=n.ds.newChangeBuffer({trackRemovals:!0});return function(p,g,_,A){const C=_.batch,k=C.keys();let H=G.resolve();return k.forEach(X=>{H=H.next(()=>A.getEntry(g,X)).next(Z=>{const $=_.docVersions.get(X);Ft($!==null),Z.version.compareTo($)<0&&(C.applyToRemoteDocument(Z,_),Z.isValidDocument()&&(Z.setReadTime(_.commitVersion),A.addEntry(Z)))})}),H.next(()=>p.mutationQueue.removeMutationBatch(g,C))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let g=Ot();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(g=g.add(p.batch.mutations[_].key));return g}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function k0(r){const t=Et(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function LI(r,t){const n=Et(r),s=t.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const p=[];t.targetChanges.forEach((A,C)=>{const k=o.get(C);if(!k)return;p.push(n.Hr.removeMatchingKeys(c,A.removedDocuments,C).next(()=>n.Hr.addMatchingKeys(c,A.addedDocuments,C)));let H=k.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(C)!==null?H=H.withResumeToken(He.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,s)),o=o.insert(C,H),function(Z,$,Tt){return Z.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=MI?!0:Tt.addedDocuments.size+Tt.modifiedDocuments.size+Tt.removedDocuments.size>0}(k,H,A)&&p.push(n.Hr.updateTargetData(c,H))});let g=Ki(),_=Ot();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,A))}),p.push(xI(c,f,t.documentUpdates).next(A=>{g=A.Vs,_=A.fs})),!s.isEqual(gt.min())){const A=n.Hr.getLastRemoteSnapshotVersion(c).next(C=>n.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));p.push(A)}return G.waitFor(p).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,g,_)).next(()=>g)}).then(c=>(n.Ts=o,c))}function xI(r,t,n){let s=Ot(),o=Ot();return n.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let f=Ki();return n.forEach((p,g)=>{const _=c.get(p);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(gt.min())?(t.removeEntry(p,g.readTime),f=f.insert(p,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(g),f=f.insert(p,g)):nt(Um,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",g.version)}),{Vs:f,fs:o}})}function zI(r,t){const n=Et(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Sm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function BI(r,t){const n=Et(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,t).next(c=>c?(o=c,G.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Lr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(t,s.targetId)),s})}async function em(r,t,n){const s=Et(r),o=s.Ts.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!no(f))throw f;nt(Um,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ts=s.Ts.remove(t),s.Is.delete(o.target)}function Ev(r,t,n){const s=Et(r);let o=gt.min(),c=Ot();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,_,A){const C=Et(g),k=C.Is.get(A);return k!==void 0?G.resolve(C.Ts.get(k)):C.Hr.getTargetData(_,A)}(s,f,ui(t)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,p.targetId).next(g=>{c=g})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,t,n?o:gt.min(),n?c:Ot())).next(p=>(HI(s,R1(t),p),{documents:p,gs:c})))}function HI(r,t,n){let s=r.Es.get(t)||gt.min();n.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Es.set(t,s)}class Tv{constructor(){this.activeTargetIds=V1()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ss(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class qI{constructor(){this.ho=new Tv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,s){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new Tv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="ConnectivityMonitor";class Sv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){nt(Av,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){nt(Av,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yc=null;function nm(){return yc===null?yc=function(){return 268435456+Math.round(2147483648*Math.random())}():yc++,"0x"+yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="RestConnection",FI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GI{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Bc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(t,n,s,o,c){const f=nm(),p=this.So(t,n.toUriEncodedString());nt(Vd,`Sending RPC '${t}' ${f}:`,p,s);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,o,c),this.vo(t,p,g,s).then(_=>(nt(Vd,`Received RPC '${t}' ${f}: `,_),_),_=>{throw Ga(Vd,`RPC '${t}' ${f} failed with error: `,_,"url: ",p,"request:",s),_})}Co(t,n,s,o,c,f){return this.bo(t,n,s,o,c)}Do(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+to}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,c)=>t[c]=o),s&&s.headers.forEach((o,c)=>t[c]=o)}So(t,n){const s=FI[t];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class QI extends GI{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,s,o){const c=nm();return new Promise((f,p)=>{const g=new zE;g.setWithCredentials(!0),g.listenOnce(BE.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Rc.NO_ERROR:const A=g.getResponseJson();nt(Ge,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(A)),f(A);break;case Rc.TIMEOUT:nt(Ge,`RPC '${t}' ${c} timed out`),p(new rt(K.DEADLINE_EXCEEDED,"Request time out"));break;case Rc.HTTP_ERROR:const C=g.getStatus();if(nt(Ge,`RPC '${t}' ${c} failed with status:`,C,"response text:",g.getResponseText()),C>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const H=k==null?void 0:k.error;if(H&&H.status&&H.message){const X=function($){const Tt=$.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(Tt)>=0?Tt:K.UNKNOWN}(H.status);p(new rt(X,H.message))}else p(new rt(K.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new rt(K.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{nt(Ge,`RPC '${t}' ${c} completed.`)}});const _=JSON.stringify(o);nt(Ge,`RPC '${t}' ${c} sending request:`,o),g.send(n,"POST",_,s,15)})}Wo(t,n,s){const o=nm(),c=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=jE(),p=qE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const A=c.join("");nt(Ge,`Creating RPC '${t}' stream ${o}: ${A}`,g);const C=f.createWebChannel(A,g);let k=!1,H=!1;const X=new KI({Fo:$=>{H?nt(Ge,`Not sending because RPC '${t}' stream ${o} is closed:`,$):(k||(nt(Ge,`Opening RPC '${t}' stream ${o} transport.`),C.open(),k=!0),nt(Ge,`RPC '${t}' stream ${o} sending:`,$),C.send($))},Mo:()=>C.close()}),Z=($,Tt,ft)=>{$.listen(Tt,_t=>{try{ft(_t)}catch(Ht){setTimeout(()=>{throw Ht},0)}})};return Z(C,gl.EventType.OPEN,()=>{H||(nt(Ge,`RPC '${t}' stream ${o} transport opened.`),X.Qo())}),Z(C,gl.EventType.CLOSE,()=>{H||(H=!0,nt(Ge,`RPC '${t}' stream ${o} transport closed`),X.Ko())}),Z(C,gl.EventType.ERROR,$=>{H||(H=!0,Ga(Ge,`RPC '${t}' stream ${o} transport errored:`,$),X.Ko(new rt(K.UNAVAILABLE,"The operation could not be completed")))}),Z(C,gl.EventType.MESSAGE,$=>{var Tt;if(!H){const ft=$.data[0];Ft(!!ft);const _t=ft,Ht=(_t==null?void 0:_t.error)||((Tt=_t[0])===null||Tt===void 0?void 0:Tt.error);if(Ht){nt(Ge,`RPC '${t}' stream ${o} received error:`,Ht);const yt=Ht.status;let Ct=function(S){const I=pe[S];if(I!==void 0)return A0(I)}(yt),M=Ht.message;Ct===void 0&&(Ct=K.INTERNAL,M="Unknown error status: "+yt+" with message "+Ht.message),H=!0,X.Ko(new rt(Ct,M)),C.close()}else nt(Ge,`RPC '${t}' stream ${o} received:`,ft),X.Uo(ft)}}),Z(p,HE.STAT_EVENT,$=>{$.stat===Fd.PROXY?nt(Ge,`RPC '${t}' stream ${o} detected buffering proxy`):$.stat===Fd.NOPROXY&&nt(Ge,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{X.$o()},0),X}}function Md(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(r){return new W1(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(t,n,s=1e3,o=1.5,c=6e4){this.Ti=t,this.timerId=n,this.Go=s,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&nt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="PersistentStream";class L0{constructor(t,n,s,o,c,f,p,g){this.Ti=t,this.n_=s,this.r_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new U0(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(Gi(n.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{t(()=>{const o=new rt(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(t,n){const s=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return nt(bv,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(nt(bv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YI extends L0{constructor(t,n,s,o,c,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=c}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=tI(this.serializer,t),s=function(c){if(!("targetChange"in c))return gt.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?gt.min():f.readTime?ci(f.readTime):gt.min()}(t);return this.listener.p_(n,s)}y_(t){const n={};n.database=tm(this.serializer),n.addTarget=function(c,f){let p;const g=f.target;if(p=Yd(g)?{documents:iI(c,g)}:{query:rI(c,g).ht},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=w0(c,f.resumeToken);const _=Wd(c,f.expectedCount);_!==null&&(p.expectedCount=_)}else if(f.snapshotVersion.compareTo(gt.min())>0){p.readTime=Kc(c,f.snapshotVersion.toTimestamp());const _=Wd(c,f.expectedCount);_!==null&&(p.expectedCount=_)}return p}(this.serializer,t);const s=aI(this.serializer,t);s&&(n.labels=s),this.I_(n)}w_(t){const n={};n.database=tm(this.serializer),n.removeTarget=t,this.I_(n)}}class XI extends L0{constructor(t,n,s,o,c,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=c}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return Ft(!!t.streamToken),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Ft(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=nI(t.writeResults,t.commitTime),s=ci(t.commitTime);return this.listener.v_(s,n)}C_(){const t={};t.database=tm(this.serializer),this.I_(t)}S_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>eI(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{}class WI extends $I{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new rt(K.FAILED_PRECONDITION,"The client has already been terminated.")}bo(t,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.bo(t,Zd(n,s),o,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt(K.UNKNOWN,c.toString())})}Co(t,n,s,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Co(t,Zd(n,s),o,f,p,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new rt(K.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class ZI{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Gi(n),this.N_=!1):nt("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="RemoteStore";class JI{constructor(t,n,s,o,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(f=>{s.enqueueAndForget(async()=>{Fs(this)&&(nt(Bs,"Restarting streams for network reachability change."),await async function(g){const _=Et(g);_.W_.add(4),await ql(_),_.j_.set("Unknown"),_.W_.delete(4),await dh(_)}(this))})}),this.j_=new ZI(s,o)}}async function dh(r){if(Fs(r))for(const t of r.G_)await t(!0)}async function ql(r){for(const t of r.G_)await t(!1)}function x0(r,t){const n=Et(r);n.U_.has(t.targetId)||(n.U_.set(t.targetId,t),Bm(n)?zm(n):io(n).c_()&&xm(n,t))}function Lm(r,t){const n=Et(r),s=io(n);n.U_.delete(t),s.c_()&&z0(n,t),n.U_.size===0&&(s.c_()?s.P_():Fs(n)&&n.j_.set("Unknown"))}function xm(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(gt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}io(r).y_(t)}function z0(r,t){r.H_.Ne(t),io(r).w_(t)}function zm(r){r.H_=new Q1({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.U_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),io(r).start(),r.j_.B_()}function Bm(r){return Fs(r)&&!io(r).u_()&&r.U_.size>0}function Fs(r){return Et(r).W_.size===0}function B0(r){r.H_=void 0}async function tC(r){r.j_.set("Online")}async function eC(r){r.U_.forEach((t,n)=>{xm(r,t)})}async function nC(r,t){B0(r),Bm(r)?(r.j_.q_(t),zm(r)):r.j_.set("Unknown")}async function iC(r,t,n){if(r.j_.set("Online"),t instanceof b0&&t.state===2&&t.cause)try{await async function(o,c){const f=c.cause;for(const p of c.targetIds)o.U_.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.U_.delete(p),o.H_.removeTarget(p))}(r,t)}catch(s){nt(Bs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Yc(r,s)}else if(t instanceof Oc?r.H_.We(t):t instanceof S0?r.H_.Ze(t):r.H_.je(t),!n.isEqual(gt.min()))try{const s=await k0(r.localStore);n.compareTo(s)>=0&&await function(c,f){const p=c.H_.ot(f);return p.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const A=c.U_.get(_);A&&c.U_.set(_,A.withResumeToken(g.resumeToken,f))}}),p.targetMismatches.forEach((g,_)=>{const A=c.U_.get(g);if(!A)return;c.U_.set(g,A.withResumeToken(He.EMPTY_BYTE_STRING,A.snapshotVersion)),z0(c,g);const C=new Lr(A.target,g,_,A.sequenceNumber);xm(c,C)}),c.remoteSyncer.applyRemoteEvent(p)}(r,n)}catch(s){nt(Bs,"Failed to raise snapshot:",s),await Yc(r,s)}}async function Yc(r,t,n){if(!no(t))throw t;r.W_.add(1),await ql(r),r.j_.set("Offline"),n||(n=()=>k0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{nt(Bs,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await dh(r)})}function H0(r,t){return t().catch(n=>Yc(r,n,t))}async function mh(r){const t=Et(r),n=Yr(t);let s=t.K_.length>0?t.K_[t.K_.length-1].batchId:Sm;for(;rC(t);)try{const o=await zI(t.localStore,s);if(o===null){t.K_.length===0&&n.P_();break}s=o.batchId,sC(t,o)}catch(o){await Yc(t,o)}q0(t)&&j0(t)}function rC(r){return Fs(r)&&r.K_.length<10}function sC(r,t){r.K_.push(t);const n=Yr(r);n.c_()&&n.b_&&n.S_(t.mutations)}function q0(r){return Fs(r)&&!Yr(r).u_()&&r.K_.length>0}function j0(r){Yr(r).start()}async function aC(r){Yr(r).C_()}async function oC(r){const t=Yr(r);for(const n of r.K_)t.S_(n.mutations)}async function lC(r,t,n){const s=r.K_.shift(),o=Om.from(s,t,n);await H0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await mh(r)}async function uC(r,t){t&&Yr(r).b_&&await async function(s,o){if(function(f){return F1(f)&&f!==K.ABORTED}(o.code)){const c=s.K_.shift();Yr(s).h_(),await H0(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await mh(s)}}(r,t),q0(r)&&j0(r)}async function wv(r,t){const n=Et(r);n.asyncQueue.verifyOperationInProgress(),nt(Bs,"RemoteStore received new credentials");const s=Fs(n);n.W_.add(3),await ql(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await dh(n)}async function cC(r,t){const n=Et(r);t?(n.W_.delete(2),await dh(n)):t||(n.W_.add(2),await ql(n),n.j_.set("Unknown"))}function io(r){return r.J_||(r.J_=function(n,s,o){const c=Et(n);return c.M_(),new YI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:tC.bind(null,r),No:eC.bind(null,r),Lo:nC.bind(null,r),p_:iC.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),Bm(r)?zm(r):r.j_.set("Unknown")):(await r.J_.stop(),B0(r))})),r.J_}function Yr(r){return r.Y_||(r.Y_=function(n,s,o){const c=Et(n);return c.M_(),new XI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:aC.bind(null,r),Lo:uC.bind(null,r),D_:oC.bind(null,r),v_:lC.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await mh(r)):(await r.Y_.stop(),r.K_.length>0&&(nt(Bs,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t,n,s,o,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,c){const f=Date.now()+s,p=new Hm(t,n,f,o,c);return p.start(s),p}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qm(r,t){if(Gi("AsyncQueue",`${t}: ${r}`),no(r))return new rt(K.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{static emptySet(t){return new ja(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||ut.comparator(n.key,s.key):(n,s)=>ut.comparator(n.key,s.key),this.keyedMap=_l(),this.sortedSet=new ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ja)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new ja;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(){this.Z_=new ee(ut.comparator)}track(t){const n=t.doc.key,s=this.Z_.get(n);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(n):t.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):mt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,s)=>{t.push(s)}),t}}class $a{constructor(t,n,s,o,c,f,p,g,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,o,c){const f=[];return n.forEach(p=>{f.push({type:0,doc:p})}),new $a(t,n,ja.emptySet(n),f,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&oh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class fC{constructor(){this.queries=Iv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Et(n),c=o.queries;o.queries=Iv(),c.forEach((f,p)=>{for(const g of p.ta)g.onError(s)})})(this,new rt(K.ABORTED,"Firestore shutting down"))}}function Iv(){return new js(r=>c0(r),oh)}async function dC(r,t){const n=Et(r);let s=3;const o=t.query;let c=n.queries.get(o);c?!c.na()&&t.ra()&&(s=2):(c=new hC,s=t.ra()?0:1);try{switch(s){case 0:c.ea=await n.onListen(o,!0);break;case 1:c.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=qm(f,`Initialization of query '${Ua(t.query)}' failed`);return void t.onError(p)}n.queries.set(o,c),c.ta.push(t),t.sa(n.onlineState),c.ea&&t.oa(c.ea)&&jm(n)}async function mC(r,t){const n=Et(r),s=t.query;let o=3;const c=n.queries.get(s);if(c){const f=c.ta.indexOf(t);f>=0&&(c.ta.splice(f,1),c.ta.length===0?o=t.ra()?0:1:!c.na()&&t.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function pC(r,t){const n=Et(r);let s=!1;for(const o of t){const c=o.query,f=n.queries.get(c);if(f){for(const p of f.ta)p.oa(o)&&(s=!0);f.ea=o}}s&&jm(n)}function gC(r,t,n){const s=Et(r),o=s.queries.get(t);if(o)for(const c of o.ta)c.onError(n);s.queries.delete(t)}function jm(r){r.ia.forEach(t=>{t.next()})}var im,Cv;(Cv=im||(im={}))._a="default",Cv.Cache="cache";class _C{constructor(t,n,s){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new $a(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=$a.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==im.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(t){this.key=t}}class G0{constructor(t){this.key=t}}class yC{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ot(),this.mutatedKeys=Ot(),this.ya=h0(t),this.wa=new ja(this.ya)}get ba(){return this.fa}Sa(t,n){const s=n?n.Da:new Rv,o=n?n.wa:this.wa;let c=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((A,C)=>{const k=o.get(A),H=lh(this.query,C)?C:null,X=!!k&&this.mutatedKeys.has(k.key),Z=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let $=!1;k&&H?k.data.isEqual(H.data)?X!==Z&&(s.track({type:3,doc:H}),$=!0):this.va(k,H)||(s.track({type:2,doc:H}),$=!0,(g&&this.ya(H,g)>0||_&&this.ya(H,_)<0)&&(p=!0)):!k&&H?(s.track({type:0,doc:H}),$=!0):k&&!H&&(s.track({type:1,doc:k}),$=!0,(g||_)&&(p=!0)),$&&(H?(f=f.add(H),c=Z?c.add(A):c.delete(A)):(f=f.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const A=this.query.limitType==="F"?f.last():f.first();f=f.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{wa:f,Da:s,ls:p,mutatedKeys:c}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const c=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const f=t.Da.X_();f.sort((A,C)=>function(H,X){const Z=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return Z(H)-Z(X)}(A.type,C.type)||this.ya(A.doc,C.doc)),this.Ca(s),o=o!=null&&o;const p=n&&!o?this.Fa():[],g=this.pa.size===0&&this.current&&!o?1:0,_=g!==this.ga;return this.ga=g,f.length!==0||_?{snapshot:new $a(this.query,t.wa,c,f,t.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Rv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Ot(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return t.forEach(s=>{this.pa.has(s)||n.push(new G0(s))}),this.pa.forEach(s=>{t.has(s)||n.push(new F0(s))}),n}Oa(t){this.fa=t.gs,this.pa=Ot();const n=this.Sa(t.documents);return this.applyChanges(n,!0)}Na(){return $a.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Fm="SyncEngine";class vC{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class EC{constructor(t){this.key=t,this.Ba=!1}}class TC{constructor(t,n,s,o,c,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new js(p=>c0(p),oh),this.qa=new Map,this.Qa=new Set,this.$a=new ee(ut.comparator),this.Ka=new Map,this.Ua=new Mm,this.Wa={},this.Ga=new Map,this.za=Xa.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function AC(r,t,n=!0){const s=W0(r);let o;const c=s.ka.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await K0(s,t,n,!0),o}async function SC(r,t){const n=W0(r);await K0(n,t,!0,!1)}async function K0(r,t,n,s){const o=await BI(r.localStore,ui(t)),c=o.targetId,f=r.sharedClientState.addLocalQueryTarget(c,n);let p;return s&&(p=await bC(r,t,c,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&x0(r.remoteStore,o),p}async function bC(r,t,n,s,o){r.Ha=(C,k,H)=>async function(Z,$,Tt,ft){let _t=$.view.Sa(Tt);_t.ls&&(_t=await Ev(Z.localStore,$.query,!1).then(({documents:M})=>$.view.Sa(M,_t)));const Ht=ft&&ft.targetChanges.get($.targetId),yt=ft&&ft.targetMismatches.get($.targetId)!=null,Ct=$.view.applyChanges(_t,Z.isPrimaryClient,Ht,yt);return Ov(Z,$.targetId,Ct.Ma),Ct.snapshot}(r,C,k,H);const c=await Ev(r.localStore,t,!0),f=new yC(t,c.gs),p=f.Sa(c.documents),g=Hl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),_=f.applyChanges(p,r.isPrimaryClient,g);Ov(r,n,_.Ma);const A=new vC(t,n,f);return r.ka.set(t,A),r.qa.has(n)?r.qa.get(n).push(t):r.qa.set(n,[t]),_.snapshot}async function wC(r,t,n){const s=Et(r),o=s.ka.get(t),c=s.qa.get(o.targetId);if(c.length>1)return s.qa.set(o.targetId,c.filter(f=>!oh(f,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await em(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Lm(s.remoteStore,o.targetId),rm(s,o.targetId)}).catch(eo)):(rm(s,o.targetId),await em(s.localStore,o.targetId,!0))}async function RC(r,t){const n=Et(r),s=n.ka.get(t),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Lm(n.remoteStore,s.targetId))}async function IC(r,t,n){const s=PC(r);try{const o=await function(f,p){const g=Et(f),_=be.now(),A=p.reduce((H,X)=>H.add(X.key),Ot());let C,k;return g.persistence.runTransaction("Locally write mutations","readwrite",H=>{let X=Ki(),Z=Ot();return g.ds.getEntries(H,A).next($=>{X=$,X.forEach((Tt,ft)=>{ft.isValidDocument()||(Z=Z.add(Tt))})}).next(()=>g.localDocuments.getOverlayedDocuments(H,X)).next($=>{C=$;const Tt=[];for(const ft of p){const _t=z1(ft,C.get(ft.key).overlayedDocument);_t!=null&&Tt.push(new Jr(ft.key,_t,e0(_t.value.mapValue),Hn.exists(!0)))}return g.mutationQueue.addMutationBatch(H,_,Tt,p)}).next($=>{k=$;const Tt=$.applyToLocalDocumentSet(C,Z);return g.documentOverlayCache.saveOverlays(H,$.batchId,Tt)})}).then(()=>({batchId:k.batchId,changes:d0(C)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,p,g){let _=f.Wa[f.currentUser.toKey()];_||(_=new ee(Vt)),_=_.insert(p,g),f.Wa[f.currentUser.toKey()]=_}(s,o.batchId,n),await jl(s,o.changes),await mh(s.remoteStore)}catch(o){const c=qm(o,"Failed to persist write");n.reject(c)}}async function Q0(r,t){const n=Et(r);try{const s=await LI(n.localStore,t);t.targetChanges.forEach((o,c)=>{const f=n.Ka.get(c);f&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Ft(f.Ba):o.removedDocuments.size>0&&(Ft(f.Ba),f.Ba=!1))}),await jl(n,s,t)}catch(s){await eo(s)}}function Dv(r,t,n){const s=Et(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((c,f)=>{const p=f.view.sa(t);p.snapshot&&o.push(p.snapshot)}),function(f,p){const g=Et(f);g.onlineState=p;let _=!1;g.queries.forEach((A,C)=>{for(const k of C.ta)k.sa(p)&&(_=!0)}),_&&jm(g)}(s.eventManager,t),o.length&&s.La.p_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function CC(r,t,n){const s=Et(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Ka.get(t),c=o&&o.key;if(c){let f=new ee(ut.comparator);f=f.insert(c,Qe.newNoDocument(c,gt.min()));const p=Ot().add(c),g=new hh(gt.min(),new Map,new ee(Vt),f,p);await Q0(s,g),s.$a=s.$a.remove(c),s.Ka.delete(t),Gm(s)}else await em(s.localStore,t,!1).then(()=>rm(s,t,n)).catch(eo)}async function DC(r,t){const n=Et(r),s=t.batch.batchId;try{const o=await UI(n.localStore,t);X0(n,s,null),Y0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await jl(n,o)}catch(o){await eo(o)}}async function OC(r,t,n){const s=Et(r);try{const o=await function(f,p){const g=Et(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return g.mutationQueue.lookupMutationBatch(_,p).next(C=>(Ft(C!==null),A=C.keys(),g.mutationQueue.removeMutationBatch(_,C))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,A,p)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>g.localDocuments.getDocuments(_,A))})}(s.localStore,t);X0(s,t,n),Y0(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await jl(s,o)}catch(o){await eo(o)}}function Y0(r,t){(r.Ga.get(t)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(t)}function X0(r,t,n){const s=Et(r);let o=s.Wa[s.currentUser.toKey()];if(o){const c=o.get(t);c&&(n?c.reject(n):c.resolve(),o=o.remove(t)),s.Wa[s.currentUser.toKey()]=o}}function rm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.qa.get(t))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(t),r.isPrimaryClient&&r.Ua.Sr(t).forEach(s=>{r.Ua.containsKey(s)||$0(r,s)})}function $0(r,t){r.Qa.delete(t.path.canonicalString());const n=r.$a.get(t);n!==null&&(Lm(r.remoteStore,n),r.$a=r.$a.remove(t),r.Ka.delete(n),Gm(r))}function Ov(r,t,n){for(const s of n)s instanceof F0?(r.Ua.addReference(s.key,t),NC(r,s)):s instanceof G0?(nt(Fm,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,t),r.Ua.containsKey(s.key)||$0(r,s.key)):mt()}function NC(r,t){const n=t.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(nt(Fm,"New document in limbo: "+n),r.Qa.add(s),Gm(r))}function Gm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const n=new ut(Wt.fromString(t)),s=r.za.next();r.Ka.set(s,new EC(n)),r.$a=r.$a.insert(n,s),x0(r.remoteStore,new Lr(ui(l0(n.path)),s,"TargetPurposeLimboResolution",rh.ae))}}async function jl(r,t,n){const s=Et(r),o=[],c=[],f=[];s.ka.isEmpty()||(s.ka.forEach((p,g)=>{f.push(s.Ha(g,t,n).then(_=>{var A;if((_||n)&&s.isPrimaryClient){const C=_?!_.fromCache:(A=n==null?void 0:n.targetChanges.get(g.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(g.targetId,C?"current":"not-current")}if(_){o.push(_);const C=km.Yi(g.targetId,_);c.push(C)}}))}),await Promise.all(f),s.La.p_(o),await async function(g,_){const A=Et(g);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>G.forEach(_,k=>G.forEach(k.Hi,H=>A.persistence.referenceDelegate.addReference(C,k.targetId,H)).next(()=>G.forEach(k.Ji,H=>A.persistence.referenceDelegate.removeReference(C,k.targetId,H)))))}catch(C){if(!no(C))throw C;nt(Um,"Failed to update sequence numbers: "+C)}for(const C of _){const k=C.targetId;if(!C.fromCache){const H=A.Ts.get(k),X=H.snapshotVersion,Z=H.withLastLimboFreeSnapshotVersion(X);A.Ts=A.Ts.insert(k,Z)}}}(s.localStore,c))}async function VC(r,t){const n=Et(r);if(!n.currentUser.isEqual(t)){nt(Fm,"User change. New user:",t.toKey());const s=await P0(n.localStore,t);n.currentUser=t,function(c,f){c.Ga.forEach(p=>{p.forEach(g=>{g.reject(new rt(K.CANCELLED,f))})}),c.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await jl(n,s.Rs)}}function MC(r,t){const n=Et(r),s=n.Ka.get(t);if(s&&s.Ba)return Ot().add(s.key);{let o=Ot();const c=n.qa.get(t);if(!c)return o;for(const f of c){const p=n.ka.get(f);o=o.unionWith(p.view.ba)}return o}}function W0(r){const t=Et(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=Q0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=MC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CC.bind(null,t),t.La.p_=pC.bind(null,t.eventManager),t.La.Ja=gC.bind(null,t.eventManager),t}function PC(r){const t=Et(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=DC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=OC.bind(null,t),t}class Xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=fh(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return kI(this.persistence,new VI,t.initialUser,this.serializer)}Xa(t){return new M0(Pm.ri,this.serializer)}Za(t){return new qI}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xc.provider={build:()=>new Xc};class kC extends Xc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){Ft(this.persistence.referenceDelegate instanceof Qc);const s=this.persistence.referenceDelegate.garbageCollector;return new _I(s,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new M0(s=>Qc.ri(s,n),this.serializer)}}class sm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Dv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=VC.bind(null,this.syncEngine),await cC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new fC}()}createDatastore(t){const n=fh(t.databaseInfo.databaseId),s=function(c){return new QI(c)}(t.databaseInfo);return function(c,f,p,g){return new WI(c,f,p,g)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,c,f,p){return new JI(s,o,c,f,p)}(this.localStore,this.datastore,t.asyncQueue,n=>Dv(this.syncEngine,n,0),function(){return Sv.D()?new Sv:new jI}())}createSyncEngine(t,n){return function(o,c,f,p,g,_,A){const C=new TC(o,c,f,p,g,_);return A&&(C.ja=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const c=Et(o);nt(Bs,"RemoteStore shutting down."),c.W_.add(5),await ql(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}sm.provider={build:()=>new sm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Gi("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="FirestoreClient";class LC{constructor(t,n,s,o,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=GE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{nt(Xr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(nt(Xr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=qm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Pd(r,t){r.asyncQueue.verifyOperationInProgress(),nt(Xr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await P0(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function Nv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await xC(r);nt(Xr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>wv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>wv(t.remoteStore,o)),r._onlineComponents=t}async function xC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){nt(Xr,"Using user provided OfflineComponentProvider");try{await Pd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ga("Error using user provided cache. Falling back to memory cache: "+n),await Pd(r,new Xc)}}else nt(Xr,"Using default OfflineComponentProvider"),await Pd(r,new kC(void 0));return r._offlineComponents}async function Z0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(nt(Xr,"Using user provided OnlineComponentProvider"),await Nv(r,r._uninitializedComponentsProvider._online)):(nt(Xr,"Using default OnlineComponentProvider"),await Nv(r,new sm))),r._onlineComponents}function zC(r){return Z0(r).then(t=>t.syncEngine)}async function BC(r){const t=await Z0(r),n=t.eventManager;return n.onListen=AC.bind(null,t.syncEngine),n.onUnlisten=wC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=SC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=RC.bind(null,t.syncEngine),n}function HC(r,t,n={}){const s=new qr;return r.asyncQueue.enqueueAndForget(async()=>function(c,f,p,g,_){const A=new UC({next:k=>{A.su(),f.enqueueAndForget(()=>mC(c,C)),k.fromCache&&g.source==="server"?_.reject(new rt(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(k)},error:k=>_.reject(k)}),C=new _C(p,A,{includeMetadataChanges:!0,Ta:!0});return dC(c,C)}(await BC(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(r,t,n){if(!n)throw new rt(K.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function qC(r,t,n,s){if(t===!0&&s===!0)throw new rt(K.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Mv(r){if(!ut.isDocumentKey(r))throw new rt(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Pv(r){if(ut.isDocumentKey(r))throw new rt(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ph(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":mt()}function Hs(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new rt(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ph(r);throw new rt(K.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="firestore.googleapis.com",kv=!0;class Uv{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new rt(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eT,this.ssl=kv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:kv;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=V0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<pI)throw new rt(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}qC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=J0((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class gh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new KR;switch(s.type){case"firstParty":return new $R(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new rt(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Vv.get(n);s&&(nt("ComponentProvider","Removing Datastore"),Vv.delete(n),s.terminate())}(this),Promise.resolve()}}function jC(r,t,n,s={}){var o;const c=(r=Hs(r,gh))._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;c.host!==eT&&c.host!==p&&Ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:p,ssl:!1,emulatorOptions:s});if(!ks(g,f)&&(r._setSettings(g),s.mockUserToken)){let _,A;if(typeof s.mockUserToken=="string")_=s.mockUserToken,A=Ke.MOCK_USER;else{_=sS(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new rt(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ke(C)}r._authCredentials=new QR(new FE(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ro(this.firestore,t,this._query)}}class gn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new gn(this.firestore,t,this._key)}}class jr extends ro{constructor(t,n,s){super(t,n,l0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new gn(this.firestore,null,new ut(t))}withConverter(t){return new jr(this.firestore,t,this._path)}}function Lv(r,t,...n){if(r=Pe(r),tT("collection","path",t),r instanceof gh){const s=Wt.fromString(t,...n);return Pv(s),new jr(r,null,s)}{if(!(r instanceof gn||r instanceof jr))throw new rt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(t,...n));return Pv(s),new jr(r.firestore,null,s)}}function am(r,t,...n){if(r=Pe(r),arguments.length===1&&(t=GE.newId()),tT("doc","path",t),r instanceof gh){const s=Wt.fromString(t,...n);return Mv(s),new gn(r,null,new ut(s))}{if(!(r instanceof gn||r instanceof jr))throw new rt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(t,...n));return Mv(s),new gn(r.firestore,r instanceof jr?r.converter:null,new ut(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="AsyncQueue";class zv{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new U0(this,"async_queue_retry"),this.bu=()=>{const s=Md();s&&nt(xv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=t;const n=Md();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Md();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new qr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!no(t))throw t;nt(xv,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.Su.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let p=f.message||"";return f.stack&&(p=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),p}(s);throw Gi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(t,n,s){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const o=Hm.createAndSchedule(this,t,n,s,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&mt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.Su,await t;while(t!==this.Su)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class Fl extends gh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new zv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new zv(t),this._firestoreClient=void 0,await t}}}function FC(r,t){const n=typeof r=="object"?r:tE(),s=typeof r=="string"?r:Bc,o=fm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=iS("firestore");c&&jC(o,...c)}return o}function nT(r){if(r._terminated)throw new rt(K.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||GC(r),r._firestoreClient}function GC(r){var t,n,s;const o=r._freezeSettings(),c=function(p,g,_,A){return new c1(p,g,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,J0(A.experimentalLongPollingOptions),A.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new LC(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Wa(He.fromBase64String(t))}catch(n){throw new rt(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Wa(He.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new rt(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new rt(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new rt(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=/^__.*__$/;class QC{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Jr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Bl(t,this.data,n,this.fieldTransforms)}}class iT{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Jr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function rT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class Xm{constructor(t,n,s,o,c,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Xm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:s,Qu:!1});return o.$u(t),o}Ku(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return $c(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(rT(this.Lu)&&KC.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class YC{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||fh(t)}ju(t,n,s,o=!1){return new Xm({Lu:t,methodName:n,zu:s,path:Be.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $m(r){const t=r._freezeSettings(),n=fh(r._databaseId);return new YC(r._databaseId,!!t.ignoreUndefinedProperties,n)}function XC(r,t,n,s,o,c={}){const f=r.ju(c.merge||c.mergeFields?2:0,t,n,o);Wm("Data must be an object, but it was:",f,s);const p=sT(s,f);let g,_;if(c.merge)g=new pn(f.fieldMask),_=f.fieldTransforms;else if(c.mergeFields){const A=[];for(const C of c.mergeFields){const k=om(t,C,n);if(!f.contains(k))throw new rt(K.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);oT(A,k)||A.push(k)}g=new pn(A),_=f.fieldTransforms.filter(C=>g.covers(C.field))}else g=null,_=f.fieldTransforms;return new QC(new an(p),g,_)}class yh extends Km{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof yh}}function $C(r,t,n,s){const o=r.ju(1,t,n);Wm("Data must be an object, but it was:",o,s);const c=[],f=an.empty();Zr(s,(g,_)=>{const A=Zm(t,g,n);_=Pe(_);const C=o.Ku(A);if(_ instanceof yh)c.push(A);else{const k=Gl(_,C);k!=null&&(c.push(A),f.set(A,k))}});const p=new pn(c);return new iT(f,p,o.fieldTransforms)}function WC(r,t,n,s,o,c){const f=r.ju(1,t,n),p=[om(t,s,n)],g=[o];if(c.length%2!=0)throw new rt(K.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<c.length;k+=2)p.push(om(t,c[k])),g.push(c[k+1]);const _=[],A=an.empty();for(let k=p.length-1;k>=0;--k)if(!oT(_,p[k])){const H=p[k];let X=g[k];X=Pe(X);const Z=f.Ku(H);if(X instanceof yh)_.push(H);else{const $=Gl(X,Z);$!=null&&(_.push(H),A.set(H,$))}}const C=new pn(_);return new iT(A,C,f.fieldTransforms)}function ZC(r,t,n,s=!1){return Gl(n,r.ju(s?4:3,t))}function Gl(r,t){if(aT(r=Pe(r)))return Wm("Unsupported field value:",t,r),sT(r,t);if(r instanceof Km)return function(s,o){if(!rT(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,o){const c=[];let f=0;for(const p of s){let g=Gl(p,o.Uu(f));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),f++}return{arrayValue:{values:c}}}(r,t)}return function(s,o){if((s=Pe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return M1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=be.fromDate(s);return{timestampValue:Kc(o.serializer,c)}}if(s instanceof be){const c=new be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Kc(o.serializer,c)}}if(s instanceof Qm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Wa)return{bytesValue:w0(o.serializer,s._byteString)};if(s instanceof gn){const c=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Vm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ym)return function(f,p){return{mapValue:{fields:{[JE]:{stringValue:t0},[Hc]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw p.Wu("VectorValues must only contain numeric values.");return Cm(p.serializer,_)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${ph(s)}`)}(r,t)}function sT(r,t){const n={};return QE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zr(r,(s,o)=>{const c=Gl(o,t.qu(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function aT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof be||r instanceof Qm||r instanceof Wa||r instanceof gn||r instanceof Km||r instanceof Ym)}function Wm(r,t,n){if(!aT(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=ph(n);throw s==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+s)}}function om(r,t,n){if((t=Pe(t))instanceof _h)return t._internalPath;if(typeof t=="string")return Zm(r,t);throw $c("Field path arguments must be of type string or ",r,!1,void 0,n)}const JC=new RegExp("[~\\*/\\[\\]]");function Zm(r,t,n){if(t.search(JC)>=0)throw $c(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new _h(...t.split("."))._internalPath}catch{throw $c(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function $c(r,t,n,s,o){const c=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||f)&&(g+=" (found",c&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new rt(K.INVALID_ARGUMENT,p+r+g)}function oT(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(t,n,s,o,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new t2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(uT("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class t2 extends lT{data(){return super.data()}}function uT(r,t){return typeof t=="string"?Zm(r,t):t instanceof _h?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new rt(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jm{}class n2 extends Jm{}function i2(r,t,...n){let s=[];t instanceof Jm&&s.push(t),s=s.concat(n),function(c){const f=c.filter(g=>g instanceof ep).length,p=c.filter(g=>g instanceof tp).length;if(f>1||f>0&&p>0)throw new rt(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class tp extends n2{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new tp(t,n,s)}_apply(t){const n=this._parse(t);return cT(t._query,n),new ro(t.firestore,t.converter,Xd(t._query,n))}_parse(t){const n=$m(t.firestore);return function(c,f,p,g,_,A,C){let k;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new rt(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Hv(C,A);const X=[];for(const Z of C)X.push(Bv(g,c,Z));k={arrayValue:{values:X}}}else k=Bv(g,c,C)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Hv(C,A),k=ZC(p,f,C,A==="in"||A==="not-in");return ge.create(_,A,k)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class ep extends Jm{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new ep(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:jn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,c){let f=o;const p=c.getFlattenedFilters();for(const g of p)cT(f,g),f=Xd(f,g)}(t._query,n),new ro(t.firestore,t.converter,Xd(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Bv(r,t,n){if(typeof(n=Pe(n))=="string"){if(n==="")throw new rt(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!u0(t)&&n.indexOf("/")!==-1)throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(Wt.fromString(n));if(!ut.isDocumentKey(s))throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ev(r,new ut(s))}if(n instanceof gn)return ev(r,n._key);throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ph(n)}.`)}function Hv(r,t){if(!Array.isArray(r)||r.length===0)throw new rt(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function cT(r,t){const n=function(o,c){for(const f of o)for(const p of f.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new rt(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class r2{convertValue(t,n="none"){switch(Qr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ue(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Kr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw mt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Zr(t,(o,c)=>{s[o]=this.convertValue(c,n)}),s}convertVectorValue(t){var n,s,o;const c=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Hc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>ue(f.doubleValue));return new Ym(c)}convertGeoPoint(t){return new Qm(ue(t.latitude),ue(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=ah(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Cl(t));default:return null}}convertTimestamp(t){const n=Gr(t);return new be(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Wt.fromString(t);Ft(N0(s));const o=new Dl(s.get(1),s.get(3)),c=new ut(s.popFirst(5));return o.isEqual(n)||Gi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class a2 extends lT{constructor(t,n,s,o,c,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(uT("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Nc extends a2{data(t={}){return super.data(t)}}class o2{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new vc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Nc(this._firestore,this._userDataWriter,s.key,s,new vc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rt(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(p=>{const g=new Nc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new vc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>c||p.type!==3).map(p=>{const g=new Nc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new vc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return p.type!==0&&(_=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),A=f.indexOf(p.doc.key)),{type:l2(p.type),doc:g,oldIndex:_,newIndex:A}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function l2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}class u2 extends r2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wa(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new gn(this.firestore,null,n)}}function c2(r){r=Hs(r,ro);const t=Hs(r.firestore,Fl),n=nT(t),s=new u2(t);return e2(r._query),HC(n,r._query).then(o=>new o2(t,s,r,o))}function h2(r,t,n,...s){r=Hs(r,gn);const o=Hs(r.firestore,Fl),c=$m(o);let f;return f=typeof(t=Pe(t))=="string"||t instanceof _h?WC(c,"updateDoc",r._key,t,n,s):$C(c,"updateDoc",r._key,t),np(o,[f.toMutation(r._key,Hn.exists(!0))])}function f2(r){return np(Hs(r.firestore,Fl),[new Dm(r._key,Hn.none())])}function d2(r,t){const n=Hs(r.firestore,Fl),s=am(r),o=s2(r.converter,t);return np(n,[XC($m(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Hn.exists(!1))]).then(()=>s)}function np(r,t){return function(s,o){const c=new qr;return s.asyncQueue.enqueueAndForget(async()=>IC(await zC(s),o,c)),c.promise}(nT(r),t)}(function(t,n=!0){(function(o){to=o})(Za),Fa(new Us("firestore",(s,{instanceIdentifier:o,options:c})=>{const f=s.getProvider("app").getImmediate(),p=new Fl(new YR(s.getProvider("auth-internal")),new WR(f,s.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new rt(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(_.options.projectId,A)}(f,o),f);return c=Object.assign({useFetchStreams:n},c),p._setSettings(c),p},"PUBLIC").setMultipleInstances(!0)),Br(Fy,Gy,t),Br(Fy,Gy,"esm2017")})();const m2={apiKey:"AIzaSyDRoxJru8MFxvDwZumHnBFCYwr8sDVYWG4",authDomain:"todoapp-8ccde.firebaseapp.com",projectId:"todoapp-8ccde",storageBucket:"todoapp-8ccde.firebasestorage.app",messagingSenderId:"854163882070",appId:"1:854163882070:web:e1edd042e0f15cf3e6fbf7",measurementId:"G-7W2R1LMSFY"},hT=Jv(m2),Wc=FR(hT),Ec=FC(hT),p2="_todoFormContainer_ezblm_1",g2={todoFormContainer:p2},_2="_buttons_1bcmu_1",y2={buttons:_2};function lm(r){const{children:t,title:n}=r;return pt.jsx("button",{...r,className:y2.buttons,title:n,children:t})}function v2({addTodo:r}){const[t,n]=mn.useState(""),s=o=>{o.preventDefault(),t.trim()!==""&&(r(t),n(""))};return pt.jsx("div",{className:g2.todoFormContainer,children:pt.jsxs("form",{onSubmit:s,children:[pt.jsx("input",{value:t,onChange:o=>n(o.target.value),placeholder:"Enter the todo"}),pt.jsx(lm,{type:"submit",title:"Submit",children:"Submit"})]})})}var fT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},qv=Ps.createContext&&Ps.createContext(fT),E2=["attr","size","title"];function T2(r,t){if(r==null)return{};var n=A2(r,t),s,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(r);for(o=0;o<c.length;o++)s=c[o],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function A2(r,t){if(r==null)return{};var n={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}function Zc(){return Zc=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Zc.apply(this,arguments)}function jv(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,s)}return n}function Jc(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jv(Object(n),!0).forEach(function(s){S2(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):jv(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function S2(r,t,n){return t=b2(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function b2(r){var t=w2(r,"string");return typeof t=="symbol"?t:t+""}function w2(r,t){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function dT(r){return r&&r.map((t,n)=>Ps.createElement(t.tag,Jc({key:n},t.attr),dT(t.child)))}function so(r){return t=>Ps.createElement(R2,Zc({attr:Jc({},r.attr)},t),dT(r.child))}function R2(r){var t=n=>{var{attr:s,size:o,title:c}=r,f=T2(r,E2),p=o||n.size||"1em",g;return n.className&&(g=n.className),r.className&&(g=(g?g+" ":"")+r.className),Ps.createElement("svg",Zc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:g,style:Jc(Jc({color:r.color||n.color},n.style),r.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),c&&Ps.createElement("title",null,c),r.children)};return qv!==void 0?Ps.createElement(qv.Consumer,null,n=>t(n)):t(fT)}function I2(r){return so({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 2H20C20.5523 2 21 2.44772 21 3V21C21 21.5523 20.5523 22 20 22H4C3.44772 22 3 21.5523 3 21V3C3 2.44772 3.44772 2 4 2H7V0H9V2H15V0H17V2ZM7 8V10H17V8H7ZM7 12V14H17V12H7Z"},child:[]}]})(r)}function C2(r){return so({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM18 8H6V20H18V8ZM13.4142 13.9997L15.182 15.7675L13.7678 17.1817L12 15.4139L10.2322 17.1817L8.81802 15.7675L10.5858 13.9997L8.81802 12.232L10.2322 10.8178L12 12.5855L13.7678 10.8178L15.182 12.232L13.4142 13.9997ZM9 4V6H15V4H9Z"},child:[]}]})(r)}function D2(r){return so({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5.46257 4.43262C7.21556 2.91688 9.5007 2 12 2C17.5228 2 22 6.47715 22 12C22 14.1361 21.3302 16.1158 20.1892 17.7406L17 12H20C20 7.58172 16.4183 4 12 4C9.84982 4 7.89777 4.84827 6.46023 6.22842L5.46257 4.43262ZM18.5374 19.5674C16.7844 21.0831 14.4993 22 12 22C6.47715 22 2 17.5228 2 12C2 9.86386 2.66979 7.88416 3.8108 6.25944L7 12H4C4 16.4183 7.58172 20 12 20C14.1502 20 16.1022 19.1517 17.5398 17.7716L18.5374 19.5674Z"},child:[]}]})(r)}function O2(r){return so({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5M8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5m3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0"},child:[]}]})(r)}function N2(r){return so({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13.5 2l-7.5 7.5-3.5-3.5-2.5 2.5 6 6 10-10z"},child:[]}]})(r)}function V2(r){return so({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M384 224v184a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V168a40 40 0 0 1 40-40h167.48"},child:[]},{tag:"path",attr:{d:"M459.94 53.25a16.06 16.06 0 0 0-23.22-.56L424.35 65a8 8 0 0 0 0 11.31l11.34 11.32a8 8 0 0 0 11.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90 218.82 270.2a9 9 0 0 0-2.31 3.93L208.16 299a3.91 3.91 0 0 0 4.86 4.86l24.85-8.35a9 9 0 0 0 3.93-2.31L422 112.66a9 9 0 0 0 0-12.66l-9.95-10a9 9 0 0 0-12.71 0z"},child:[]}]})(r)}const M2="_todo_2ulg9_1",P2="_todoText_2ulg9_14",k2="_todoIcon_2ulg9_21",U2="_completedTodo_2ulg9_26",L2="_date_2ulg9_31",x2="_trashFillIcon_2ulg9_35",z2="_checkIcon_2ulg9_36",Vr={todo:M2,todoText:P2,todoIcon:k2,completedTodo:U2,date:L2,trashFillIcon:x2,checkIcon:z2};function B2({todo:r,deleteTodo:t,toggleTodo:n}){const[s,o]=mn.useState(new Date().toLocaleDateString());return pt.jsxs("div",{className:`${Vr.todo} ${r.isCompleted?Vr.completedTodo:""}`,children:[pt.jsx(V2,{className:Vr.createdDateIcon}),pt.jsx("span",{className:Vr.date,children:s.slice(0,5)}),pt.jsx(I2,{className:Vr.todoIcon}),pt.jsx("div",{className:Vr.todoText,children:r.text}),pt.jsx(O2,{className:Vr.trashFillIcon,onClick:()=>t(r.id)}),pt.jsx(N2,{className:Vr.checkIcon,onClick:()=>n(r.id)})]})}const H2="_todoListContainer_1rlyi_1",q2="_completedTodos_1rlyi_9",Fv={todoListContainer:H2,completedTodos:q2};function j2({todos:r,deleteTodo:t,toggleTodo:n,countCompleted:s}){return pt.jsxs("div",{className:Fv.todoListContainer,children:[!r.length&&pt.jsx("h2",{children:"Todo list is empty..."}),r.map(o=>pt.jsx(B2,{todo:o,deleteTodo:t,toggleTodo:n},o.id)),pt.jsx("div",{className:Fv.completedTodos,children:s>0&&pt.jsx("h2",{children:`You have completed ${s} ${s>1?"todos":"todo"}`})})]})}function F2({todos:r,resetTodos:t,deleteCompletedTodos:n,completedTodosCount:s}){return!!r.length&&pt.jsxs(pt.Fragment,{children:[pt.jsx(lm,{title:"Reset Todos",children:D2(),onClick:t}),pt.jsx(lm,{title:"Delete Completed Todos",children:C2(),onClick:n,disabled:!s})]})}const G2="_clock_3jj2y_1",K2={clock:G2};function Q2(){const[r,t]=mn.useState(new Date);mn.useEffect(()=>{const s=setInterval(()=>{t(new Date)},1e3);return()=>{clearInterval(s)}},[]);const n=r.toLocaleTimeString();return pt.jsx("div",{children:pt.jsx("h1",{className:K2.clock,children:n})})}const Y2={};function X2(){const[r,t]=mn.useState(""),[n,s]=mn.useState(""),[o,c]=mn.useState(!1),f=async p=>{p.preventDefault();try{o?await Dw(Wc,r,n):await Cw(Wc,r,n)}catch(g){console.log(" :",g.message)}};return pt.jsxs("div",{className:Y2.login,children:[pt.jsx("h2",{children:o?"":""}),pt.jsxs("form",{onSubmit:f,children:[pt.jsx("input",{type:"email",value:r,onChange:p=>t(p.target.value),placeholder:"Email",required:!0}),pt.jsx("input",{type:"password",value:n,onChange:p=>s(p.target.value),required:!0,placeholder:"Password"}),pt.jsx("button",{type:"submit",children:o?"":""})]}),pt.jsx("button",{type:"submit",onClick:()=>c(!o),children:o?" ? ":" ? !"})]})}const $2="_app_1n0xy_1",W2="_authoried_1n0xy_7",Z2="_authoried__bar_1n0xy_14",J2="_authoried__button_1n0xy_19",Tc={app:$2,authoried:W2,authoried__bar:Z2,authoried__button:J2};function tD(){const[r,t]=mn.useState([]),[n,s]=mn.useState(""),[o,c]=mn.useState(null);mn.useEffect(()=>{const _=Vw(Wc,A=>{c(A),A?(async()=>{const k=i2(Lv(Ec,"users",A.uid,"todos")),X=(await c2(k)).docs.map(Z=>({id:Z.id,...Z.data()}));t(X)})():t([])});return()=>_()},[]);const f=async _=>{if(_.trim()&&o){const A={text:_,isCompleted:!1,userId:o.uid};try{const C=await d2(Lv(Ec,"users",o.uid,"todos"),A);t(k=>[...k,{id:C.id,...A}]),s("")}catch(C){console.error("Error adding document: ",C)}}},p=async _=>{try{await f2(am(Ec,"users",o.uid,"todos",_)),t(r.filter(A=>A.id!==_))}catch(A){console.error("Error deleting todo: ",A)}},g=async _=>{const A=r.find(H=>H.id===_),C={...A,isCompleted:!A.isCompleted},k=am(Ec,"users",o.uid,"todos",_);await h2(k,C),t(r.map(H=>H.id===_?C:H))};return pt.jsx("div",{className:Tc.app,children:o?pt.jsxs(pt.Fragment,{children:[pt.jsxs("div",{className:Tc.authoried,children:[pt.jsx(Q2,{}),pt.jsxs("div",{className:Tc.authoried__bar,children:[pt.jsx("h2",{children:o.email}),pt.jsx("button",{className:Tc.authoried__button,onClick:()=>Mw(Wc),children:""})]})]}),pt.jsx("h1",{children:"Todo App List"}),pt.jsx(v2,{addTodo:f}),pt.jsx(F2,{todos:r,resetTodos:()=>t([]),deleteCompletedTodos:()=>t(r.filter(_=>!_.isCompleted)),completedTodosCount:r.filter(_=>_.isCompleted).length}),pt.jsx(j2,{todos:r,deleteTodo:p,toggleTodo:g,countCompleted:r.filter(_=>_.isCompleted).length})]}):pt.jsx(X2,{})})}YA.createRoot(document.getElementById("root")).render(pt.jsx(mn.StrictMode,{children:pt.jsx(tD,{})}));
